{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@stimulus/core/dist/src/event_listener.js","webpack:///./node_modules/@stimulus/core/dist/src/dispatcher.js","webpack:///./node_modules/@stimulus/core/dist/src/action_descriptor.js","webpack:///./node_modules/@stimulus/core/dist/src/action.js","webpack:///./node_modules/@stimulus/core/dist/src/binding.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/element_observer.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/attribute_observer.js","webpack:///./node_modules/@stimulus/multimap/dist/src/set_operations.js","webpack:///./node_modules/@stimulus/multimap/dist/src/multimap.js","webpack:///./node_modules/@stimulus/multimap/dist/src/indexed_multimap.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/token_list_observer.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/value_list_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/binding_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/context.js","webpack:///./node_modules/@stimulus/core/dist/src/definition.js","webpack:///./node_modules/@stimulus/core/dist/src/module.js","webpack:///./node_modules/@stimulus/core/dist/src/data_map.js","webpack:///./node_modules/@stimulus/core/dist/src/selectors.js","webpack:///./node_modules/@stimulus/core/dist/src/target_set.js","webpack:///./node_modules/@stimulus/core/dist/src/scope.js","webpack:///./node_modules/@stimulus/core/dist/src/scope_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/router.js","webpack:///./node_modules/@stimulus/core/dist/src/schema.js","webpack:///./node_modules/@stimulus/core/dist/src/application.js","webpack:///./node_modules/@stimulus/core/dist/src/target_properties.js","webpack:///./node_modules/@stimulus/core/dist/src/controller.js","webpack:///./node_modules/stimulus/index.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/fizzy-ui-utils/utils.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/get-size/get-size.js","webpack:///./node_modules/flickity/js/flickity.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/ev-emitter/ev-emitter.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/outlayer/outlayer.js","webpack:///./node_modules/isotope-layout/js/layout-mode.js","webpack:///./node_modules/isotope-layout/js/isotope.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/unipointer/unipointer.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/desandro-matches-selector/matches-selector.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/core-js/internals/bind-context.js","webpack:///./node_modules/core-js/internals/task.js","webpack:///./node_modules/core-js/internals/is-ios.js","webpack:///./node_modules/core-js/internals/user-agent.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/turbolinks/dist/turbolinks.js","webpack:///./node_modules/handorgel/lib/js/esm/handorgel.js","webpack:///./node_modules/google-maps/lib/index.js","webpack:///./node_modules/flickity/js/index.js","webpack:///./node_modules/lazysizes/lazysizes.js","webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./app/js/controllers sync \\.js$","webpack:///./app/js/controllers/faq_controller.js","webpack:///./app/js/controllers/map_controller.js","webpack:///./node_modules/google-maps/lib/loader.js","webpack:///./app/js/controllers/menu_controller.js","webpack:///./app/js/controllers/multipleEvents_controller.js","webpack:///./node_modules/outlayer/item.js","webpack:///./node_modules/isotope-layout/js/item.js","webpack:///./node_modules/isotope-layout/js/layout-modes/masonry.js","webpack:///./node_modules/masonry-layout/masonry.js","webpack:///./node_modules/isotope-layout/js/layout-modes/fit-rows.js","webpack:///./node_modules/isotope-layout/js/layout-modes/vertical.js","webpack:///./app/js/controllers/newsSlider_controller.js","webpack:///./node_modules/flickity/js/cell.js","webpack:///./node_modules/flickity/js/slide.js","webpack:///./node_modules/flickity/js/animate.js","webpack:///./node_modules/flickity/js/drag.js","webpack:///./node_modules/unidragger/unidragger.js","webpack:///./node_modules/flickity/js/prev-next-button.js","webpack:///./node_modules/flickity/js/page-dots.js","webpack:///./node_modules/flickity/js/player.js","webpack:///./node_modules/flickity/js/add-remove-cell.js","webpack:///./node_modules/flickity/js/lazyload.js","webpack:///./app/js/controllers/popUp_controller.js","webpack:///./app/js/controllers/programmeGrid_controller.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./app/js/controllers/timeTable_controller.js","webpack:///./node_modules/core-js/modules/es.promise.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js","webpack:///./node_modules/core-js/internals/redefine-all.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/core-js/internals/set-species.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/classof.js","webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/microtask.js","webpack:///./node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/core-js/internals/host-report-errors.js","webpack:///./node_modules/core-js/internals/perform.js","webpack:///./node_modules/core-js/internals/v8-version.js","webpack:///./app/js/cookies/languages.js","webpack:///./app/js/cookies/cookies.js","webpack:///./app/js/cookies/index.js","webpack:///./app/js/app.js","webpack:///./node_modules/@stimulus/webpack-helpers/dist/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","installedModules","0","__webpack_require__","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","s","EventListener","eventTarget","eventName","this","unorderedBindings","Set","connect","addEventListener","disconnect","removeEventListener","bindingConnected","binding","add","bindingDisconnected","delete","handleEvent","extendedEvent","stopImmediatePropagation_1","stopImmediatePropagation","assign","immediatePropagationStopped","extendEvent","_i","_a","bindings","Array","from","sort","left","right","leftIndex","index","rightIndex","configurable","Dispatcher","application","eventListenerMaps","Map","started","start","eventListeners","forEach","eventListener","stop","values","reduce","listeners","map","concat","fetchEventListenerForBinding","handleError","detail","fetchEventListener","eventListenerMap","fetchEventListenerMapForEventTarget","createEventListener","set","descriptorPattern","Action","element","descriptor","tagName","toLowerCase","defaultEventNames","getDefaultEventNameForElement","identifier","methodName","forToken","token","descriptorString","content","matches","trim","match","eventTargetName","toString","eventNameSuffix","getAttribute","Binding","context","action","willBeInvokedByEvent","invokeWithEvent","method","controller","Element","contains","scope","containsElement","ElementObserver","delegate","_this","elements","mutationObserver","MutationObserver","mutations","processMutations","observe","attributes","childList","subtree","refresh","takeRecords","matchElementsInTree","has","removeElement","_b","_c","addElement","mutations_1","mutation","processMutation","processAttributeChange","attributeName","processRemovedNodes","removedNodes","processAddedNodes","addedNodes","node","elementAttributeChanged","matchElement","nodes","elementFromNode","processTree","elementIsActive","tree","processor","nodeType","Node","ELEMENT_NODE","isConnected","elementMatched","elementUnmatched","AttributeObserver","elementObserver","hasAttribute","querySelectorAll","selector","elementMatchedAttribute","elementUnmatchedAttribute","elementAttributeValueChanged","fetch","del","size","prune","extendStatics","Multimap","valuesByKey","hasKey","hasValue","some","getValuesForKey","getKeysForValue","filter","__extends","setPrototypeOf","__proto__","b","__","constructor","_super","IndexedMultimap","keysByValue","keys","TokenListObserver","attributeObserver","tokensByElement","tokensMatched","readTokensForElement","refreshTokensForElement","unmatchedTokens","matchedTokens","tokensUnmatched","tokens","tokenMatched","tokenUnmatched","previousTokens","currentTokens","firstDifferingIndex","Math","max","_","findIndex","tokensAreEqual","tokenString","split","parseTokenString","ValueListObserver","tokenListObserver","parseResultsByToken","WeakMap","valuesByTokenByElement","fetchParseResultForToken","fetchValuesByTokenForElement","elementMatchedValue","elementUnmatchedValue","parseResult","parseToken","valuesByToken","parseValueForToken","BindingObserver","bindingsByAction","valueListObserver","actionAttribute","disconnectAllActions","schema","connectAction","disconnectAction","clear","Context","controllerConstructor","bindingObserver","dispatcher","initialize","parentElement","blessControllerConstructor","extend","bless","extendWithReflect","Controller","_newTarget","Reflect","construct","arguments","a","apply","Module","definition","blessDefinition","contextsByScope","connectedContexts","connectContextForScope","fetchContextForScope","disconnectContextForScope","DataMap","getFormattedKey","removeAttribute","replace","char","attributeValueContainsToken","TargetSet","targetName","find","targetNames","getSelectorForTargetNames","findElement","findAll","findAllElements","getSelectorForTargetName","join","targetDescriptor","targetAttribute","Scope","targets","tail","filterElements","closest","controllerSelector","controllerAttribute","ScopeObserver","scopesByIdentifierByElement","scopeReferenceCounts","scopesByIdentifier","fetchScopesByIdentifierForElement","referenceCount","scopeConnected","scopeDisconnected","Router","scopeObserver","modulesByIdentifier","contexts","loadDefinition","unloadIdentifier","connectModule","disconnectModule","getContextForElementAndIdentifier","defaultSchema","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","Application","documentElement","router","readyState","register","load","rest","definitions","isArray","unload","identifiers","getControllerForElementAndIdentifier","defineTargetProperties","ancestors","getPrototypeOf","getAncestorsForConstructor","getOwnTargetNamesForConstructor","getTargetNamesForConstructor","properties","charAt","toUpperCase","capitalize","it","check","globalThis","self","global","Function","obj","writable","shared","uid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","factory","matchesSelector","utils","prop","num","div","arraySlice","makeArray","removeFrom","ary","indexOf","splice","getParent","elem","parentNode","getQueryElement","querySelector","filterFindElements","elems","ffElems","HTMLElement","childElems","debounceMethod","_class","threshold","timeoutName","args","docReady","callback","toDashed","str","$1","$2","htmlInit","WidgetClass","namespace","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","jQuery","options","attr","JSON","parse","className","instance","exec","isObject","String","getStyleSize","parseFloat","isNaN","logError","measurements","measurementsLength","getStyle","style","getComputedStyle","isBoxSizeOuter","isSetup","getSize","width","padding","borderStyle","borderWidth","boxSizing","round","removeChild","setup","display","height","innerWidth","innerHeight","outerWidth","outerHeight","getZeroSize","offsetWidth","offsetHeight","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","EvEmitter","Cell","Slide","animatePrototype","moveElements","toElem","GUID","instances","Flickity","queryElement","flickityGUID","option","$element","defaults","_create","accessibility","cellAlign","freeScrollFriction","friction","namespaceJQueryEvents","percentPosition","resize","selectedAttraction","setGallerySize","createMethods","proto","id","guid","selectedIndex","restingFrames","x","velocity","originSide","rightToLeft","viewport","_createSlider","watchCSS","on","listener","activate","opts","isActive","classList","_filterFindCellElements","children","slider","reloadCells","tabIndex","emitEvent","selectInitialIndex","isInitActivated","dispatchEvent","cellSelector","cells","_makeCells","positionCells","_getWrapShiftCells","cellElem","getLastCell","getLastSlide","slides","_sizeCells","_positionCells","maxCellHeight","cellX","startCell","len","cell","setPosition","slideableWidth","updateSlides","_containSlides","slidesWidth","slide","nextMargin","canCellFit","_getCanCellFit","slideWidth","firstMargin","addCell","updateTarget","updateSelectedSlide","groupCells","number","parseInt","percentMatch","percent","_init","reposition","positionSliderAtSelected","setCellAlign","cursorPosition","cellAlignShorthands","center","shorthand","adaptiveHeight","selectedSlide","wrapAround","_unshiftCells","beforeShiftCells","afterShiftCells","gapX","cellIndex","_getGapCells","increment","contain","isRightToLeft","beginMargin","endMargin","contentWidth","isContentSmaller","beginBound","endBound","min","emitArgs","$event","jQEvent","Event","trigger","select","isWrap","isInstant","_wrapSelect","modulo","prevIndex","startAnimation","wrapIndex","delta","abs","backWrapDelta","forewardWrapDelta","isDragSelect","previous","unselectSelectedSlide","selectedCells","selectedElements","getCellElements","selectedCell","selectedElement","unselect","initialIndex","queryCell","selectCell","getCellSlideIndex","getCell","getCells","getParentCell","getAdjacentCellElements","adjCount","cellElems","slideIndex","uiChange","childUIPointerDown","preventDefault","focus","onresize","deactivate","onkeydown","isNotFocused","activeElement","handler","keyboardHandlers","keyCode","37","leftMethod","39","rightMethod","prevScrollY","pageYOffset","preventScroll","scrollTo","pageXOffset","remove","destroy","allOff","removeData","bridget","setJQuery","jq","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","fails","events","_events","once","onceEvents","_onceEvents","off","onceListeners","path","aFunction","variable","IE8_DOM_DEFINE","anObject","toPrimitive","nativeDefineProperty","O","Attributes","createNonEnumerableProperty","setGlobal","inspectSource","InternalStateModule","getInternalState","enforceInternalState","enforce","TEMPLATE","unsafe","simple","noTargetGet","source","Item","noop","Outlayer","outlayerGUID","_getOption","layout","containerStyle","position","initLayout","originLeft","originTop","resizeContainer","transitionDuration","hiddenStyle","opacity","transform","visibleStyle","subclass","Parent","SubClass","oldOption","compatOptions","horizontal","layoutInstant","reloadItems","stamps","stamp","bindResize","items","_itemize","itemElems","_filterFindItemElements","item","itemSelector","getItemElements","_resetLayout","_manageStamps","_isLayoutInited","layoutItems","_getMeasurement","_getItemsForLayout","_layoutItems","_postLayout","isIgnored","_emitCompleteOnItems","queue","_getItemLayoutPosition","isLayoutInstant","_processLayoutQueue","updateStagger","_positionItem","stagger","time","unit","mult","msUnits","getMilliseconds","goTo","moveTo","_getContainerSize","_setContainerMeasure","measure","isWidth","elemSize","onComplete","count","doneCount","tick","ignore","getItem","unignore","_find","unstamp","_getBoundingRect","_manageStamp","boundingRect","getBoundingClientRect","_boundingRect","top","bottom","_getElementOffset","thisRect","isResizeBound","unbindResize","needsResizeLayout","addItems","appended","reveal","prepended","previousItems","hide","revealItemElements","getItems","hideItemElements","removeItems","Layout","ms","LayoutMode","isotope","filteredItems","needsVerticalResizeLayout","getColumnWidth","getSegmentSize","getRowHeight","segment","segmentName","outerSize","firstItemSize","getFirstItemSize","firstItem","modes","Mode","Isotope","layoutMode","isJQueryFiltering","sortAscending","itemGUID","_sorters","_getSorters","sortHistory","_initLayoutMode","_updateItemsSortData","initialOpts","_layout","arrange","_getIsInstant","filtered","_filter","_bindArrangeComplete","_isInstant","_noTransition","_hideReveal","_sort","needReveal","needHide","isLayoutComplete","isHideComplete","isRevealComplete","arrangeParallelCallback","hiddenMatched","visibleUnmatched","test","_getFilterTest","isMatched","isHidden","is","updateSortData","getSortData","sorter","mungeSorter","query","attrMatch","getValue","child","textContent","getValueGetter","parser","sortDataParsers","val","sortBy","sortBys","_getIsSameSortBy","itemSorter","sortAsc","itemA","itemB","sortData","getItemSorter","_mode","_filterRevealAdded","insert","filteredInsertItems","_remove","shuffle","random","fn","returnValue","getFilteredItemElements","functionToString","IS_PURE","store","version","copyright","re1","re2","regexpFlags","nativeExec","RegExp","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","NPCG_INCLUDED","reCopy","re","ceil","floor","argument","toInteger","Unipointer","bindStartEvent","_bindStartEvent","unbindStartEvent","isAdd","bindMethod","startEvent","PointerEvent","getTouch","touches","touch","pointerIdentifier","onmousedown","button","_pointerDown","ontouchstart","changedTouches","onpointerdown","pointer","isPointerDown","pointerId","pointerDown","_bindPostStartEvents","postStartEvents","mousedown","touchstart","pointerdown","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","_pointerReset","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","pageX","pageY","propertyIsEnumerableModule","toIndexedObject","nativeGetOwnPropertyDescriptor","getOwnPropertyDescriptor","IndexedObject","requireObjectCoercible","EXISTS","input","PREFERRED_STRING","valueOf","bitmap","NATIVE_WEAK_MAP","objectHas","sharedKey","hiddenKeys","wmget","wmhas","wmset","metadata","STATE","getterFor","TYPE","state","postfix","getOwnPropertySymbols","classof","MATCH","wellKnownSymbol","isRegExp","SPECIES","defaultConstructor","S","C","matchesMethod","ElemProto","prefixes","redefine","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","sham","replacement","feature","detection","normalize","POLYFILL","NATIVE","string","that","defer","channel","port","html","IS_IOS","location","setImmediate","clearImmediate","process","MessageChannel","Dispatch","counter","run","runner","post","postMessage","protocol","host","nextTick","now","port2","port1","onmessage","importScripts","userAgent","getBuiltIn","PromiseCapability","$$resolve","$$reject","Turbolinks","supported","history","pushState","requestAnimationFrame","visit","clearCache","setProgressBarDelay","copyObject","throttle","dispatch","u","cancelable","createEvent","initEvent","defaultPrevented","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","uuid","Location","href","absoluteURL","hash","requestURL","anchor","wrap","getOrigin","getPath","getPathComponents","getLastPathComponent","getExtension","isHTML","isPrefixedBy","isEqualTo","toCacheKey","toJSON","HttpRequest","requestCanceled","requestTimedOut","requestFailed","requestLoaded","requestProgressed","url","referrer","createXHR","NETWORK_FAILURE","TIMEOUT_FAILURE","send","xhr","notifyApplicationBeforeRequestStart","setProgress","requestStarted","cancel","abort","lengthComputable","loaded","total","endRequest","status","requestCompletedWithResponse","responseText","getResponseHeader","failed","requestFailedWithStatusCode","notifyApplicationAfterRequestEnd","XMLHttpRequest","open","setRequestHeader","onprogress","ontimeout","onabort","progress","requestFinished","ProgressBar","trickle","stylesheetElement","createStylesheetElement","progressElement","createProgressElement","defaultCSS","show","visible","installStylesheetElement","installProgressElement","startTrickling","hiding","fadeProgressElement","uninstallProgressElement","stopTrickling","setValue","insertBefore","firstChild","trickleInterval","setInterval","clearInterval","BrowserAdapter","showProgressBar","progressBar","visitProposedToLocationWithAction","startVisitToLocationWithAction","visitStarted","issueRequest","changeHistory","loadCachedSnapshot","visitRequestStarted","hasCachedSnapshot","showProgressBarAfterDelay","visitRequestProgressed","visitRequestCompleted","loadResponse","visitRequestFailedWithStatusCode","reload","visitRequestFinished","hideProgressBar","visitCompleted","followRedirect","pageInvalidated","progressBarTimeout","progressBarDelay","History","onPageLoad","onPopState","update","shouldHandlePopState","turbolinks","restorationIdentifier","historyPoppedToLocationWithRestorationIdentifier","pageLoaded","pageIsLoaded","HeadDetails","outerHTML","tracked","fromHeadElement","childNodes","hasElementWithKey","getTrackedElementSignature","getScriptElementsNotInDetails","getElementsMatchingTypeNotInDetails","getStylesheetElementsNotInDetails","getProvisionalElements","getMetaValue","findMetaElementByName","Snapshot","headDetails","bodyElement","fromHTMLString","fromHTMLElement","innerHTML","clone","cloneNode","getRootLocation","getSetting","getCacheControlValue","getElementForAnchor","getPermanentElements","getPermanentElementById","getPermanentElementsPresentInSnapshot","findFirstAutofocusableElement","hasAnchor","isPreviewable","isCacheable","isVisitable","Renderer","render","renderView","viewWillRender","newBody","viewRendered","invalidateView","viewInvalidated","createScriptElement","async","__super__","SnapshotRenderer","currentSnapshot","newSnapshot","isPreview","currentHeadDetails","newHeadDetails","currentBody","shouldRender","mergeHead","replaceBody","focusFirstAutofocusableElement","copyNewHeadStylesheetElements","copyNewHeadScriptElements","removeCurrentHeadProvisionalElements","copyNewHeadProvisionalElements","relocateCurrentBodyPermanentElements","activateNewBodyScriptElements","assignNewBody","replacePlaceholderElementsWithClonedPermanentElements","trackedElementsAreIdentical","getNewHeadStylesheetElements","getNewHeadScriptElements","getCurrentHeadProvisionalElements","getNewHeadProvisionalElements","getCurrentBodyPermanentElements","permanentElement","getNewBodyScriptElements","replaceChild","ErrorRenderer","newHead","replaceHeadAndBody","activateBodyScriptElements","getScriptElements","View","htmlElement","getSnapshot","snapshot","markAsPreview","renderSnapshot","renderError","ScrollManager","onScroll","scrollToElement","scrollIntoView","scrollToPosition","updatePosition","scrollPositionChanged","SnapshotCache","snapshots","read","put","write","unshift","Visit","performScroll","adapter","timingMetrics","recordTimingMetric","cancelRender","complete","fail","visitFailed","historyChanged","shouldIssueRequest","getCachedSnapshot","getCachedSnapshotForLocation","cacheSnapshot","visitRendered","response","redirectedToLocation","followedRedirect","replaceHistoryWithLocationAndRestorationIdentifier","scrolled","scrollToRestoredPosition","scrollToTop","scrollToAnchor","restorationData","scrollPosition","Date","getTime","getTimingMetrics","snapshotCached","frame","cancelAnimationFrame","clickBubbled","clickCaptured","view","scrollManager","startHistory","enabled","disable","stopHistory","cache","applicationAllowsVisitingLocation","locationIsVisitable","getRestorationDataForIdentifier","startVisit","pushHistoryWithLocationAndRestorationIdentifier","shouldCacheSnapshot","notifyApplicationBeforeCachingSnapshot","lastRenderedLocation","getCurrentRestorationData","notifyApplicationBeforeRender","currentVisit","notifyApplicationAfterRender","notifyApplicationAfterPageLoad","clickEventIsSignificant","getVisitableLinkForNode","getVisitableLocationForLink","applicationAllowsFollowingLinkToLocation","getActionForLink","notifyApplicationAfterClickingLinkToLocation","notifyApplicationBeforeVisitingLocation","notifyApplicationAfterVisitingLocation","timing","createVisit","isContentEditable","which","altKey","ctrlKey","metaKey","shiftKey","nodeIsVisitable","currentScript","warn","_classCallCheck","Constructor","_defineProperties","props","_createClass","protoProps","staticProps","commonjsGlobal","evEmitter","createCommonjsModule","rAF","webkitRequestAnimationFrame","mozRequestAnimationFrame","isWritable","ID_COUNTER","ARIA_ATTRIBUTES","expanded","disabled","role","KEYS","HandorgelFold","handorgel","header","handorgelFold","firstElementChild","focused","_listeners","_bindEvents","_initAria","_initialOpen","_initialFocus","transition","collapsible","_updateAria","headerOpenClass","contentOpenClass","_opened","enable","headerOpenedClass","contentOpenedClass","_closed","headerDisabledClass","contentDisabledClass","blur","close","headerNoTransitionClass","contentNoTransitionClass","_unbindEvents","_cleanAria","headerFocusClass","contentFocusClass","_this2","initialOpenAttribute","initialOpenTransition","initialOpenTransitionDelay","_handleFocus","ariaEnabled","newValue","_property","_newValue","currentTarget","propertyName","toggle","keyboardInteraction","bFocus","bBlur","_handleBlur","bClick","_handleButtonClick","bKeydown","_handleButtonKeydown","cKeydown","_handleContentKeydown","cTransition","_handleContentTransitionEnd","ID_COUNTER$1","Handorgel","folds","defaultOptions","_resizing","childrenLength","fold","foldsLength","currentFocusedIndex","carouselFocus","openFold","multiSelectable","_handleResize","foldOpen","_handleFoldOpen","__export","lazySizes","lazysizes","lazySizesCfg","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","srcAttr","srcsetAttr","sizesAttr","minSize","customMedia","init","expFactor","hFac","loadMode","loadHidden","ricTimeout","throttleDelay","lazySizesConfig","lazysizesConfig","getElementsByClassName","cfg","noSupport","docElem","supportPicture","HTMLPictureElement","requestIdleCallback","regPicture","loadEvents","regClassCache","hasClass","ele","cls","addClass","removeClass","reg","addRemoveLoadEvents","dom","evt","triggerEvent","noBubbles","noCancelable","updatePolyfill","el","full","polyfill","picturefill","pf","reevaluate","getCSS","getWidth","parent","_lazysizesWidth","firstFns","secondFns","fns","runFns","running","waiting","rafBatch","hidden","_lsFlush","rAFIt","debounce","func","timestamp","later","last","loader","regImg","regIframe","supportScroll","navigator","currentExpand","isLoading","lowRuns","resetPreloading","isVisible","isBodyHidden","isNestedVisible","elemExpand","outerRect","eLtop","eLbottom","eLleft","eLright","offsetParent","checkElements","eLlen","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","defaultExpand","preloadExpand","lazyloadElems","_lazyRace","prematureUnveil","unveilElement","expand","clientHeight","clientWidth","_defEx","eLvW","elvH","isCompleted","preloadElems","preloadAfterLoad","throttledCheckElements","lastTime","gDelay","rICTimeout","idleCallback","isPriority","delay","switchLoadingClass","_lazyCache","rafSwitchLoadingClass","rafedSwitchLoadingClass","handleSources","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","nodeName","resetPreloadingTimer","getElementsByTagName","contentWindow","changeIframeSrc","isLoaded","naturalWidth","loading","autoSizer","updateElem","afterScroll","altLoadmodeScrollListner","persisted","loadingElements","img","checkElems","unveil","_aLSL","sizeElement","sources","getSizeElement","debouncedUpdateElementsSizes","autosizesElems","uP","aC","rC","hC","fire","gW","fixRegExpWellKnownSymbolLogic","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","arrayPush","SUPPORTS_Y","SPLIT","nativeSplit","maybeCallNative","internalSplit","separator","limit","lim","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","splitter","regexp","res","rx","unicodeMatching","q","A","z","REPLACE_SUPPORTS_NAMED_GROUPS","groups","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","KEY","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","methods","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","arg","dotAll","createMethod","CONVERT_TO_STRING","$this","pos","first","second","charCodeAt","codeAt","R","webpackContext","req","webpackContextResolve","code","log","accordion","google","maps","initMap","Loader","locations","mapOptions","zoom","LatLng","mapTypeId","MapTypeId","ROADMAP","streetViewControl","mapTypeControl","lat","long","Marker","title","apiKey","api","CALLBACK_NAME","createUrl","parameters","name_1","clickHandlerOpen","contentTarget","clickHandlerClose","iso","containerTarget","docElemStyle","transitionProperty","transformProperty","transitionEndEvent","WebkitTransition","vendorProperties","transitionDelay","_transn","ingProperties","clean","onEnd","css","elemStyle","getPosition","isOriginLeft","isOriginTop","xValue","yValue","layoutSize","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","_transitionTo","curX","curY","didNotMove","isTransitioning","transX","transY","transitionStyle","getTranslate","to","onTransitionEnd","isCleaning","_nonTransition","_removeStyles","_transition","enableTransition","transitionProps","duration","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","isEmptyObj","disableTransition","removeTransitionStyles","cleanStyle","cleanTransitionStyle","removeElem","getHideRevealTransitionEndProperty","onRevealTransitionEnd","styleProperty","optionStyle","onHideTransitionEnd","sorters","_destroy","Masonry","MasonryMode","keepModeMethods","measureColumns","isFitWidth","fitWidth","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItemElem","containerWidth","gutter","excess","container","remainder","colSpan","colPosition","horizontalOrder","col","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","hasSize","stampSize","offset","firstX","lastX","firstCol","lastCol","stampMaxY","_getContainerFitWidth","unusedCols","previousWidth","FitRows","itemWidth","Vertical","horizontalAlignment","flkty","carouselTarget","pageDots","prevNextButtons","autoPlay","side","renderPosition","setDefaultTarget","marginProperty","getPositionValue","wrapShift","lastCell","lastMargin","isAnimating","animate","applyDragForce","applySelectedAttraction","previousX","integratePhysics","positionSlider","settle","shiftWrapCells","setTranslateX","dispatchScrollEvent","is3d","translateX","firstSlide","positionX","isFreeScrolling","beforeGap","_shiftCells","afterGap","gap","cellShift","getFrictionFactor","force","isDraggable","dragForce","dragX","applyForce","Unidragger","draggable","dragThreshold","_touchActionValue","isTouch","isTouchmoveScrollCanceled","_createDrag","onActivateDrag","_uiChangeDrag","onDeactivateDrag","updateDraggable","handles","bindHandles","unbindHandles","bindDrag","unbindDrag","okayPointerDown","_pointerDownPreventDefault","pointerDownFocus","pointerDownBlur","pointerDownScroll","getScrollPosition","_pointerDownDefault","pointerDownPointer","focusNodes","INPUT","TEXTAREA","SELECT","isTouchStart","isTouchPointer","pointerType","isFocusNode","hasDragStarted","moveVector","isTouchScrolling","_dragPointerUp","dragStart","dragStartPosition","_dragPointerMove","_dragMove","dragMove","previousDragX","direction","originBound","dragMoveTime","dragEnd","freeScroll","dragEndRestingSelect","restingX","getRestingPosition","dragEndBoostSelect","distance","getSlideDistance","positiveResting","_getClosestResting","negativeResting","minDistance","Infinity","condition","md","isWrapAround","staticClick","clickedCell","onscroll","scroll","scrollMoveX","scrollMoveY","_bindHandles","touchAction","handle","cursorNodes","OPTION","clickTypes","radio","checkbox","submit","image","file","isCursorNode","isClickType","isOkay","isDragging","_dragStart","_dragEnd","_staticClick","isPreventingClicks","onclick","isIgnoringMouseUp","svgURI","PrevNextButton","isEnabled","isPrevious","leftDirection","isLeft","svg","createSVG","createElementNS","shape","pathMovements","arrowShape","x0","x1","y1","x2","y2","x3","boundIndex","_createPrevNextButtons","prevButton","nextButton","activatePrevNextButtons","deactivatePrevNextButtons","PageDots","holder","dots","handleClick","onClick","setDots","addDots","removeDots","fragment","createDocumentFragment","newDots","dot","updateSelected","selectedDot","onTap","_createPageDots","activatePageDots","updateSelectedPageDots","updatePageDots","deactivatePageDots","Player","onVisibilityChange","visibilityChange","onVisibilityPlay","visibilityPlay","play","pause","unpause","pauseAutoPlayOnHover","_createPlayer","player","activatePlayer","stopPlayer","deactivatePlayer","playPlayer","pausePlayer","unpausePlayer","onmouseenter","onmouseleave","getCellsFragment","isAppend","insertCellElement","endCells","cellChange","append","prepend","minCellIndex","cellSizeChange","changedCellIndex","isPositioningSlider","prevSelectedElem","LazyLoader","flickity","_createLazyload","lazyLoad","lazyImages","lazyCellImages","lazyloadAttr","imgs","getCellLazyImages","az","highlights","lastadded","filterData","date","filterEventTypeTarget","filterDateTarget","locationTarget","sortTarget","sortOption","gridItemElem","conditionEvent","conditionDate","conditionLocation","includes","$","notARegExp","correctIsRegExpLogic","searchString","nativePropertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","V","ownKeys","getOwnPropertyDescriptorModule","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","internalObjectKeys","getOwnPropertyNames","names","toAbsoluteIndex","IS_INCLUDES","fromIndex","integer","METHOD_NAME","popUp","default","ticking","leftMargin","link","dataset","artist","rectParent","lenght","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","NativePromise","redefineAll","setToStringTag","setSpecies","anInstance","iterate","checkCorrectnessOfIteration","task","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","V8_VERSION","PROMISE","setInternalState","getInternalPromiseState","PromiseConstructor","$fetch","newPromiseCapability","newGenericPromiseCapability","IS_NODE","DISPATCH_EVENT","FORCED","PromiseRejectionEvent","FakePromise","INCORRECT_ITERATION","iterable","isThenable","notify","isReject","notified","chain","reactions","ok","exited","reaction","domain","rejection","onHandleUnhandled","enter","exit","onUnhandled","reason","isUnhandled","emit","unwrap","internalReject","internalResolve","wrapper","executor","onFulfilled","onRejected","capability","$promiseResolve","remaining","alreadyCalled","race","TO_STRING_TAG","TAG","CONSTRUCTOR_NAME","isArrayIteratorMethod","getIteratorMethod","callWithSafeIterationClosing","Result","stopped","AS_ENTRIES","IS_ITERATOR","iterFn","boundFunction","Iterators","ITERATOR","ArrayPrototype","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tag","tryGet","callee","ENTRIES","returnMethod","SAFE_CLOSING","called","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","flush","macrotask","WebKitMutationObserver","queueMicrotaskDescriptor","queueMicrotask","createTextNode","characterData","promiseCapability","versions","v8","languages","de","accept","learnMore","en","fr","pt","pl","ro","createCookie","days","expires","setTime","toGMTString","cookie","readCookie","nameQuery","cookies","substring","COOKIE_BOX_INITIALIZED","CookieBox","params","userSettings","CookieBoxConfig","box","settings","backgroundColor","textColor","language","linkTarget","cookieKey","cookieDomain","cookieExpireInDays","dictionary","initBox","require","logicalName","identifierForContextKey","definitionForModuleAndIdentifier","definitionForModuleWithContextAndKey","definitionsFromContext"],"mappings":"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","file":"js/app.526ec4665e03bc7e9c6a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"1\":\"popup\",\"2\":\"vendors~popup\"}[chunkId]||chunkId) + \".\" + {\"1\":\"6550c9733b1cfc3d3173\",\"2\":\"be809102908b7e34254e\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 129);\n","var EventListener = /** @class */ (function () {\n    function EventListener(eventTarget, eventName) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.unorderedBindings = new Set;\n    }\n    EventListener.prototype.connect = function () {\n        this.eventTarget.addEventListener(this.eventName, this, false);\n    };\n    EventListener.prototype.disconnect = function () {\n        this.eventTarget.removeEventListener(this.eventName, this, false);\n    };\n    // Binding observer delegate\n    /** @hidden */\n    EventListener.prototype.bindingConnected = function (binding) {\n        this.unorderedBindings.add(binding);\n    };\n    /** @hidden */\n    EventListener.prototype.bindingDisconnected = function (binding) {\n        this.unorderedBindings.delete(binding);\n    };\n    EventListener.prototype.handleEvent = function (event) {\n        var extendedEvent = extendEvent(event);\n        for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {\n            var binding = _a[_i];\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    };\n    Object.defineProperty(EventListener.prototype, \"bindings\", {\n        get: function () {\n            return Array.from(this.unorderedBindings).sort(function (left, right) {\n                var leftIndex = left.index, rightIndex = right.index;\n                return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventListener;\n}());\nexport { EventListener };\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        var stopImmediatePropagation_1 = event.stopImmediatePropagation;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation: function () {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation_1.call(this);\n            }\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnRfbGlzdGVuZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXZlbnRfbGlzdGVuZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7SUFLRSx1QkFBWSxXQUF3QixFQUFFLFNBQWlCO1FBQ3JELElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFBO1FBQzFCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsK0JBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUE7SUFDaEUsQ0FBQztJQUVELGtDQUFVLEdBQVY7UUFDRSxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25FLENBQUM7SUFFRCw0QkFBNEI7SUFFNUIsY0FBYztJQUNkLHdDQUFnQixHQUFoQixVQUFpQixPQUFnQjtRQUMvQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ3JDLENBQUM7SUFFRCxjQUFjO0lBQ2QsMkNBQW1CLEdBQW5CLFVBQW9CLE9BQWdCO1FBQ2xDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDeEMsQ0FBQztJQUVELG1DQUFXLEdBQVgsVUFBWSxLQUFZO1FBQ3RCLElBQU0sYUFBYSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUN4QyxLQUFzQixVQUFhLEVBQWIsS0FBQSxJQUFJLENBQUMsUUFBUSxFQUFiLGNBQWEsRUFBYixJQUFhLEVBQUU7WUFBaEMsSUFBTSxPQUFPLFNBQUE7WUFDaEIsSUFBSSxhQUFhLENBQUMsMkJBQTJCLEVBQUU7Z0JBQzdDLE1BQUs7YUFDTjtpQkFBTTtnQkFDTCxPQUFPLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFBO2FBQ25DO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsc0JBQUksbUNBQVE7YUFBWjtZQUNFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxJQUFJLEVBQUUsS0FBSztnQkFDekQsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxVQUFVLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQTtnQkFDdEQsT0FBTyxTQUFTLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDckUsQ0FBQyxDQUFDLENBQUE7UUFDSixDQUFDOzs7T0FBQTtJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQWhERCxJQWdEQzs7QUFFRCxxQkFBcUIsS0FBWTtJQUMvQixJQUFJLDZCQUE2QixJQUFJLEtBQUssRUFBRTtRQUMxQyxPQUFPLEtBQUssQ0FBQTtLQUNiO1NBQU07UUFDRyxJQUFBLDJEQUF3QixDQUFVO1FBQzFDLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUU7WUFDMUIsMkJBQTJCLEVBQUUsS0FBSztZQUNsQyx3QkFBd0I7Z0JBQ3RCLElBQUksQ0FBQywyQkFBMkIsR0FBRyxJQUFJLENBQUE7Z0JBQ3ZDLDBCQUF3QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUNyQyxDQUFDO1NBQ0YsQ0FBQyxDQUFBO0tBQ0g7QUFDSCxDQUFDIn0=","import { EventListener } from \"./event_listener\";\nvar Dispatcher = /** @class */ (function () {\n    function Dispatcher(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map;\n        this.started = false;\n    }\n    Dispatcher.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach(function (eventListener) { return eventListener.connect(); });\n        }\n    };\n    Dispatcher.prototype.stop = function () {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach(function (eventListener) { return eventListener.disconnect(); });\n        }\n    };\n    Object.defineProperty(Dispatcher.prototype, \"eventListeners\", {\n        get: function () {\n            return Array.from(this.eventListenerMaps.values())\n                .reduce(function (listeners, map) { return listeners.concat(Array.from(map.values())); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Binding observer delegate\n    /** @hidden */\n    Dispatcher.prototype.bindingConnected = function (binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    };\n    /** @hidden */\n    Dispatcher.prototype.bindingDisconnected = function (binding) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n    };\n    // Error handling\n    Dispatcher.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    Dispatcher.prototype.fetchEventListenerForBinding = function (binding) {\n        var eventTarget = binding.eventTarget, eventName = binding.eventName;\n        return this.fetchEventListener(eventTarget, eventName);\n    };\n    Dispatcher.prototype.fetchEventListener = function (eventTarget, eventName) {\n        var eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        var eventListener = eventListenerMap.get(eventName);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName);\n            eventListenerMap.set(eventName, eventListener);\n        }\n        return eventListener;\n    };\n    Dispatcher.prototype.createEventListener = function (eventTarget, eventName) {\n        var eventListener = new EventListener(eventTarget, eventName);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    };\n    Dispatcher.prototype.fetchEventListenerMapForEventTarget = function (eventTarget) {\n        var eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map;\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    };\n    return Dispatcher;\n}());\nexport { Dispatcher };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlzcGF0Y2hlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaXNwYXRjaGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQTtBQUVoRDtJQUtFLG9CQUFZLFdBQXdCO1FBQ2xDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtRQUNoQyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtJQUN0QixDQUFDO0lBRUQsMEJBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO1lBQ25CLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQUEsYUFBYSxJQUFJLE9BQUEsYUFBYSxDQUFDLE9BQU8sRUFBRSxFQUF2QixDQUF1QixDQUFDLENBQUE7U0FDdEU7SUFDSCxDQUFDO0lBRUQseUJBQUksR0FBSjtRQUNFLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNoQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtZQUNwQixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFBLGFBQWEsSUFBSSxPQUFBLGFBQWEsQ0FBQyxVQUFVLEVBQUUsRUFBMUIsQ0FBMEIsQ0FBQyxDQUFBO1NBQ3pFO0lBQ0gsQ0FBQztJQUVELHNCQUFJLHNDQUFjO2FBQWxCO1lBQ0UsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQztpQkFDL0MsTUFBTSxDQUFDLFVBQUMsU0FBUyxFQUFFLEdBQUcsSUFBSyxPQUFBLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUExQyxDQUEwQyxFQUFFLEVBQXFCLENBQUMsQ0FBQTtRQUNsRyxDQUFDOzs7T0FBQTtJQUVELDRCQUE0QjtJQUU1QixjQUFjO0lBQ2QscUNBQWdCLEdBQWhCLFVBQWlCLE9BQWdCO1FBQy9CLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUN0RSxDQUFDO0lBRUQsY0FBYztJQUNkLHdDQUFtQixHQUFuQixVQUFvQixPQUFnQjtRQUNsQyxJQUFJLENBQUMsNEJBQTRCLENBQUMsT0FBTyxDQUFDLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDekUsQ0FBQztJQUVELGlCQUFpQjtJQUVqQixnQ0FBVyxHQUFYLFVBQVksS0FBWSxFQUFFLE9BQWUsRUFBRSxNQUFtQjtRQUFuQix1QkFBQSxFQUFBLFdBQW1CO1FBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFTLE9BQVMsRUFBRSxNQUFNLENBQUMsQ0FBQTtJQUNqRSxDQUFDO0lBRU8saURBQTRCLEdBQXBDLFVBQXFDLE9BQWdCO1FBQzNDLElBQUEsaUNBQVcsRUFBRSw2QkFBUyxDQUFZO1FBQzFDLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQTtJQUN4RCxDQUFDO0lBRU8sdUNBQWtCLEdBQTFCLFVBQTJCLFdBQXdCLEVBQUUsU0FBaUI7UUFDcEUsSUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsbUNBQW1DLENBQUMsV0FBVyxDQUFDLENBQUE7UUFDOUUsSUFBSSxhQUFhLEdBQUcsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ25ELElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDbEIsYUFBYSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUE7WUFDaEUsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUMvQztRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyx3Q0FBbUIsR0FBM0IsVUFBNEIsV0FBd0IsRUFBRSxTQUFpQjtRQUNyRSxJQUFNLGFBQWEsR0FBRyxJQUFJLGFBQWEsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUE7UUFDL0QsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtTQUN4QjtRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyx3REFBbUMsR0FBM0MsVUFBNEMsV0FBd0I7UUFDbEUsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQzlELElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUNyQixnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsQ0FBQTtZQUMxQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFBO1NBQzFEO1FBQ0QsT0FBTyxnQkFBZ0IsQ0FBQTtJQUN6QixDQUFDO0lBQ0gsaUJBQUM7QUFBRCxDQUFDLEFBL0VELElBK0VDIn0=","// capture nos.:            12   23 4               43   1 5   56 7  76\nvar descriptorPattern = /^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;\nexport function parseDescriptorString(descriptorString) {\n    var source = descriptorString.trim();\n    var matches = source.match(descriptorPattern) || [];\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName: matches[2],\n        identifier: matches[5],\n        methodName: matches[7]\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nexport function stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uX2Rlc2NyaXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYWN0aW9uX2Rlc2NyaXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBT0EsdUVBQXVFO0FBQ3ZFLElBQU0saUJBQWlCLEdBQUcsZ0RBQWdELENBQUE7QUFFMUUsTUFBTSxnQ0FBZ0MsZ0JBQXdCO0lBQzVELElBQU0sTUFBTSxHQUFHLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQ3RDLElBQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDckQsT0FBTztRQUNMLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsU0FBUyxFQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdkIsVUFBVSxFQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdkIsVUFBVSxFQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDeEIsQ0FBQTtBQUNILENBQUM7QUFFRCwwQkFBMEIsZUFBdUI7SUFDL0MsSUFBSSxlQUFlLElBQUksUUFBUSxFQUFFO1FBQy9CLE9BQU8sTUFBTSxDQUFBO0tBQ2Q7U0FBTSxJQUFJLGVBQWUsSUFBSSxVQUFVLEVBQUU7UUFDeEMsT0FBTyxRQUFRLENBQUE7S0FDaEI7QUFDSCxDQUFDO0FBRUQsTUFBTSwrQkFBK0IsV0FBd0I7SUFDM0QsSUFBSSxXQUFXLElBQUksTUFBTSxFQUFFO1FBQ3pCLE9BQU8sUUFBUSxDQUFBO0tBQ2hCO1NBQU0sSUFBSSxXQUFXLElBQUksUUFBUSxFQUFFO1FBQ2xDLE9BQU8sVUFBVSxDQUFBO0tBQ2xCO0FBQ0gsQ0FBQyJ9","import { parseDescriptorString, stringifyEventTarget } from \"./action_descriptor\";\nvar Action = /** @class */ (function () {\n    function Action(element, index, descriptor) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n    }\n    Action.forToken = function (token) {\n        return new this(token.element, token.index, parseDescriptorString(token.content));\n    };\n    Action.prototype.toString = function () {\n        var eventNameSuffix = this.eventTargetName ? \"@\" + this.eventTargetName : \"\";\n        return \"\" + this.eventName + eventNameSuffix + \"->\" + this.identifier + \"#\" + this.methodName;\n    };\n    Object.defineProperty(Action.prototype, \"eventTargetName\", {\n        get: function () {\n            return stringifyEventTarget(this.eventTarget);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Action;\n}());\nexport { Action };\nvar defaultEventNames = {\n    \"a\": function (e) { return \"click\"; },\n    \"button\": function (e) { return \"click\"; },\n    \"form\": function (e) { return \"submit\"; },\n    \"input\": function (e) { return e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"change\"; },\n    \"select\": function (e) { return \"change\"; },\n    \"textarea\": function (e) { return \"change\"; }\n};\nexport function getDefaultEventNameForElement(element) {\n    var tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FjdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQW9CLHFCQUFxQixFQUFFLG9CQUFvQixFQUFFLE1BQU0scUJBQXFCLENBQUE7QUFHbkc7SUFZRSxnQkFBWSxPQUFnQixFQUFFLEtBQWEsRUFBRSxVQUFxQztRQUNoRixJQUFJLENBQUMsT0FBTyxHQUFPLE9BQU8sQ0FBQTtRQUMxQixJQUFJLENBQUMsS0FBSyxHQUFTLEtBQUssQ0FBQTtRQUN4QixJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQyxXQUFXLElBQUksT0FBTyxDQUFBO1FBQ3BELElBQUksQ0FBQyxTQUFTLEdBQUssVUFBVSxDQUFDLFNBQVMsSUFBSSw2QkFBNkIsQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQTtRQUNoSCxJQUFJLENBQUMsVUFBVSxHQUFJLFVBQVUsQ0FBQyxVQUFVLElBQUksS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUE7UUFDdkUsSUFBSSxDQUFDLFVBQVUsR0FBSSxVQUFVLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBQzFFLENBQUM7SUFYTSxlQUFRLEdBQWYsVUFBZ0IsS0FBWTtRQUMxQixPQUFPLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFBRSxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtJQUNuRixDQUFDO0lBV0QseUJBQVEsR0FBUjtRQUNFLElBQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLE1BQUksSUFBSSxDQUFDLGVBQWlCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtRQUM5RSxPQUFPLEtBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxlQUFlLFVBQUssSUFBSSxDQUFDLFVBQVUsU0FBSSxJQUFJLENBQUMsVUFBWSxDQUFBO0lBQ3JGLENBQUM7SUFFRCxzQkFBWSxtQ0FBZTthQUEzQjtZQUNFLE9BQU8sb0JBQW9CLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQy9DLENBQUM7OztPQUFBO0lBQ0gsYUFBQztBQUFELENBQUMsQUE3QkQsSUE2QkM7O0FBRUQsSUFBTSxpQkFBaUIsR0FBd0Q7SUFDN0UsR0FBRyxFQUFTLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxFQUFQLENBQU87SUFDeEIsUUFBUSxFQUFJLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxFQUFQLENBQU87SUFDeEIsTUFBTSxFQUFNLFVBQUEsQ0FBQyxJQUFJLE9BQUEsUUFBUSxFQUFSLENBQVE7SUFDekIsT0FBTyxFQUFLLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUF2RCxDQUF1RDtJQUN4RSxRQUFRLEVBQUksVUFBQSxDQUFDLElBQUksT0FBQSxRQUFRLEVBQVIsQ0FBUTtJQUN6QixVQUFVLEVBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxRQUFRLEVBQVIsQ0FBUTtDQUMxQixDQUFBO0FBRUQsTUFBTSx3Q0FBd0MsT0FBZ0I7SUFDNUQsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQTtJQUM3QyxJQUFJLE9BQU8sSUFBSSxpQkFBaUIsRUFBRTtRQUNoQyxPQUFPLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0tBQzNDO0FBQ0gsQ0FBQztBQUVELGVBQWUsT0FBZTtJQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzFCLENBQUMifQ==","var Binding = /** @class */ (function () {\n    function Binding(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    Object.defineProperty(Binding.prototype, \"index\", {\n        get: function () {\n            return this.action.index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"eventTarget\", {\n        get: function () {\n            return this.action.eventTarget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"identifier\", {\n        get: function () {\n            return this.context.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Binding.prototype.handleEvent = function (event) {\n        if (this.willBeInvokedByEvent(event)) {\n            this.invokeWithEvent(event);\n        }\n    };\n    Object.defineProperty(Binding.prototype, \"eventName\", {\n        get: function () {\n            return this.action.eventName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"method\", {\n        get: function () {\n            var method = this.controller[this.methodName];\n            if (typeof method == \"function\") {\n                return method;\n            }\n            throw new Error(\"Action \\\"\" + this.action + \"\\\" references undefined method \\\"\" + this.methodName + \"\\\"\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Binding.prototype.invokeWithEvent = function (event) {\n        try {\n            this.method.call(this.controller, event);\n        }\n        catch (error) {\n            var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element, index = _a.index;\n            var detail = { identifier: identifier, controller: controller, element: element, index: index, event: event };\n            this.context.handleError(error, \"invoking action \\\"\" + this.action + \"\\\"\", detail);\n        }\n    };\n    Binding.prototype.willBeInvokedByEvent = function (event) {\n        var eventTarget = event.target;\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return true;\n        }\n    };\n    Object.defineProperty(Binding.prototype, \"controller\", {\n        get: function () {\n            return this.context.controller;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"methodName\", {\n        get: function () {\n            return this.action.methodName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Binding;\n}());\nexport { Binding };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iaW5kaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBO0lBSUUsaUJBQVksT0FBZ0IsRUFBRSxNQUFjO1FBQzFDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO0lBQ3RCLENBQUM7SUFFRCxzQkFBSSwwQkFBSzthQUFUO1lBQ0UsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQTtRQUMxQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLGdDQUFXO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksK0JBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUE7UUFDaEMsQ0FBQzs7O09BQUE7SUFFRCw2QkFBVyxHQUFYLFVBQVksS0FBWTtRQUN0QixJQUFJLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNwQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQzVCO0lBQ0gsQ0FBQztJQUVELHNCQUFJLDhCQUFTO2FBQWI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFBO1FBQzlCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMkJBQU07YUFBVjtZQUNFLElBQU0sTUFBTSxHQUFJLElBQUksQ0FBQyxVQUFrQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtZQUN4RCxJQUFJLE9BQU8sTUFBTSxJQUFJLFVBQVUsRUFBRTtnQkFDL0IsT0FBTyxNQUFNLENBQUE7YUFDZDtZQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsY0FBVyxJQUFJLENBQUMsTUFBTSx5Q0FBa0MsSUFBSSxDQUFDLFVBQVUsT0FBRyxDQUFDLENBQUE7UUFDN0YsQ0FBQzs7O09BQUE7SUFFTyxpQ0FBZSxHQUF2QixVQUF3QixLQUFZO1FBQ2xDLElBQUk7WUFDRixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3pDO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDUixJQUFBLFNBQWlELEVBQS9DLDBCQUFVLEVBQUUsMEJBQVUsRUFBRSxvQkFBTyxFQUFFLGdCQUFLLENBQVM7WUFDdkQsSUFBTSxNQUFNLEdBQUcsRUFBRSxVQUFVLFlBQUEsRUFBRSxVQUFVLFlBQUEsRUFBRSxPQUFPLFNBQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFBO1lBQ2hFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBb0IsSUFBSSxDQUFDLE1BQU0sT0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFBO1NBQzVFO0lBQ0gsQ0FBQztJQUVPLHNDQUFvQixHQUE1QixVQUE2QixLQUFZO1FBQ3ZDLElBQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUE7UUFDaEMsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLFdBQVcsRUFBRTtZQUNoQyxPQUFPLElBQUksQ0FBQTtTQUNaO2FBQU0sSUFBSSxXQUFXLFlBQVksT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQy9FLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUE7U0FDL0M7YUFBTTtZQUNMLE9BQU8sSUFBSSxDQUFBO1NBQ1o7SUFDSCxDQUFDO0lBRUQsc0JBQVksK0JBQVU7YUFBdEI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQVksK0JBQVU7YUFBdEI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFBO1FBQy9CLENBQUM7OztPQUFBO0lBRUQsc0JBQVksNEJBQU87YUFBbkI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQVksMEJBQUs7YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBQ0gsY0FBQztBQUFELENBQUMsQUEzRUQsSUEyRUMifQ==","var ElementObserver = /** @class */ (function () {\n    function ElementObserver(element, delegate) {\n        var _this = this;\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set;\n        this.mutationObserver = new MutationObserver(function (mutations) { return _this.processMutations(mutations); });\n    }\n    ElementObserver.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, childList: true, subtree: true });\n            this.refresh();\n        }\n    };\n    ElementObserver.prototype.stop = function () {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    };\n    ElementObserver.prototype.refresh = function () {\n        if (this.started) {\n            var matches = new Set(this.matchElementsInTree());\n            for (var _i = 0, _a = Array.from(this.elements); _i < _a.length; _i++) {\n                var element = _a[_i];\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (var _b = 0, _c = Array.from(matches); _b < _c.length; _b++) {\n                var element = _c[_b];\n                this.addElement(element);\n            }\n        }\n    };\n    // Mutation record processing\n    ElementObserver.prototype.processMutations = function (mutations) {\n        if (this.started) {\n            for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n                var mutation = mutations_1[_i];\n                this.processMutation(mutation);\n            }\n        }\n    };\n    ElementObserver.prototype.processMutation = function (mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    };\n    ElementObserver.prototype.processAttributeChange = function (node, attributeName) {\n        var element = node;\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    };\n    ElementObserver.prototype.processRemovedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            var element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    };\n    ElementObserver.prototype.processAddedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            var element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    };\n    // Element matching\n    ElementObserver.prototype.matchElement = function (element) {\n        return this.delegate.matchElement(element);\n    };\n    ElementObserver.prototype.matchElementsInTree = function (tree) {\n        if (tree === void 0) { tree = this.element; }\n        return this.delegate.matchElementsInTree(tree);\n    };\n    ElementObserver.prototype.processTree = function (tree, processor) {\n        for (var _i = 0, _a = this.matchElementsInTree(tree); _i < _a.length; _i++) {\n            var element = _a[_i];\n            processor.call(this, element);\n        }\n    };\n    ElementObserver.prototype.elementFromNode = function (node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    };\n    ElementObserver.prototype.elementIsActive = function (element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    };\n    // Element tracking\n    ElementObserver.prototype.addElement = function (element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    };\n    ElementObserver.prototype.removeElement = function (element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    };\n    return ElementObserver;\n}());\nexport { ElementObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lbGVtZW50X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVNBO0lBUUUseUJBQVksT0FBZ0IsRUFBRSxRQUFpQztRQUEvRCxpQkFPQztRQU5DLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO1FBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBRXhCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxHQUFHLENBQUE7UUFDdkIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksZ0JBQWdCLENBQUMsVUFBQyxTQUFTLElBQUssT0FBQSxLQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEVBQWhDLENBQWdDLENBQUMsQ0FBQTtJQUMvRixDQUFDO0lBRUQsK0JBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO1lBQ25CLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtZQUNqRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7U0FDZjtJQUNILENBQUM7SUFFRCw4QkFBSSxHQUFKO1FBQ0UsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUNuQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLENBQUE7WUFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUE7U0FDckI7SUFDSCxDQUFDO0lB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","import { ElementObserver } from \"./element_observer\";\nvar AttributeObserver = /** @class */ (function () {\n    function AttributeObserver(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    Object.defineProperty(AttributeObserver.prototype, \"element\", {\n        get: function () {\n            return this.elementObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeObserver.prototype, \"selector\", {\n        get: function () {\n            return \"[\" + this.attributeName + \"]\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AttributeObserver.prototype.start = function () {\n        this.elementObserver.start();\n    };\n    AttributeObserver.prototype.stop = function () {\n        this.elementObserver.stop();\n    };\n    AttributeObserver.prototype.refresh = function () {\n        this.elementObserver.refresh();\n    };\n    Object.defineProperty(AttributeObserver.prototype, \"started\", {\n        get: function () {\n            return this.elementObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Element observer delegate\n    AttributeObserver.prototype.matchElement = function (element) {\n        return element.hasAttribute(this.attributeName);\n    };\n    AttributeObserver.prototype.matchElementsInTree = function (tree) {\n        var match = this.matchElement(tree) ? [tree] : [];\n        var matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    };\n    AttributeObserver.prototype.elementMatched = function (element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementUnmatched = function (element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementAttributeChanged = function (element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    };\n    return AttributeObserver;\n}());\nexport { AttributeObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlX29ic2VydmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2F0dHJpYnV0ZV9vYnNlcnZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUEyQixNQUFNLG9CQUFvQixDQUFBO0FBUTdFO0lBTUUsMkJBQVksT0FBZ0IsRUFBRSxhQUFxQixFQUFFLFFBQW1DO1FBQ3RGLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFBO1FBQ2xDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBRXhCLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxlQUFlLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQzNELENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQTtRQUNyQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHVDQUFRO2FBQVo7WUFDRSxPQUFPLE1BQUksSUFBSSxDQUFDLGFBQWEsTUFBRyxDQUFBO1FBQ2xDLENBQUM7OztPQUFBO0lBRUQsaUNBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDOUIsQ0FBQztJQUVELGdDQUFJLEdBQUo7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFBO0lBQzdCLENBQUM7SUFFRCxtQ0FBTyxHQUFQO1FBQ0UsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNoQyxDQUFDO0lBRUQsc0JBQUksc0NBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUE7UUFDckMsQ0FBQzs7O09BQUE7SUFFRCw0QkFBNEI7SUFFNUIsd0NBQVksR0FBWixVQUFhLE9BQWdCO1FBQzNCLE9BQU8sT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUE7SUFDakQsQ0FBQztJQUVELCtDQUFtQixHQUFuQixVQUFvQixJQUFhO1FBQy9CLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtRQUNuRCxJQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQTtRQUNoRSxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDOUIsQ0FBQztJQUVELDBDQUFjLEdBQWQsVUFBZSxPQUFnQjtRQUM3QixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsdUJBQXVCLEVBQUU7WUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1NBQ25FO0lBQ0gsQ0FBQztJQUVELDRDQUFnQixHQUFoQixVQUFpQixPQUFnQjtRQUMvQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMseUJBQXlCLEVBQUU7WUFDM0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1NBQ3JFO0lBQ0gsQ0FBQztJQUVELG1EQUF1QixHQUF2QixVQUF3QixPQUFnQixFQUFFLGFBQXFCO1FBQzdELElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyw0QkFBNEIsSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLGFBQWEsRUFBRTtZQUNyRixJQUFJLENBQUMsUUFBUSxDQUFDLDRCQUE0QixDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUNuRTtJQUNILENBQUM7SUFDSCx3QkFBQztBQUFELENBQUMsQUFsRUQsSUFrRUMifQ==","export function add(map, key, value) {\n    fetch(map, key).add(value);\n}\nexport function del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nexport function fetch(map, key) {\n    var values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nexport function prune(map, key) {\n    var values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0X29wZXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2V0X29wZXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxjQUFvQixHQUFtQixFQUFFLEdBQU0sRUFBRSxLQUFRO0lBQzdELEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQzVCLENBQUM7QUFFRCxNQUFNLGNBQW9CLEdBQW1CLEVBQUUsR0FBTSxFQUFFLEtBQVE7SUFDN0QsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDN0IsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQTtBQUNqQixDQUFDO0FBRUQsTUFBTSxnQkFBc0IsR0FBbUIsRUFBRSxHQUFNO0lBQ3JELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDekIsSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUNYLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFBO1FBQ2xCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFBO0tBQ3JCO0lBQ0QsT0FBTyxNQUFNLENBQUE7QUFDZixDQUFDO0FBRUQsTUFBTSxnQkFBc0IsR0FBbUIsRUFBRSxHQUFNO0lBQ3JELElBQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDM0IsSUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFO1FBQ3RDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7S0FDaEI7QUFDSCxDQUFDIn0=","import { add, del } from \"./set_operations\";\nvar Multimap = /** @class */ (function () {\n    function Multimap() {\n        this.valuesByKey = new Map();\n    }\n    Object.defineProperty(Multimap.prototype, \"values\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (values, set) { return values.concat(Array.from(set)); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Multimap.prototype, \"size\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (size, set) { return size + set.size; }, 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Multimap.prototype.add = function (key, value) {\n        add(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.delete = function (key, value) {\n        del(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.has = function (key, value) {\n        var values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    };\n    Multimap.prototype.hasKey = function (key) {\n        return this.valuesByKey.has(key);\n    };\n    Multimap.prototype.hasValue = function (value) {\n        var sets = Array.from(this.valuesByKey.values());\n        return sets.some(function (set) { return set.has(value); });\n    };\n    Multimap.prototype.getValuesForKey = function (key) {\n        var values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    };\n    Multimap.prototype.getKeysForValue = function (value) {\n        return Array.from(this.valuesByKey)\n            .filter(function (_a) {\n            var key = _a[0], values = _a[1];\n            return values.has(value);\n        })\n            .map(function (_a) {\n            var key = _a[0], values = _a[1];\n            return key;\n        });\n    };\n    return Multimap;\n}());\nexport { Multimap };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGltYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbXVsdGltYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQTtBQUUzQztJQUdFO1FBQ0UsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLEdBQUcsRUFBYSxDQUFBO0lBQ3pDLENBQUM7SUFFRCxzQkFBSSw0QkFBTTthQUFWO1lBQ0UsSUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7WUFDbEQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSyxPQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUE5QixDQUE4QixFQUFRLEVBQUUsQ0FBQyxDQUFBO1FBQy9FLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMEJBQUk7YUFBUjtZQUNFLElBQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFBO1lBQ2xELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFDLElBQUksRUFBRSxHQUFHLElBQUssT0FBQSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBZixDQUFlLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDdkQsQ0FBQzs7O09BQUE7SUFFRCxzQkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFRCx5QkFBTSxHQUFOLFVBQU8sR0FBTSxFQUFFLEtBQVE7UUFDckIsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFRCxzQkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEMsT0FBTyxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDNUMsQ0FBQztJQUVELHlCQUFNLEdBQU4sVUFBTyxHQUFNO1FBQ1gsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsMkJBQVEsR0FBUixVQUFTLEtBQVE7UUFDZixJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQTtRQUNsRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBQSxHQUFHLElBQUksT0FBQSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFkLENBQWMsQ0FBQyxDQUFBO0lBQ3pDLENBQUM7SUFFRCxrQ0FBZSxHQUFmLFVBQWdCLEdBQU07UUFDcEIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEMsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtJQUN6QyxDQUFDO0lBRUQsa0NBQWUsR0FBZixVQUFnQixLQUFRO1FBQ3RCLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO2FBQ2hDLE1BQU0sQ0FBQyxVQUFDLEVBQWE7Z0JBQVosV0FBRyxFQUFFLGNBQU07WUFBTSxPQUFBLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQWpCLENBQWlCLENBQUM7YUFDNUMsR0FBRyxDQUFDLFVBQUMsRUFBYTtnQkFBWixXQUFHLEVBQUUsY0FBTTtZQUFNLE9BQUEsR0FBRztRQUFILENBQUcsQ0FBQyxDQUFBO0lBQ2hDLENBQUM7SUFDSCxlQUFDO0FBQUQsQ0FBQyxBQWpERCxJQWlEQyJ9","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Multimap } from \"./multimap\";\nimport { add, del } from \"./set_operations\";\nvar IndexedMultimap = /** @class */ (function (_super) {\n    __extends(IndexedMultimap, _super);\n    function IndexedMultimap() {\n        var _this = _super.call(this) || this;\n        _this.keysByValue = new Map;\n        return _this;\n    }\n    Object.defineProperty(IndexedMultimap.prototype, \"values\", {\n        get: function () {\n            return Array.from(this.keysByValue.keys());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    IndexedMultimap.prototype.add = function (key, value) {\n        _super.prototype.add.call(this, key, value);\n        add(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.delete = function (key, value) {\n        _super.prototype.delete.call(this, key, value);\n        del(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.hasValue = function (value) {\n        return this.keysByValue.has(value);\n    };\n    IndexedMultimap.prototype.getKeysForValue = function (value) {\n        var set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    };\n    return IndexedMultimap;\n}(Multimap));\nexport { IndexedMultimap };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXhlZF9tdWx0aW1hcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbmRleGVkX211bHRpbWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sWUFBWSxDQUFBO0FBQ3JDLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFFM0M7SUFBMkMsbUNBQWM7SUFHdkQ7UUFBQSxZQUNFLGlCQUFPLFNBRVI7UUFEQyxLQUFJLENBQUMsV0FBVyxHQUFHLElBQUksR0FBRyxDQUFBOztJQUM1QixDQUFDO0lBRUQsc0JBQUksbUNBQU07YUFBVjtZQUNFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7UUFDNUMsQ0FBQzs7O09BQUE7SUFFRCw2QkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsaUJBQU0sR0FBRyxZQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQTtRQUNyQixHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVELGdDQUFNLEdBQU4sVUFBTyxHQUFNLEVBQUUsS0FBUTtRQUNyQixpQkFBTSxNQUFNLFlBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3hCLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQTtJQUNuQyxDQUFDO0lBRUQsa0NBQVEsR0FBUixVQUFTLEtBQVE7UUFDZixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ3BDLENBQUM7SUFFRCx5Q0FBZSxHQUFmLFVBQWdCLEtBQVE7UUFDdEIsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDdkMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtJQUNuQyxDQUFDO0lBQ0gsc0JBQUM7QUFBRCxDQUFDLEFBOUJELENBQTJDLFFBQVEsR0E4QmxEIn0=","import { AttributeObserver } from \"./attribute_observer\";\nimport { Multimap } from \"@stimulus/multimap\";\nvar TokenListObserver = /** @class */ (function () {\n    function TokenListObserver(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap;\n    }\n    Object.defineProperty(TokenListObserver.prototype, \"started\", {\n        get: function () {\n            return this.attributeObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TokenListObserver.prototype.start = function () {\n        this.attributeObserver.start();\n    };\n    TokenListObserver.prototype.stop = function () {\n        this.attributeObserver.stop();\n    };\n    TokenListObserver.prototype.refresh = function () {\n        this.attributeObserver.refresh();\n    };\n    Object.defineProperty(TokenListObserver.prototype, \"element\", {\n        get: function () {\n            return this.attributeObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TokenListObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.attributeObserver.attributeName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Attribute observer delegate\n    TokenListObserver.prototype.elementMatchedAttribute = function (element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    };\n    TokenListObserver.prototype.elementAttributeValueChanged = function (element) {\n        var _a = this.refreshTokensForElement(element), unmatchedTokens = _a[0], matchedTokens = _a[1];\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    };\n    TokenListObserver.prototype.elementUnmatchedAttribute = function (element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    };\n    TokenListObserver.prototype.tokensMatched = function (tokens) {\n        var _this = this;\n        tokens.forEach(function (token) { return _this.tokenMatched(token); });\n    };\n    TokenListObserver.prototype.tokensUnmatched = function (tokens) {\n        var _this = this;\n        tokens.forEach(function (token) { return _this.tokenUnmatched(token); });\n    };\n    TokenListObserver.prototype.tokenMatched = function (token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    };\n    TokenListObserver.prototype.tokenUnmatched = function (token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    };\n    TokenListObserver.prototype.refreshTokensForElement = function (element) {\n        var previousTokens = this.tokensByElement.getValuesForKey(element);\n        var currentTokens = this.readTokensForElement(element);\n        var firstDifferingIndex = zip(previousTokens, currentTokens)\n            .findIndex(function (_a) {\n            var previousToken = _a[0], currentToken = _a[1];\n            return !tokensAreEqual(previousToken, currentToken);\n        });\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    };\n    TokenListObserver.prototype.readTokensForElement = function (element) {\n        var attributeName = this.attributeName;\n        var tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    };\n    return TokenListObserver;\n}());\nexport { TokenListObserver };\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString.trim().split(/\\s+/).filter(function (content) { return content.length; })\n        .map(function (content, index) { return ({ element: element, attributeName: attributeName, content: content, index: index }); });\n}\nfunction zip(left, right) {\n    var length = Math.max(left.length, right.length);\n    return Array.from({ length: length }, function (_, index) { return [left[index], right[index]]; });\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5fbGlzdF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90b2tlbl9saXN0X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBNkIsTUFBTSxzQkFBc0IsQ0FBQTtBQUNuRixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUE7QUFjN0M7SUFLRSwyQkFBWSxPQUFnQixFQUFFLGFBQXFCLEVBQUUsUUFBbUM7UUFDdEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUM1RSxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtRQUN4QixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksUUFBUSxDQUFBO0lBQ3JDLENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFBO1FBQ3ZDLENBQUM7OztPQUFBO0lBRUQsaUNBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUNoQyxDQUFDO0lBRUQsZ0NBQUksR0FBSjtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUMvQixDQUFDO0lBRUQsbUNBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsc0JBQUksc0NBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQTtRQUN2QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRDQUFhO2FBQWpCO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFBO1FBQzdDLENBQUM7OztPQUFBO0lBRUQsOEJBQThCO0lB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","import { TokenListObserver } from \"./token_list_observer\";\nvar ValueListObserver = /** @class */ (function () {\n    function ValueListObserver(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap;\n        this.valuesByTokenByElement = new WeakMap;\n    }\n    Object.defineProperty(ValueListObserver.prototype, \"started\", {\n        get: function () {\n            return this.tokenListObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ValueListObserver.prototype.start = function () {\n        this.tokenListObserver.start();\n    };\n    ValueListObserver.prototype.stop = function () {\n        this.tokenListObserver.stop();\n    };\n    ValueListObserver.prototype.refresh = function () {\n        this.tokenListObserver.refresh();\n    };\n    Object.defineProperty(ValueListObserver.prototype, \"element\", {\n        get: function () {\n            return this.tokenListObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ValueListObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.tokenListObserver.attributeName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ValueListObserver.prototype.tokenMatched = function (token) {\n        var element = token.element;\n        var value = this.fetchParseResultForToken(token).value;\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    };\n    ValueListObserver.prototype.tokenUnmatched = function (token) {\n        var element = token.element;\n        var value = this.fetchParseResultForToken(token).value;\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    };\n    ValueListObserver.prototype.fetchParseResultForToken = function (token) {\n        var parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    };\n    ValueListObserver.prototype.fetchValuesByTokenForElement = function (element) {\n        var valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map;\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    };\n    ValueListObserver.prototype.parseToken = function (token) {\n        try {\n            var value = this.delegate.parseValueForToken(token);\n            return { value: value };\n        }\n        catch (error) {\n            return { error: error };\n        }\n    };\n    return ValueListObserver;\n}());\nexport { ValueListObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsdWVfbGlzdF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92YWx1ZV9saXN0X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBUyxpQkFBaUIsRUFBNkIsTUFBTSx1QkFBdUIsQ0FBQTtBQWEzRjtJQU1FLDJCQUFZLE9BQWdCLEVBQUUsYUFBcUIsRUFBRSxRQUFzQztRQUN6RixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFBO1FBQzVFLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBQ3hCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLE9BQU8sQ0FBQTtRQUN0QyxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxPQUFPLENBQUE7SUFDM0MsQ0FBQztJQUVELHNCQUFJLHNDQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUE7UUFDdkMsQ0FBQzs7O09BQUE7SUFFRCxpQ0FBSyxHQUFMO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFBO0lBQ2hDLENBQUM7SUFFRCxnQ0FBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQy9CLENBQUM7SUFFRCxtQ0FBTyxHQUFQO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFBO1FBQ3ZDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksNENBQWE7YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLENBQUE7UUFDN0MsQ0FBQzs7O09BQUE7SUFFRCx3Q0FBWSxHQUFaLFVBQWEsS0FBWTtRQUNmLElBQUEsdUJBQU8sQ0FBVTtRQUNqQixJQUFBLGtEQUFLLENBQXlDO1FBQ3RELElBQUksS0FBSyxFQUFFO1lBQ1QsSUFBSSxDQUFDLDRCQUE0QixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUE7WUFDNUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUE7U0FDbEQ7SUFDSCxDQUFDO0lBRUQsMENBQWMsR0FBZCxVQUFlLEtBQVk7UUFDakIsSUFBQSx1QkFBTyxDQUFVO1FBQ2pCLElBQUEsa0RBQUssQ0FBeUM7UUFDdEQsSUFBSSxLQUFLLEVBQUU7WUFDVCxJQUFJLENBQUMsNEJBQTRCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ3hELElBQUksQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3BEO0lBQ0gsQ0FBQztJQUVPLG9EQUF3QixHQUFoQyxVQUFpQyxLQUFZO1FBQzNDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDckQsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNoQixXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQTtZQUNwQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQTtTQUNqRDtRQUNELE9BQU8sV0FBVyxDQUFBO0lBQ3BCLENBQUM7SUFFTyx3REFBNEIsR0FBcEMsVUFBcUMsT0FBZ0I7UUFDbkQsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUM1RCxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ2xCLGFBQWEsR0FBRyxJQUFJLEdBQUcsQ0FBQTtZQUN2QixJQUFJLENBQUMsc0JBQXNCLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUN4RDtRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyxzQ0FBVSxHQUFsQixVQUFtQixLQUFZO1FBQzdCLElBQUk7WUFDRixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ3JELE9BQU8sRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFBO1NBQ2pCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxPQUFPLEVBQUUsS0FBSyxPQUFBLEVBQUUsQ0FBQTtTQUNqQjtJQUNILENBQUM7SUFDSCx3QkFBQztBQUFELENBQUMsQUFqRkQsSUFpRkMifQ==","import { Action } from \"./action\";\nimport { Binding } from \"./binding\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\nvar BindingObserver = /** @class */ (function () {\n    function BindingObserver(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map;\n    }\n    BindingObserver.prototype.start = function () {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    };\n    BindingObserver.prototype.stop = function () {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    };\n    Object.defineProperty(BindingObserver.prototype, \"element\", {\n        get: function () {\n            return this.context.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"identifier\", {\n        get: function () {\n            return this.context.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"actionAttribute\", {\n        get: function () {\n            return this.schema.actionAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"schema\", {\n        get: function () {\n            return this.context.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"bindings\", {\n        get: function () {\n            return Array.from(this.bindingsByAction.values());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BindingObserver.prototype.connectAction = function (action) {\n        var binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    };\n    BindingObserver.prototype.disconnectAction = function (action) {\n        var binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    };\n    BindingObserver.prototype.disconnectAllActions = function () {\n        var _this = this;\n        this.bindings.forEach(function (binding) { return _this.delegate.bindingDisconnected(binding); });\n        this.bindingsByAction.clear();\n    };\n    // Value observer delegate\n    BindingObserver.prototype.parseValueForToken = function (token) {\n        var action = Action.forToken(token);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    };\n    BindingObserver.prototype.elementMatchedValue = function (element, action) {\n        this.connectAction(action);\n    };\n    BindingObserver.prototype.elementUnmatchedValue = function (element, action) {\n        this.disconnectAction(action);\n    };\n    return BindingObserver;\n}());\nexport { BindingObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZ19vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iaW5kaW5nX29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDakMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFdBQVcsQ0FBQTtBQUluQyxPQUFPLEVBQVMsaUJBQWlCLEVBQTZCLE1BQU0sOEJBQThCLENBQUE7QUFPbEc7SUFNRSx5QkFBWSxPQUFnQixFQUFFLFFBQWlDO1FBQzdELElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBQ3hCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNqQyxDQUFDO0lBRUQsK0JBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDM0IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFBO1lBQ3hGLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtTQUMvQjtJQUNILENBQUM7SUFFRCw4QkFBSSxHQUFKO1FBQ0UsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDMUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO1lBQzdCLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFBO1lBQzdCLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFBO1NBQzVCO0lBQ0gsQ0FBQztJQUVELHNCQUFJLG9DQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFBO1FBQzdCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksdUNBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUE7UUFDaEMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw0Q0FBZTthQUFuQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUE7UUFDcEMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxtQ0FBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQTtRQUM1QixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHFDQUFRO2FBQVo7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7UUFDbkQsQ0FBQzs7O09BQUE7SUFFTyx1Q0FBYSxHQUFyQixVQUFzQixNQUFjO1FBQ2xDLElBQU0sT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDakQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUN6QyxDQUFDO0lBRU8sMENBQWdCLEdBQXhCLFVBQXlCLE1BQWM7UUFDckMsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUNqRCxJQUFJLE9BQU8sRUFBRTtZQUNYLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDcEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQTtTQUMzQztJQUNILENBQUM7SUFFTyw4Q0FBb0IsR0FBNUI7UUFBQSxpQkFHQztRQUZDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUEsT0FBTyxJQUFJLE9BQUEsS0FBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsRUFBMUMsQ0FBMEMsQ0FBQyxDQUFBO1FBQzVFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUMvQixDQUFDO0lBRUQsMEJBQTBCO0lBRTFCLDRDQUFrQixHQUFsQixVQUFtQixLQUFZO1FBQzdCLElBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDckMsSUFBSSxNQUFNLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDeEMsT0FBTyxNQUFNLENBQUE7U0FDZDtJQUNILENBQUM7SUFFRCw2Q0FBbUIsR0FBbkIsVUFBb0IsT0FBZ0IsRUFBRSxNQUFjO1FBQ2xELElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDNUIsQ0FBQztJQUVELCtDQUFxQixHQUFyQixVQUFzQixPQUFnQixFQUFFLE1BQWM7UUFDcEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQy9CLENBQUM7SUFDSCxzQkFBQztBQUFELENBQUMsQUFsRkQsSUFrRkMifQ==","import { BindingObserver } from \"./binding_observer\";\nvar Context = /** @class */ (function () {\n    function Context(module, scope) {\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        try {\n            this.controller.initialize();\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    Context.prototype.connect = function () {\n        this.bindingObserver.start();\n        try {\n            this.controller.connect();\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    };\n    Context.prototype.disconnect = function () {\n        try {\n            this.controller.disconnect();\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.bindingObserver.stop();\n    };\n    Object.defineProperty(Context.prototype, \"application\", {\n        get: function () {\n            return this.module.application;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"identifier\", {\n        get: function () {\n            return this.module.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"dispatcher\", {\n        get: function () {\n            return this.application.dispatcher;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"parentElement\", {\n        get: function () {\n            return this.element.parentElement;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Error handling\n    Context.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element;\n        detail = Object.assign({ identifier: identifier, controller: controller, element: element }, detail);\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    return Context;\n}());\nexport { Context };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGV4dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQVFwRDtJQU1FLGlCQUFZLE1BQWMsRUFBRSxLQUFZO1FBQ3RDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO1FBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDeEQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBRWpFLElBQUk7WUFDRixJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQzdCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx5QkFBeUIsQ0FBQyxDQUFBO1NBQ25EO0lBQ0gsQ0FBQztJQUVELHlCQUFPLEdBQVA7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxDQUFBO1FBRTVCLElBQUk7WUFDRixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFBO1NBQzFCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBdUIsQ0FBQyxDQUFBO1NBQ2pEO0lBQ0gsQ0FBQztJQUVELDRCQUFVLEdBQVY7UUFDRSxJQUFJO1lBQ0YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQTtTQUM3QjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsMEJBQTBCLENBQUMsQ0FBQTtTQUNwRDtRQUVELElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDN0IsQ0FBQztJQUVELHNCQUFJLGdDQUFXO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksK0JBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUE7UUFDL0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwyQkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFVO2FBQWQ7WUFDRSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFBO1FBQ3BDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksNEJBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUE7UUFDM0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxrQ0FBYTthQUFqQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUE7UUFDbkMsQ0FBQzs7O09BQUE7SUFFRCxpQkFBaUI7SUFFakIsNkJBQVcsR0FBWCxVQUFZLEtBQVksRUFBRSxPQUFlLEVBQUUsTUFBbUI7UUFBbkIsdUJBQUEsRUFBQSxXQUFtQjtRQUN0RCxJQUFBLFNBQTBDLEVBQXhDLDBCQUFVLEVBQUUsMEJBQVUsRUFBRSxvQkFBTyxDQUFTO1FBQ2hELE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsVUFBVSxZQUFBLEVBQUUsVUFBVSxZQUFBLEVBQUUsT0FBTyxTQUFBLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUNuRSxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBUyxPQUFTLEVBQUUsTUFBTSxDQUFDLENBQUE7SUFDakUsQ0FBQztJQUNILGNBQUM7QUFBRCxDQUFDLEFBdEVELElBc0VDIn0=","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @hidden */\nexport function blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: blessControllerConstructor(definition.controllerConstructor)\n    };\n}\nfunction blessControllerConstructor(controllerConstructor) {\n    var constructor = extend(controllerConstructor);\n    constructor.bless();\n    return constructor;\n}\nvar extend = (function () {\n    function extendWithReflect(constructor) {\n        function Controller() {\n            var _newTarget = this && this instanceof Controller ? this.constructor : void 0;\n            return Reflect.construct(constructor, arguments, _newTarget);\n        }\n        Controller.prototype = Object.create(constructor.prototype, {\n            constructor: { value: Controller }\n        });\n        Reflect.setPrototypeOf(Controller, constructor);\n        return Controller;\n    }\n    function testReflectExtension() {\n        var a = function () { this.a.call(this); };\n        var b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b;\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return function (constructor) { return /** @class */ (function (_super) {\n            __extends(Controller, _super);\n            function Controller() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            return Controller;\n        }(constructor)); };\n    }\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmaW5pdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZWZpbml0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFPQSxjQUFjO0FBQ2QsTUFBTSwwQkFBMEIsVUFBc0I7SUFDcEQsT0FBTztRQUNMLFVBQVUsRUFBRSxVQUFVLENBQUMsVUFBVTtRQUNqQyxxQkFBcUIsRUFBRSwwQkFBMEIsQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUM7S0FDcEYsQ0FBQTtBQUNILENBQUM7QUFFRCxvQ0FBb0MscUJBQTRDO0lBQzlFLElBQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBQ2pELFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUNuQixPQUFPLFdBQVcsQ0FBQTtBQUNwQixDQUFDO0FBRUQsSUFBTSxNQUFNLEdBQUcsQ0FBQztJQUdkLDJCQUFzRCxXQUFjO1FBQ2xFOztZQUNFLE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsU0FBUyxhQUFhLENBQUE7UUFDOUQsQ0FBQztRQUVELFVBQVUsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFO1lBQzFELFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUU7U0FDbkMsQ0FBQyxDQUFBO1FBRUYsT0FBTyxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLENBQUE7UUFDL0MsT0FBTyxVQUFpQixDQUFBO0lBQzFCLENBQUM7SUFFRDtRQUNFLElBQU0sQ0FBQyxHQUFHLGNBQXNCLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUMsQ0FBUSxDQUFBO1FBQzFELElBQU0sQ0FBQyxHQUFHLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzlCLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLGNBQVksQ0FBQyxDQUFBO1FBQzdCLE9BQU8sSUFBSSxDQUFDLENBQUE7SUFDZCxDQUFDO0lBRUQsSUFBSTtRQUNGLG9CQUFvQixFQUFFLENBQUE7UUFDdEIsT0FBTyxpQkFBaUIsQ0FBQTtLQUN6QjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxVQUE0QixXQUFjLElBQUs7WUFBeUIsOEJBQVc7WUFBcEM7O1lBQXNDLENBQUM7WUFBRCxpQkFBQztRQUFELENBQUMsQUFBdkMsQ0FBeUIsV0FBVyxJQUFwQyxDQUF1QyxDQUFBO0tBQzlGO0FBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FBQSJ9","import { Context } from \"./context\";\nimport { blessDefinition } from \"./definition\";\nvar Module = /** @class */ (function () {\n    function Module(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap;\n        this.connectedContexts = new Set;\n    }\n    Object.defineProperty(Module.prototype, \"identifier\", {\n        get: function () {\n            return this.definition.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"controllerConstructor\", {\n        get: function () {\n            return this.definition.controllerConstructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"contexts\", {\n        get: function () {\n            return Array.from(this.connectedContexts);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Module.prototype.connectContextForScope = function (scope) {\n        var context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    };\n    Module.prototype.disconnectContextForScope = function (scope) {\n        var context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    };\n    Module.prototype.fetchContextForScope = function (scope) {\n        var context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    };\n    return Module;\n}());\nexport { Module };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sV0FBVyxDQUFBO0FBRW5DLE9BQU8sRUFBYyxlQUFlLEVBQUUsTUFBTSxjQUFjLENBQUE7QUFHMUQ7SUFNRSxnQkFBWSxXQUF3QixFQUFFLFVBQXNCO1FBQzFELElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxVQUFVLEdBQUcsZUFBZSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzdDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxPQUFPLENBQUE7UUFDbEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksR0FBRyxDQUFBO0lBQ2xDLENBQUM7SUFFRCxzQkFBSSw4QkFBVTthQUFkO1lBQ0UsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQTtRQUNuQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHlDQUFxQjthQUF6QjtZQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQTtRQUM5QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFRO2FBQVo7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUE7UUFDM0MsQ0FBQzs7O09BQUE7SUFFRCx1Q0FBc0IsR0FBdEIsVUFBdUIsS0FBWTtRQUNqQyxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDaEQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUNuQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDbkIsQ0FBQztJQUVELDBDQUF5QixHQUF6QixVQUEwQixLQUFZO1FBQ3BDLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQy9DLElBQUksT0FBTyxFQUFFO1lBQ1gsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUN0QyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUE7U0FDckI7SUFDSCxDQUFDO0lBRU8scUNBQW9CLEdBQTVCLFVBQTZCLEtBQVk7UUFDdkMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDN0MsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNaLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUE7WUFDbEMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFBO1NBQ3pDO1FBQ0QsT0FBTyxPQUFPLENBQUE7SUFDaEIsQ0FBQztJQUNILGFBQUM7QUFBRCxDQUFDLEFBL0NELElBK0NDIn0=","var DataMap = /** @class */ (function () {\n    function DataMap(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(DataMap.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DataMap.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DataMap.prototype.get = function (key) {\n        key = this.getFormattedKey(key);\n        return this.element.getAttribute(key);\n    };\n    DataMap.prototype.set = function (key, value) {\n        key = this.getFormattedKey(key);\n        this.element.setAttribute(key, value);\n        return this.get(key);\n    };\n    DataMap.prototype.has = function (key) {\n        key = this.getFormattedKey(key);\n        return this.element.hasAttribute(key);\n    };\n    DataMap.prototype.delete = function (key) {\n        if (this.has(key)) {\n            key = this.getFormattedKey(key);\n            this.element.removeAttribute(key);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DataMap.prototype.getFormattedKey = function (key) {\n        return \"data-\" + this.identifier + \"-\" + dasherize(key);\n    };\n    return DataMap;\n}());\nexport { DataMap };\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, function (_, char) { return \"-\" + char.toLowerCase(); });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YV9tYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZGF0YV9tYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7SUFHRSxpQkFBWSxLQUFZO1FBQ3RCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO0lBQ3BCLENBQUM7SUFFRCxzQkFBSSw0QkFBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFVO2FBQWQ7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFBO1FBQzlCLENBQUM7OztPQUFBO0lBRUQscUJBQUcsR0FBSCxVQUFJLEdBQVc7UUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFFRCxxQkFBRyxHQUFILFVBQUksR0FBVyxFQUFFLEtBQWE7UUFDNUIsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3JDLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUN0QixDQUFDO0lBRUQscUJBQUcsR0FBSCxVQUFJLEdBQVc7UUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFFRCx3QkFBTSxHQUFOLFVBQU8sR0FBVztRQUNoQixJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDakIsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDakMsT0FBTyxJQUFJLENBQUE7U0FDWjthQUFNO1lBQ0wsT0FBTyxLQUFLLENBQUE7U0FDYjtJQUNILENBQUM7SUFFTyxpQ0FBZSxHQUF2QixVQUF3QixHQUFXO1FBQ2pDLE9BQU8sVUFBUSxJQUFJLENBQUMsVUFBVSxTQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUcsQ0FBQTtJQUNwRCxDQUFDO0lBQ0gsY0FBQztBQUFELENBQUMsQUE1Q0QsSUE0Q0M7O0FBRUQsbUJBQW1CLEtBQWE7SUFDOUIsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxVQUFDLENBQUMsRUFBRSxJQUFJLElBQUssT0FBQSxNQUFJLElBQUksQ0FBQyxXQUFXLEVBQUksRUFBeEIsQ0FBd0IsQ0FBQyxDQUFBO0FBQ3pFLENBQUMifQ==","/** @hidden */\nexport function attributeValueContainsToken(attributeName, token) {\n    return \"[\" + attributeName + \"~=\\\"\" + token + \"\\\"]\";\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0b3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NlbGVjdG9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxjQUFjO0FBQ2QsTUFBTSxzQ0FBc0MsYUFBcUIsRUFBRSxLQUFhO0lBQzlFLE9BQU8sTUFBSSxhQUFhLFlBQU0sS0FBSyxRQUFJLENBQUE7QUFDekMsQ0FBQyJ9","import { attributeValueContainsToken } from \"./selectors\";\nvar TargetSet = /** @class */ (function () {\n    function TargetSet(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(TargetSet.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"schema\", {\n        get: function () {\n            return this.scope.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TargetSet.prototype.has = function (targetName) {\n        return this.find(targetName) != null;\n    };\n    TargetSet.prototype.find = function () {\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        var selector = this.getSelectorForTargetNames(targetNames);\n        return this.scope.findElement(selector);\n    };\n    TargetSet.prototype.findAll = function () {\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        var selector = this.getSelectorForTargetNames(targetNames);\n        return this.scope.findAllElements(selector);\n    };\n    TargetSet.prototype.getSelectorForTargetNames = function (targetNames) {\n        var _this = this;\n        return targetNames.map(function (targetName) { return _this.getSelectorForTargetName(targetName); }).join(\", \");\n    };\n    TargetSet.prototype.getSelectorForTargetName = function (targetName) {\n        var targetDescriptor = this.identifier + \".\" + targetName;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    };\n    return TargetSet;\n}());\nexport { TargetSet };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFyZ2V0X3NldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90YXJnZXRfc2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGFBQWEsQ0FBQTtBQUV6RDtJQUdFLG1CQUFZLEtBQVk7UUFDdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7SUFDcEIsQ0FBQztJQUVELHNCQUFJLDhCQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksaUNBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUE7UUFDOUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw2QkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQTtRQUMxQixDQUFDOzs7T0FBQTtJQUVELHVCQUFHLEdBQUgsVUFBSSxVQUFrQjtRQUNwQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksSUFBSSxDQUFBO0lBQ3RDLENBQUM7SUFFRCx3QkFBSSxHQUFKO1FBQUsscUJBQXdCO2FBQXhCLFVBQXdCLEVBQXhCLHFCQUF3QixFQUF4QixJQUF3QjtZQUF4QixnQ0FBd0I7O1FBQzNCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUM1RCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQ3pDLENBQUM7SUFFRCwyQkFBTyxHQUFQO1FBQVEscUJBQXdCO2FBQXhCLFVBQXdCLEVBQXhCLHFCQUF3QixFQUF4QixJQUF3QjtZQUF4QixnQ0FBd0I7O1FBQzlCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUM1RCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQzdDLENBQUM7SUFFTyw2Q0FBeUIsR0FBakMsVUFBa0MsV0FBcUI7UUFBdkQsaUJBRUM7UUFEQyxPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBQSxVQUFVLElBQUksT0FBQSxLQUFJLENBQUMsd0JBQXdCLENBQUMsVUFBVSxDQUFDLEVBQXpDLENBQXlDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDNUYsQ0FBQztJQUVPLDRDQUF3QixHQUFoQyxVQUFpQyxVQUFrQjtRQUNqRCxJQUFNLGdCQUFnQixHQUFNLElBQUksQ0FBQyxVQUFVLFNBQUksVUFBWSxDQUFBO1FBQzNELE9BQU8sMkJBQTJCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQTtJQUNuRixDQUFDO0lBQ0gsZ0JBQUM7QUFBRCxDQUFDLEFBekNELElBeUNDIn0=","import { DataMap } from \"./data_map\";\nimport { TargetSet } from \"./target_set\";\nimport { attributeValueContainsToken } from \"./selectors\";\nvar Scope = /** @class */ (function () {\n    function Scope(schema, identifier, element) {\n        this.schema = schema;\n        this.identifier = identifier;\n        this.element = element;\n        this.targets = new TargetSet(this);\n        this.data = new DataMap(this);\n    }\n    Scope.prototype.findElement = function (selector) {\n        return this.findAllElements(selector)[0];\n    };\n    Scope.prototype.findAllElements = function (selector) {\n        var head = this.element.matches(selector) ? [this.element] : [];\n        var tail = this.filterElements(Array.from(this.element.querySelectorAll(selector)));\n        return head.concat(tail);\n    };\n    Scope.prototype.filterElements = function (elements) {\n        var _this = this;\n        return elements.filter(function (element) { return _this.containsElement(element); });\n    };\n    Scope.prototype.containsElement = function (element) {\n        return element.closest(this.controllerSelector) === this.element;\n    };\n    Object.defineProperty(Scope.prototype, \"controllerSelector\", {\n        get: function () {\n            return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Scope;\n}());\nexport { Scope };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NvcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQTtBQUVwQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFBO0FBQ3hDLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGFBQWEsQ0FBQTtBQUV6RDtJQU9FLGVBQVksTUFBYyxFQUFFLFVBQWtCLEVBQUUsT0FBZ0I7UUFDOUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7UUFDcEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUE7UUFDNUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQy9CLENBQUM7SUFFRCwyQkFBVyxHQUFYLFVBQVksUUFBZ0I7UUFDMUIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQzFDLENBQUM7SUFFRCwrQkFBZSxHQUFmLFVBQWdCLFFBQWdCO1FBQzlCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBO1FBQ2pFLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNyRixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDMUIsQ0FBQztJQUVELDhCQUFjLEdBQWQsVUFBZSxRQUFtQjtRQUFsQyxpQkFFQztRQURDLE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLEtBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLEVBQTdCLENBQTZCLENBQUMsQ0FBQTtJQUNsRSxDQUFDO0lBRUQsK0JBQWUsR0FBZixVQUFnQixPQUFnQjtRQUM5QixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQTtJQUNsRSxDQUFDO0lBRUQsc0JBQVkscUNBQWtCO2FBQTlCO1lBQ0UsT0FBTywyQkFBMkIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUN0RixDQUFDOzs7T0FBQTtJQUNILFlBQUM7QUFBRCxDQUFDLEFBcENELElBb0NDIn0=","import { Scope } from \"./scope\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\nvar ScopeObserver = /** @class */ (function () {\n    function ScopeObserver(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap;\n        this.scopeReferenceCounts = new WeakMap;\n    }\n    ScopeObserver.prototype.start = function () {\n        this.valueListObserver.start();\n    };\n    ScopeObserver.prototype.stop = function () {\n        this.valueListObserver.stop();\n    };\n    Object.defineProperty(ScopeObserver.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Value observer delegate\n    /** @hidden */\n    ScopeObserver.prototype.parseValueForToken = function (token) {\n        var element = token.element, identifier = token.content;\n        var scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        var scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = new Scope(this.schema, identifier, element);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    };\n    /** @hidden */\n    ScopeObserver.prototype.elementMatchedValue = function (element, value) {\n        var referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    };\n    /** @hidden */\n    ScopeObserver.prototype.elementUnmatchedValue = function (element, value) {\n        var referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    };\n    ScopeObserver.prototype.fetchScopesByIdentifierForElement = function (element) {\n        var scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map;\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    };\n    return ScopeObserver;\n}());\nexport { ScopeObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGVfb2JzZXJ2ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NvcGVfb2JzZXJ2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUMvQixPQUFPLEVBQVMsaUJBQWlCLEVBQTZCLE1BQU0sOEJBQThCLENBQUE7QUFPbEc7SUFRRSx1QkFBWSxPQUFnQixFQUFFLE1BQWMsRUFBRSxRQUErQjtRQUMzRSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQTtRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtRQUNwQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtRQUN4QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUM1RixJQUFJLENBQUMsMkJBQTJCLEdBQUcsSUFBSSxPQUFPLENBQUE7UUFDOUMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksT0FBTyxDQUFBO0lBQ3pDLENBQUM7SUFFRCw2QkFBSyxHQUFMO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFBO0lBQ2hDLENBQUM7SUFFRCw0QkFBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQy9CLENBQUM7SUFFRCxzQkFBSSw4Q0FBbUI7YUFBdkI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUE7UUFDeEMsQ0FBQzs7O09BQUE7SUFFRCwwQkFBMEI7SUFFMUIsY0FBYztJQUNkLDBDQUFrQixHQUFsQixVQUFtQixLQUFZO1FBQ3JCLElBQUEsdUJBQU8sRUFBRSwwQkFBbUIsQ0FBVTtRQUM5QyxJQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUUxRSxJQUFJLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDOUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQTtZQUNuRCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQzFDO1FBRUQsT0FBTyxLQUFLLENBQUE7SUFDZCxDQUFDO0lBRUQsY0FBYztJQUNkLDJDQUFtQixHQUFuQixVQUFvQixPQUFnQixFQUFFLEtBQVk7UUFDaEQsSUFBTSxjQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUN0RSxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQTtRQUNwRCxJQUFJLGNBQWMsSUFBSSxDQUFDLEVBQUU7WUFDdkIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUE7U0FDcEM7SUFDSCxDQUFDO0lBRUQsY0FBYztJQUNkLDZDQUFxQixHQUFyQixVQUFzQixPQUFnQixFQUFFLEtBQVk7UUFDbEQsSUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUMzRCxJQUFJLGNBQWMsRUFBRTtZQUNsQixJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxjQUFjLEdBQUcsQ0FBQyxDQUFDLENBQUE7WUFDeEQsSUFBSSxjQUFjLElBQUksQ0FBQyxFQUFFO2dCQUN2QixJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFBO2FBQ3ZDO1NBQ0Y7SUFDSCxDQUFDO0lBRU8seURBQWlDLEdBQXpDLFVBQTBDLE9BQWdCO1FBQ3hELElBQUksa0JBQWtCLEdBQUcsSUFBSSxDQUFDLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUN0RSxJQUFJLENBQUMsa0JBQWtCLEVBQUU7WUFDdkIsa0JBQWtCLEdBQUcsSUFBSSxHQUFHLENBQUE7WUFDNUIsSUFBSSxDQUFDLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLENBQUMsQ0FBQTtTQUNsRTtRQUNELE9BQU8sa0JBQWtCLENBQUE7SUFDM0IsQ0FBQztJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQXpFRCxJQXlFQyJ9","import { Module } from \"./module\";\nimport { Multimap } from \"@stimulus/multimap\";\nimport { ScopeObserver } from \"./scope_observer\";\nvar Router = /** @class */ (function () {\n    function Router(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap;\n        this.modulesByIdentifier = new Map;\n    }\n    Object.defineProperty(Router.prototype, \"element\", {\n        get: function () {\n            return this.application.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"modules\", {\n        get: function () {\n            return Array.from(this.modulesByIdentifier.values());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"contexts\", {\n        get: function () {\n            return this.modules.reduce(function (contexts, module) { return contexts.concat(module.contexts); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Router.prototype.start = function () {\n        this.scopeObserver.start();\n    };\n    Router.prototype.stop = function () {\n        this.scopeObserver.stop();\n    };\n    Router.prototype.loadDefinition = function (definition) {\n        this.unloadIdentifier(definition.identifier);\n        var module = new Module(this.application, definition);\n        this.connectModule(module);\n    };\n    Router.prototype.unloadIdentifier = function (identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    };\n    Router.prototype.getContextForElementAndIdentifier = function (element, identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find(function (context) { return context.element == element; });\n        }\n    };\n    // Error handler delegate\n    /** @hidden */\n    Router.prototype.handleError = function (error, message, detail) {\n        this.application.handleError(error, message, detail);\n    };\n    // Scope observer delegate\n    /** @hidden */\n    Router.prototype.scopeConnected = function (scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        var module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    };\n    /** @hidden */\n    Router.prototype.scopeDisconnected = function (scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        var module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    };\n    // Modules\n    Router.prototype.connectModule = function (module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(function (scope) { return module.connectContextForScope(scope); });\n    };\n    Router.prototype.disconnectModule = function (module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(function (scope) { return module.disconnectContextForScope(scope); });\n    };\n    return Router;\n}());\nexport { Router };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JvdXRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2pDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQUc3QyxPQUFPLEVBQUUsYUFBYSxFQUF5QixNQUFNLGtCQUFrQixDQUFBO0FBRXZFO0lBTUUsZ0JBQVksV0FBd0I7UUFDbEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUE7UUFDOUIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDdkUsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksUUFBUSxDQUFBO1FBQ3RDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNwQyxDQUFDO0lBRUQsc0JBQUksMkJBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUE7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwwQkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHVDQUFtQjthQUF2QjtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQTtRQUN4QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDJCQUFPO2FBQVg7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7UUFDdEQsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw0QkFBUTthQUFaO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FB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","export var defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\"\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NjaGVtYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNQSxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQVc7SUFDbkMsbUJBQW1CLEVBQUUsaUJBQWlCO0lBQ3RDLGVBQWUsRUFBRSxhQUFhO0lBQzlCLGVBQWUsRUFBRSxhQUFhO0NBQy9CLENBQUEifQ==","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Dispatcher } from \"./dispatcher\";\nimport { Router } from \"./router\";\nimport { defaultSchema } from \"./schema\";\nvar Application = /** @class */ (function () {\n    function Application(element, schema) {\n        if (element === void 0) { element = document.documentElement; }\n        if (schema === void 0) { schema = defaultSchema; }\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n    }\n    Application.start = function (element, schema) {\n        var application = new Application(element, schema);\n        application.start();\n        return application;\n    };\n    Application.prototype.start = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, domReady()];\n                    case 1:\n                        _a.sent();\n                        this.router.start();\n                        this.dispatcher.start();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Application.prototype.stop = function () {\n        this.router.stop();\n        this.dispatcher.stop();\n    };\n    Application.prototype.register = function (identifier, controllerConstructor) {\n        this.load({ identifier: identifier, controllerConstructor: controllerConstructor });\n    };\n    Application.prototype.load = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var definitions = Array.isArray(head) ? head : [head].concat(rest);\n        definitions.forEach(function (definition) { return _this.router.loadDefinition(definition); });\n    };\n    Application.prototype.unload = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var identifiers = Array.isArray(head) ? head : [head].concat(rest);\n        identifiers.forEach(function (identifier) { return _this.router.unloadIdentifier(identifier); });\n    };\n    Object.defineProperty(Application.prototype, \"controllers\", {\n        // Controllers\n        get: function () {\n            return this.router.contexts.map(function (context) { return context.controller; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Application.prototype.getControllerForElementAndIdentifier = function (element, identifier) {\n        var context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    };\n    // Error handling\n    Application.prototype.handleError = function (error, message, detail) {\n        console.error(\"%s\\n\\n%o\\n\\n%o\", message, error, detail);\n    };\n    return Application;\n}());\nexport { Application };\nfunction domReady() {\n    return new Promise(function (resolve) {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", resolve);\n        }\n        else {\n            resolve();\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwbGljYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYXBwbGljYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sY0FBYyxDQUFBO0FBRXpDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDakMsT0FBTyxFQUFVLGFBQWEsRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUVoRDtJQVlFLHFCQUFZLE9BQTJDLEVBQUUsTUFBOEI7UUFBM0Usd0JBQUEsRUFBQSxVQUFtQixRQUFRLENBQUMsZUFBZTtRQUFFLHVCQUFBLEVBQUEsc0JBQThCO1FBQ3JGLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDdEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUNoQyxDQUFDO0lBWE0saUJBQUssR0FBWixVQUFhLE9BQWlCLEVBQUUsTUFBZTtRQUM3QyxJQUFNLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDcEQsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFBO1FBQ25CLE9BQU8sV0FBVyxDQUFBO0lBQ3BCLENBQUM7SUFTSywyQkFBSyxHQUFYOzs7OzRCQUNFLHFCQUFNLFFBQVEsRUFBRSxFQUFBOzt3QkFBaEIsU0FBZ0IsQ0FBQTt3QkFDaEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQTt3QkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQTs7Ozs7S0FDeEI7SUFFRCwwQkFBSSxHQUFKO1FB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","/** @hidden */\nexport function defineTargetProperties(constructor) {\n    var prototype = constructor.prototype;\n    var targetNames = getTargetNamesForConstructor(constructor);\n    targetNames.forEach(function (name) {\n        var _a;\n        return defineLinkedProperties(prototype, (_a = {},\n            _a[name + \"Target\"] = {\n                get: function () {\n                    var target = this.targets.find(name);\n                    if (target) {\n                        return target;\n                    }\n                    else {\n                        throw new Error(\"Missing target element \\\"\" + this.identifier + \".\" + name + \"\\\"\");\n                    }\n                }\n            },\n            _a[name + \"Targets\"] = {\n                get: function () {\n                    return this.targets.findAll(name);\n                }\n            },\n            _a[\"has\" + capitalize(name) + \"Target\"] = {\n                get: function () {\n                    return this.targets.has(name);\n                }\n            },\n            _a));\n    });\n}\nfunction getTargetNamesForConstructor(constructor) {\n    var ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce(function (targetNames, constructor) {\n        getOwnTargetNamesForConstructor(constructor).forEach(function (name) { return targetNames.add(name); });\n        return targetNames;\n    }, new Set));\n}\nfunction getAncestorsForConstructor(constructor) {\n    var ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors;\n}\nfunction getOwnTargetNamesForConstructor(constructor) {\n    var definition = constructor[\"targets\"];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction defineLinkedProperties(object, properties) {\n    Object.keys(properties).forEach(function (name) {\n        if (!(name in object)) {\n            var descriptor = properties[name];\n            Object.defineProperty(object, name, descriptor);\n        }\n    });\n}\nfunction capitalize(name) {\n    return name.charAt(0).toUpperCase() + name.slice(1);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFyZ2V0X3Byb3BlcnRpZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdGFyZ2V0X3Byb3BlcnRpZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsY0FBYztBQUNkLE1BQU0saUNBQWlDLFdBQXFCO0lBQzFELElBQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUE7SUFDdkMsSUFBTSxXQUFXLEdBQUcsNEJBQTRCLENBQUMsV0FBVyxDQUFDLENBQUE7SUFDN0QsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUk7O1FBQUksT0FBQSxzQkFBc0IsQ0FBQyxTQUFTO1lBQzFELEdBQUksSUFBSSxXQUFRLElBQUc7Z0JBQ2pCLEdBQUc7b0JBQ0QsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7b0JBQ3RDLElBQUksTUFBTSxFQUFFO3dCQUNWLE9BQU8sTUFBTSxDQUFBO3FCQUNkO3lCQUFNO3dCQUNMLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQTJCLElBQUksQ0FBQyxVQUFVLFNBQUksSUFBSSxPQUFHLENBQUMsQ0FBQTtxQkFDdkU7Z0JBQ0gsQ0FBQzthQUNGO1lBQ0QsR0FBSSxJQUFJLFlBQVMsSUFBRztnQkFDbEIsR0FBRztvQkFDRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO2dCQUNuQyxDQUFDO2FBQ0Y7WUFDRCxHQUFDLFFBQU0sVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFRLElBQUc7Z0JBQ2hDLEdBQUc7b0JBQ0QsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDL0IsQ0FBQzthQUNGO2dCQUNEO0lBckIwQixDQXFCMUIsQ0FBQyxDQUFBO0FBQ0wsQ0FBQztBQUVELHNDQUFzQyxXQUFxQjtJQUN6RCxJQUFNLFNBQVMsR0FBRywwQkFBMEIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtJQUN6RCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFDLFdBQVcsRUFBRSxXQUFXO1FBQzFELCtCQUErQixDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUksSUFBSSxPQUFBLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQXJCLENBQXFCLENBQUMsQ0FBQTtRQUNuRixPQUFPLFdBQVcsQ0FBQTtJQUNwQixDQUFDLEVBQUUsSUFBSSxHQUFrQixDQUFDLENBQUMsQ0FBQTtBQUM3QixDQUFDO0FBRUQsb0NBQW9DLFdBQXFCO0lBQ3ZELElBQU0sU0FBUyxHQUFlLEVBQUUsQ0FBQTtJQUNoQyxPQUFPLFdBQVcsRUFBRTtRQUNsQixTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQzNCLFdBQVcsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0tBQ2pEO0lBQ0QsT0FBTyxTQUFTLENBQUE7QUFDbEIsQ0FBQztBQUVELHlDQUF5QyxXQUFxQjtJQUM1RCxJQUFNLFVBQVUsR0FBSSxXQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ2xELE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUE7QUFDcEQsQ0FBQztBQUVELGdDQUFnQyxNQUFXLEVBQUUsVUFBaUM7SUFDNUUsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFJO1FBQ25DLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxNQUFNLENBQUMsRUFBRTtZQUNyQixJQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDbkMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFBO1NBQ2hEO0lBQ0gsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDO0FBRUQsb0JBQW9CLElBQVk7SUFDOUIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDckQsQ0FBQyJ9","import { defineTargetProperties } from \"./target_properties\";\nvar Controller = /** @class */ (function () {\n    function Controller(context) {\n        this.context = context;\n    }\n    Controller.bless = function () {\n        defineTargetProperties(this);\n    };\n    Object.defineProperty(Controller.prototype, \"application\", {\n        get: function () {\n            return this.context.application;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"targets\", {\n        get: function () {\n            return this.scope.targets;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"data\", {\n        get: function () {\n            return this.scope.data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Controller.prototype.initialize = function () {\n        // Override in your subclass to set up initial controller state\n    };\n    Controller.prototype.connect = function () {\n        // Override in your subclass to respond when the controller is connected to the DOM\n    };\n    Controller.prototype.disconnect = function () {\n        // Override in your subclass to respond when the controller is disconnected from the DOM\n    };\n    Controller.targets = [];\n    return Controller;\n}());\nexport { Controller };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLHFCQUFxQixDQUFBO0FBTzVEO0lBU0Usb0JBQVksT0FBZ0I7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7SUFDeEIsQ0FBQztJQU5NLGdCQUFLLEdBQVo7UUFDRSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUM5QixDQUFDO0lBTUQsc0JBQUksbUNBQVc7YUFBZjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUE7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw2QkFBSzthQUFUO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksa0NBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUE7UUFDOUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwrQkFBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFJO2FBQVI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFBO1FBQ3hCLENBQUM7OztPQUFBO0lBRUQsK0JBQVUsR0FBVjtRQUNFLCtEQUErRDtJQUNqRSxDQUFDO0lBRUQsNEJBQU8sR0FBUDtRQUNFLG1GQUFtRjtJQUNyRixDQUFDO0lBRUQsK0JBQVUsR0FBVjtRQUNFLHdGQUF3RjtJQUMxRixDQUFDO0lBOUNNLGtCQUFPLEdBQWEsRUFBRSxDQUFBO0lBK0MvQixpQkFBQztDQUFBLEFBaERELElBZ0RDO1NBaERZLFVBQVUifQ==","export * from \"@stimulus/core\"\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","// Flickity main\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter',\n      'get-size/get-size',\n      'fizzy-ui-utils/utils',\n      './cell',\n      './slide',\n      './animate'\n    ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./cell'),\n      require('./slide'),\n      require('./animate')\n    );\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      _Flickity.Cell,\n      _Flickity.Slide,\n      _Flickity.animatePrototype\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize,\n  utils, Cell, Slide, animatePrototype ) {\n\n'use strict';\n\n// vars\nvar jQuery = window.jQuery;\nvar getComputedStyle = window.getComputedStyle;\nvar console = window.console;\n\nfunction moveElements( elems, toElem ) {\n  elems = utils.makeArray( elems );\n  while ( elems.length ) {\n    toElem.appendChild( elems.shift() );\n  }\n}\n\n// -------------------------- Flickity -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Flickity intances\nvar instances = {};\n\nfunction Flickity( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // do not initialize twice on same element\n  if ( this.element.flickityGUID ) {\n    var instance = instances[ this.element.flickityGUID ];\n    instance.option( options );\n    return instance;\n  }\n\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // kick things off\n  this._create();\n}\n\nFlickity.defaults = {\n  accessibility: true,\n  // adaptiveHeight: false,\n  cellAlign: 'center',\n  // cellSelector: undefined,\n  // contain: false,\n  freeScrollFriction: 0.075, // friction when free-scrolling\n  friction: 0.28, // friction when selecting\n  namespaceJQueryEvents: true,\n  // initialIndex: 0,\n  percentPosition: true,\n  resize: true,\n  selectedAttraction: 0.025,\n  setGallerySize: true\n  // watchCSS: false,\n  // wrapAround: false\n};\n\n// hash of methods triggered on _create()\nFlickity.createMethods = [];\n\nvar proto = Flickity.prototype;\n// inherit EventEmitter\nutils.extend( proto, EvEmitter.prototype );\n\nproto._create = function() {\n  // add id for Flickity.data\n  var id = this.guid = ++GUID;\n  this.element.flickityGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // initial properties\n  this.selectedIndex = 0;\n  // how many frames slider has been in same position\n  this.restingFrames = 0;\n  // initial physics properties\n  this.x = 0;\n  this.velocity = 0;\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\n  // create viewport & slider\n  this.viewport = document.createElement('div');\n  this.viewport.className = 'flickity-viewport';\n  this._createSlider();\n\n  if ( this.options.resize || this.options.watchCSS ) {\n    window.addEventListener( 'resize', this );\n  }\n\n  // add listeners from on option\n  for ( var eventName in this.options.on ) {\n    var listener = this.options.on[ eventName ];\n    this.on( eventName, listener );\n  }\n\n  Flickity.createMethods.forEach( function( method ) {\n    this[ method ]();\n  }, this );\n\n  if ( this.options.watchCSS ) {\n    this.watchCSS();\n  } else {\n    this.activate();\n  }\n\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nproto.activate = function() {\n  if ( this.isActive ) {\n    return;\n  }\n  this.isActive = true;\n  this.element.classList.add('flickity-enabled');\n  if ( this.options.rightToLeft ) {\n    this.element.classList.add('flickity-rtl');\n  }\n\n  this.getSize();\n  // move initial cell elements so they can be loaded as cells\n  var cellElems = this._filterFindCellElements( this.element.children );\n  moveElements( cellElems, this.slider );\n  this.viewport.appendChild( this.slider );\n  this.element.appendChild( this.viewport );\n  // get cells from children\n  this.reloadCells();\n\n  if ( this.options.accessibility ) {\n    // allow element to focusable\n    this.element.tabIndex = 0;\n    // listen for key presses\n    this.element.addEventListener( 'keydown', this );\n  }\n\n  this.emitEvent('activate');\n  this.selectInitialIndex();\n  // flag for initial activation, for using initialIndex\n  this.isInitActivated = true;\n  // ready event. #493\n  this.dispatchEvent('ready');\n};\n\n// slider positions the cells\nproto._createSlider = function() {\n  // slider element does all the positioning\n  var slider = document.createElement('div');\n  slider.className = 'flickity-slider';\n  slider.style[ this.originSide ] = 0;\n  this.slider = slider;\n};\n\nproto._filterFindCellElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.cellSelector );\n};\n\n// goes through all children\nproto.reloadCells = function() {\n  // collection of item elements\n  this.cells = this._makeCells( this.slider.children );\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n};\n\n/**\n * turn elements into Flickity.Cells\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Flickity Cells\n */\nproto._makeCells = function( elems ) {\n  var cellElems = this._filterFindCellElements( elems );\n\n  // create new Flickity for collection\n  var cells = cellElems.map( function( cellElem ) {\n    return new Cell( cellElem, this );\n  }, this );\n\n  return cells;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.getLastSlide = function() {\n  return this.slides[ this.slides.length - 1 ];\n};\n\n// positions all cells\nproto.positionCells = function() {\n  // size all cells\n  this._sizeCells( this.cells );\n  // position all cells\n  this._positionCells( 0 );\n};\n\n/**\n * position certain cells\n * @param {Integer} index - which cell to start with\n */\nproto._positionCells = function( index ) {\n  index = index || 0;\n  // also measure maxCellHeight\n  // start 0 if positioning all cells\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n  var cellX = 0;\n  // get cellX\n  if ( index > 0 ) {\n    var startCell = this.cells[ index - 1 ];\n    cellX = startCell.x + startCell.size.outerWidth;\n  }\n  var len = this.cells.length;\n  for ( var i=index; i < len; i++ ) {\n    var cell = this.cells[i];\n    cell.setPosition( cellX );\n    cellX += cell.size.outerWidth;\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n  }\n  // keep track of cellX for wrap-around\n  this.slideableWidth = cellX;\n  // slides\n  this.updateSlides();\n  // contain slides target\n  this._containSlides();\n  // update slidesWidth\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n};\n\n/**\n * cell.getSize() on multiple cells\n * @param {Array} cells\n */\nproto._sizeCells = function( cells ) {\n  cells.forEach( function( cell ) {\n    cell.getSize();\n  });\n};\n\n// --------------------------  -------------------------- //\n\nproto.updateSlides = function() {\n  this.slides = [];\n  if ( !this.cells.length ) {\n    return;\n  }\n\n  var slide = new Slide( this );\n  this.slides.push( slide );\n  var isOriginLeft = this.originSide == 'left';\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n  var canCellFit = this._getCanCellFit();\n\n  this.cells.forEach( function( cell, i ) {\n    // just add cell if first cell in slide\n    if ( !slide.cells.length ) {\n      slide.addCell( cell );\n      return;\n    }\n\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n    if ( canCellFit.call( this, i, slideWidth ) ) {\n      slide.addCell( cell );\n    } else {\n      // doesn't fit, new slide\n      slide.updateTarget();\n\n      slide = new Slide( this );\n      this.slides.push( slide );\n      slide.addCell( cell );\n    }\n  }, this );\n  // last slide\n  slide.updateTarget();\n  // update .selectedSlide\n  this.updateSelectedSlide();\n};\n\nproto._getCanCellFit = function() {\n  var groupCells = this.options.groupCells;\n  if ( !groupCells ) {\n    return function() {\n      return false;\n    };\n  } else if ( typeof groupCells == 'number' ) {\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\n    var number = parseInt( groupCells, 10 );\n    return function( i ) {\n      return ( i % number ) !== 0;\n    };\n  }\n  // default, group by width of slide\n  // parse '75%\n  var percentMatch = typeof groupCells == 'string' &&\n    groupCells.match(/^(\\d+)%$/);\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n  return function( i, slideWidth ) {\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n  };\n};\n\n// alias _init for jQuery plugin .flickity()\nproto._init =\nproto.reposition = function() {\n  this.positionCells();\n  this.positionSliderAtSelected();\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n  this.setCellAlign();\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\n};\n\nvar cellAlignShorthands = {\n  // cell align, then based on origin side\n  center: {\n    left: 0.5,\n    right: 0.5\n  },\n  left: {\n    left: 0,\n    right: 1\n  },\n  right: {\n    right: 0,\n    left: 1\n  }\n};\n\nproto.setCellAlign = function() {\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n};\n\nproto.setGallerySize = function() {\n  if ( this.options.setGallerySize ) {\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\n      this.selectedSlide.height : this.maxCellHeight;\n    this.viewport.style.height = height + 'px';\n  }\n};\n\nproto._getWrapShiftCells = function() {\n  // only for wrap-around\n  if ( !this.options.wrapAround ) {\n    return;\n  }\n  // unshift previous cells\n  this._unshiftCells( this.beforeShiftCells );\n  this._unshiftCells( this.afterShiftCells );\n  // get before cells\n  // initial gap\n  var gapX = this.cursorPosition;\n  var cellIndex = this.cells.length - 1;\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n  // get after cells\n  // ending gap between last cell and end of gallery viewport\n  gapX = this.size.innerWidth - this.cursorPosition;\n  // start cloning at first cell, working forwards\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n};\n\nproto._getGapCells = function( gapX, cellIndex, increment ) {\n  // keep adding cells until the cover the initial gap\n  var cells = [];\n  while ( gapX > 0 ) {\n    var cell = this.cells[ cellIndex ];\n    if ( !cell ) {\n      break;\n    }\n    cells.push( cell );\n    cellIndex += increment;\n    gapX -= cell.size.outerWidth;\n  }\n  return cells;\n};\n\n// ----- contain ----- //\n\n// contain cell targets so no excess sliding\nproto._containSlides = function() {\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n    return;\n  }\n  var isRightToLeft = this.options.rightToLeft;\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n  // content is less than gallery size\n  var isContentSmaller = contentWidth < this.size.innerWidth;\n  // bounds\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n  // contain each cell target\n  this.slides.forEach( function( slide ) {\n    if ( isContentSmaller ) {\n      // all cells fit inside gallery\n      slide.target = contentWidth * this.cellAlign;\n    } else {\n      // contain to bounds\n      slide.target = Math.max( slide.target, beginBound );\n      slide.target = Math.min( slide.target, endBound );\n    }\n  }, this );\n};\n\n// -----  ----- //\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery && this.$element ) {\n    // default trigger with type if no event\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n    var $event = type;\n    if ( event ) {\n      // create jQuery event\n      var jQEvent = jQuery.Event( event );\n      jQEvent.type = type;\n      $event = jQEvent;\n    }\n    this.$element.trigger( $event, args );\n  }\n};\n\n// -------------------------- select -------------------------- //\n\n/**\n * @param {Integer} index - index of the slide\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n * @param {Boolean} isInstant - will immediately set position at selected cell\n */\nproto.select = function( index, isWrap, isInstant ) {\n  if ( !this.isActive ) {\n    return;\n  }\n  index = parseInt( index, 10 );\n  this._wrapSelect( index );\n\n  if ( this.options.wrapAround || isWrap ) {\n    index = utils.modulo( index, this.slides.length );\n  }\n  // bail if invalid index\n  if ( !this.slides[ index ] ) {\n    return;\n  }\n  var prevIndex = this.selectedIndex;\n  this.selectedIndex = index;\n  this.updateSelectedSlide();\n  if ( isInstant ) {\n    this.positionSliderAtSelected();\n  } else {\n    this.startAnimation();\n  }\n  if ( this.options.adaptiveHeight ) {\n    this.setGallerySize();\n  }\n  // events\n  this.dispatchEvent( 'select', null, [ index ] );\n  // change event if new index\n  if ( index != prevIndex ) {\n    this.dispatchEvent( 'change', null, [ index ] );\n  }\n  // old v1 event name, remove in v3\n  this.dispatchEvent('cellSelect');\n};\n\n// wraps position for wrapAround, to move to closest slide. #113\nproto._wrapSelect = function( index ) {\n  var len = this.slides.length;\n  var isWrapping = this.options.wrapAround && len > 1;\n  if ( !isWrapping ) {\n    return index;\n  }\n  var wrapIndex = utils.modulo( index, len );\n  // go to shortest\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\n    index += len;\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n    index -= len;\n  }\n  // wrap position so slider is within normal area\n  if ( index < 0 ) {\n    this.x -= this.slideableWidth;\n  } else if ( index >= len ) {\n    this.x += this.slideableWidth;\n  }\n};\n\nproto.previous = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\n};\n\nproto.next = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\n};\n\nproto.updateSelectedSlide = function() {\n  var slide = this.slides[ this.selectedIndex ];\n  // selectedIndex could be outside of slides, if triggered before resize()\n  if ( !slide ) {\n    return;\n  }\n  // unselect previous selected slide\n  this.unselectSelectedSlide();\n  // update new selected slide\n  this.selectedSlide = slide;\n  slide.select();\n  this.selectedCells = slide.cells;\n  this.selectedElements = slide.getCellElements();\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n  // Remove in v3?\n  this.selectedCell = slide.cells[0];\n  this.selectedElement = this.selectedElements[0];\n};\n\nproto.unselectSelectedSlide = function() {\n  if ( this.selectedSlide ) {\n    this.selectedSlide.unselect();\n  }\n};\n\nproto.selectInitialIndex = function() {\n  var initialIndex = this.options.initialIndex;\n  // already activated, select previous selectedIndex\n  if ( this.isInitActivated ) {\n    this.select( this.selectedIndex, false, true );\n    return;\n  }\n  // select with selector string\n  if ( initialIndex && typeof initialIndex == 'string' ) {\n    var cell = this.queryCell( initialIndex );\n    if ( cell ) {\n      this.selectCell( initialIndex, false, true );\n      return;\n    }\n  }\n\n  var index = 0;\n  // select with number\n  if ( initialIndex && this.slides[ initialIndex ] ) {\n    index = initialIndex;\n  }\n  // select instantly\n  this.select( index, false, true );\n};\n\n/**\n * select slide from number or cell element\n * @param {Element or Number} elem\n */\nproto.selectCell = function( value, isWrap, isInstant ) {\n  // get cell\n  var cell = this.queryCell( value );\n  if ( !cell ) {\n    return;\n  }\n\n  var index = this.getCellSlideIndex( cell );\n  this.select( index, isWrap, isInstant );\n};\n\nproto.getCellSlideIndex = function( cell ) {\n  // get index of slides that has cell\n  for ( var i=0; i < this.slides.length; i++ ) {\n    var slide = this.slides[i];\n    var index = slide.cells.indexOf( cell );\n    if ( index != -1 ) {\n      return i;\n    }\n  }\n};\n\n// -------------------------- get cells -------------------------- //\n\n/**\n * get Flickity.Cell, given an Element\n * @param {Element} elem\n * @returns {Flickity.Cell} item\n */\nproto.getCell = function( elem ) {\n  // loop through cells to get the one that matches\n  for ( var i=0; i < this.cells.length; i++ ) {\n    var cell = this.cells[i];\n    if ( cell.element == elem ) {\n      return cell;\n    }\n  }\n};\n\n/**\n * get collection of Flickity.Cells, given Elements\n * @param {Element, Array, NodeList} elems\n * @returns {Array} cells - Flickity.Cells\n */\nproto.getCells = function( elems ) {\n  elems = utils.makeArray( elems );\n  var cells = [];\n  elems.forEach( function( elem ) {\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      cells.push( cell );\n    }\n  }, this );\n  return cells;\n};\n\n/**\n * get cell elements\n * @returns {Array} cellElems\n */\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\n/**\n * get parent cell from an element\n * @param {Element} elem\n * @returns {Flickit.Cell} cell\n */\nproto.getParentCell = function( elem ) {\n  // first check if elem is cell\n  var cell = this.getCell( elem );\n  if ( cell ) {\n    return cell;\n  }\n  // try to get parent cell elem\n  elem = utils.getParent( elem, '.flickity-slider > *' );\n  return this.getCell( elem );\n};\n\n/**\n * get cells adjacent to a slide\n * @param {Integer} adjCount - number of adjacent slides\n * @param {Integer} index - index of slide to start\n * @returns {Array} cells - array of Flickity.Cells\n */\nproto.getAdjacentCellElements = function( adjCount, index ) {\n  if ( !adjCount ) {\n    return this.selectedSlide.getCellElements();\n  }\n  index = index === undefined ? this.selectedIndex : index;\n\n  var len = this.slides.length;\n  if ( 1 + ( adjCount * 2 ) >= len ) {\n    return this.getCellElements();\n  }\n\n  var cellElems = [];\n  for ( var i = index - adjCount; i <= index + adjCount ; i++ ) {\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n    var slide = this.slides[ slideIndex ];\n    if ( slide ) {\n      cellElems = cellElems.concat( slide.getCellElements() );\n    }\n  }\n  return cellElems;\n};\n\n/**\n * select slide from number or cell element\n * @param {Element, Selector String, or Number} selector\n */\nproto.queryCell = function( selector ) {\n  if ( typeof selector == 'number' ) {\n    // use number as index\n    return this.cells[ selector ];\n  }\n  if ( typeof selector == 'string' ) {\n    // do not select invalid selectors from hash: #123, #/. #791\n    if ( selector.match(/^[#\\.]?[\\d\\/]/) ) {\n      return;\n    }\n    // use string as selector, get element\n    selector = this.element.querySelector( selector );\n  }\n  // get cell from element\n  return this.getCell( selector );\n};\n\n// -------------------------- events -------------------------- //\n\nproto.uiChange = function() {\n  this.emitEvent('uiChange');\n};\n\n// keep focus on element when child UI elements are clicked\nproto.childUIPointerDown = function( event ) {\n  // HACK iOS does not allow touch events to bubble up?!\n  if ( event.type != 'touchstart' ) {\n    event.preventDefault();\n  }\n  this.focus();\n};\n\n// ----- resize ----- //\n\nproto.onresize = function() {\n  this.watchCSS();\n  this.resize();\n};\n\nutils.debounceMethod( Flickity, 'onresize', 150 );\n\nproto.resize = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.getSize();\n  // wrap values\n  if ( this.options.wrapAround ) {\n    this.x = utils.modulo( this.x, this.slideableWidth );\n  }\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  this.emitEvent('resize');\n  // update selected index for group slides, instant\n  // TODO: position can be lost between groups of various numbers\n  var selectedElement = this.selectedElements && this.selectedElements[0];\n  this.selectCell( selectedElement, false, true );\n};\n\n// watches the :after property, activates/deactivates\nproto.watchCSS = function() {\n  var watchOption = this.options.watchCSS;\n  if ( !watchOption ) {\n    return;\n  }\n\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\n  // activate if :after { content: 'flickity' }\n  if ( afterContent.indexOf('flickity') != -1 ) {\n    this.activate();\n  } else {\n    this.deactivate();\n  }\n};\n\n// ----- keydown ----- //\n\n// go previous/next if left/right keys pressed\nproto.onkeydown = function( event ) {\n  // only work if element is in focus\n  var isNotFocused = document.activeElement && document.activeElement != this.element;\n  if ( !this.options.accessibility ||isNotFocused ) {\n    return;\n  }\n\n  var handler = Flickity.keyboardHandlers[ event.keyCode ];\n  if ( handler ) {\n    handler.call( this );\n  }\n};\n\nFlickity.keyboardHandlers = {\n  // left arrow\n  37: function() {\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n    this.uiChange();\n    this[ leftMethod ]();\n  },\n  // right arrow\n  39: function() {\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n    this.uiChange();\n    this[ rightMethod ]();\n  },\n};\n\n// ----- focus ----- //\n\nproto.focus = function() {\n  // TODO remove scrollTo once focus options gets more support\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus#Browser_compatibility\n  var prevScrollY = window.pageYOffset;\n  this.element.focus({ preventScroll: true });\n  // hack to fix scroll jump after focus, #76\n  if ( window.pageYOffset != prevScrollY ) {\n    window.scrollTo( window.pageXOffset, prevScrollY );\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\n// deactivate all Flickity functionality, but keep stuff available\nproto.deactivate = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.element.classList.remove('flickity-enabled');\n  this.element.classList.remove('flickity-rtl');\n  this.unselectSelectedSlide();\n  // destroy cells\n  this.cells.forEach( function( cell ) {\n    cell.destroy();\n  });\n  this.element.removeChild( this.viewport );\n  // move child elements back into element\n  moveElements( this.slider.children, this.element );\n  if ( this.options.accessibility ) {\n    this.element.removeAttribute('tabIndex');\n    this.element.removeEventListener( 'keydown', this );\n  }\n  // set flags\n  this.isActive = false;\n  this.emitEvent('deactivate');\n};\n\nproto.destroy = function() {\n  this.deactivate();\n  window.removeEventListener( 'resize', this );\n  this.allOff();\n  this.emitEvent('destroy');\n  if ( jQuery && this.$element ) {\n    jQuery.removeData( this.element, 'flickity' );\n  }\n  delete this.element.flickityGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- prototype -------------------------- //\n\nutils.extend( proto, animatePrototype );\n\n// -------------------------- extras -------------------------- //\n\n/**\n * get Flickity instance from element\n * @param {Element} elem\n * @returns {Flickity}\n */\nFlickity.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.flickityGUID;\n  return id && instances[ id ];\n};\n\nutils.htmlInit( Flickity, 'flickity' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'flickity', Flickity );\n}\n\n// set internal jQuery, for Webpack + jQuery v3, #478\nFlickity.setJQuery = function( jq ) {\n  jQuery = jq;\n};\n\nFlickity.Cell = Cell;\nFlickity.Slide = Slide;\n\nreturn Flickity;\n\n}));\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  'use strict';\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( EvEmitter, getSize, utils, Item ) {\n        return factory( window, EvEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n'use strict';\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  var isInitLayout = this._getOption('initLayout');\n  if ( isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  initLayout: true,\n  originLeft: true,\n  originTop: true,\n  resize: true,\n  resizeContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\nvar proto = Outlayer.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n/**\n * get backwards compatible option value, check old name\n */\nproto._getOption = function( option ) {\n  var oldOption = this.constructor.compatOptions[ option ];\n  return oldOption && this.options[ oldOption ] !== undefined ?\n    this.options[ oldOption ] : this.options[ option ];\n};\n\nOutlayer.compatOptions = {\n  // currentName: oldName\n  initLayout: 'isInitLayout',\n  horizontal: 'isHorizontal',\n  layoutInstant: 'isLayoutInstant',\n  originLeft: 'isOriginLeft',\n  originTop: 'isOriginTop',\n  resize: 'isResizeBound',\n  resizeContainer: 'isResizingContainer'\n};\n\nproto._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  var canBindResize = this._getOption('resize');\n  if ( canBindResize ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nproto.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nproto._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0; i < itemElems.length; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nproto._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nproto.getItemElements = function() {\n  return this.items.map( function( item ) {\n    return item.element;\n  });\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nproto.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var layoutInstant = this._getOption('layoutInstant');\n  var isInstant = layoutInstant !== undefined ?\n    layoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nproto._init = proto.layout;\n\n/**\n * logic before any new layout\n */\nproto._resetLayout = function() {\n  this.getSize();\n};\n\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nproto._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option == 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( option instanceof HTMLElement ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nproto.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nproto._getItemsForLayout = function( items ) {\n  return items.filter( function( item ) {\n    return !item.isIgnored;\n  });\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nproto._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  items.forEach( function( item ) {\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }, this );\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nproto._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nproto._processLayoutQueue = function( queue ) {\n  this.updateStagger();\n  queue.forEach( function( obj, i ) {\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n  }, this );\n};\n\n// set stagger from option in milliseconds number\nproto.updateStagger = function() {\n  var stagger = this.options.stagger;\n  if ( stagger === null || stagger === undefined ) {\n    this.stagger = 0;\n    return;\n  }\n  this.stagger = getMilliseconds( stagger );\n  return this.stagger;\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nproto._positionItem = function( item, x, y, isInstant, i ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.stagger( i * this.stagger );\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nproto._postLayout = function() {\n  this.resizeContainer();\n};\n\nproto.resizeContainer = function() {\n  var isResizingContainer = this._getOption('resizeContainer');\n  if ( !isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nproto._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nproto._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nproto._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount == count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  items.forEach( function( item ) {\n    item.once( eventName, tick );\n  });\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nproto.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nproto.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nproto.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  elems.forEach( this.ignore, this );\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nproto.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  elems.forEach( function( elem ) {\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }, this );\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nproto._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems == 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nproto._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  this.stamps.forEach( this._manageStamp, this );\n};\n\n// update boundingLeft / Top\nproto._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nproto._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nproto._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nproto.handleEvent = utils.handleEvent;\n\n/**\n * Bind layout to window resizing\n */\nproto.bindResize = function() {\n  window.addEventListener( 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nproto.unbindResize = function() {\n  window.removeEventListener( 'resize', this );\n  this.isResizeBound = false;\n};\n\nproto.onresize = function() {\n  this.resize();\n};\n\nutils.debounceMethod( Outlayer, 'onresize', 100 );\n\nproto.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nproto.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nproto.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nproto.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nproto.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.reveal();\n  });\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.hide();\n  });\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nproto.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0; i < this.items.length; i++ ) {\n    var item = this.items[i];\n    if ( item.element == elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nproto.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  elems.forEach( function( elem ) {\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }, this );\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nproto.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  removeItems.forEach( function( item ) {\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }, this );\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nproto.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  this.items.forEach( function( item ) {\n    item.destroy();\n  });\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  var Layout = subclass( Outlayer );\n  // apply new options and compatOptions\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  utils.extend( Layout.defaults, options );\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = subclass( Item );\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\nfunction subclass( Parent ) {\n  function SubClass() {\n    Parent.apply( this, arguments );\n  }\n\n  SubClass.prototype = Object.create( Parent.prototype );\n  SubClass.prototype.constructor = SubClass;\n\n  return SubClass;\n}\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\nvar msUnits = {\n  ms: 1,\n  s: 1000\n};\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\nfunction getMilliseconds( time ) {\n  if ( typeof time == 'number' ) {\n    return time;\n  }\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n  var num = matches && matches[1];\n  var unit = matches && matches[2];\n  if ( !num.length ) {\n    return 0;\n  }\n  num = parseFloat( num );\n  var mult = msUnits[ unit ] || 1;\n  return num * mult;\n}\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n","/**\n * Isotope LayoutMode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'get-size/get-size',\n        'outlayer/outlayer'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('get-size'),\n      require('outlayer')\n    );\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.LayoutMode = factory(\n      window.getSize,\n      window.Outlayer\n    );\n  }\n\n}( window, function factory( getSize, Outlayer ) {\n  'use strict';\n\n  // layout mode class\n  function LayoutMode( isotope ) {\n    this.isotope = isotope;\n    // link properties\n    if ( isotope ) {\n      this.options = isotope.options[ this.namespace ];\n      this.element = isotope.element;\n      this.items = isotope.filteredItems;\n      this.size = isotope.size;\n    }\n  }\n\n  var proto = LayoutMode.prototype;\n\n  /**\n   * some methods should just defer to default Outlayer method\n   * and reference the Isotope instance as `this`\n  **/\n  var facadeMethods = [\n    '_resetLayout',\n    '_getItemLayoutPosition',\n    '_manageStamp',\n    '_getContainerSize',\n    '_getElementOffset',\n    'needsResizeLayout',\n    '_getOption'\n  ];\n\n  facadeMethods.forEach( function( methodName ) {\n    proto[ methodName ] = function() {\n      return Outlayer.prototype[ methodName ].apply( this.isotope, arguments );\n    };\n  });\n\n  // -----  ----- //\n\n  // for horizontal layout modes, check vertical size\n  proto.needsVerticalResizeLayout = function() {\n    // don't trigger if size did not change\n    var size = getSize( this.isotope.element );\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var hasSizes = this.isotope.size && size;\n    return hasSizes && size.innerHeight != this.isotope.size.innerHeight;\n  };\n\n  // ----- measurements ----- //\n\n  proto._getMeasurement = function() {\n    this.isotope._getMeasurement.apply( this, arguments );\n  };\n\n  proto.getColumnWidth = function() {\n    this.getSegmentSize( 'column', 'Width' );\n  };\n\n  proto.getRowHeight = function() {\n    this.getSegmentSize( 'row', 'Height' );\n  };\n\n  /**\n   * get columnWidth or rowHeight\n   * segment: 'column' or 'row'\n   * size 'Width' or 'Height'\n  **/\n  proto.getSegmentSize = function( segment, size ) {\n    var segmentName = segment + size;\n    var outerSize = 'outer' + size;\n    // columnWidth / outerWidth // rowHeight / outerHeight\n    this._getMeasurement( segmentName, outerSize );\n    // got rowHeight or columnWidth, we can chill\n    if ( this[ segmentName ] ) {\n      return;\n    }\n    // fall back to item of first element\n    var firstItemSize = this.getFirstItemSize();\n    this[ segmentName ] = firstItemSize && firstItemSize[ outerSize ] ||\n      // or size of container\n      this.isotope.size[ 'inner' + size ];\n  };\n\n  proto.getFirstItemSize = function() {\n    var firstItem = this.isotope.filteredItems[0];\n    return firstItem && firstItem.element && getSize( firstItem.element );\n  };\n\n  // ----- methods that should reference isotope ----- //\n\n  proto.layout = function() {\n    this.isotope.layout.apply( this.isotope, arguments );\n  };\n\n  proto.getSize = function() {\n    this.isotope.getSize();\n    this.size = this.isotope.size;\n  };\n\n  // -------------------------- create -------------------------- //\n\n  LayoutMode.modes = {};\n\n  LayoutMode.create = function( namespace, options ) {\n\n    function Mode() {\n      LayoutMode.apply( this, arguments );\n    }\n\n    Mode.prototype = Object.create( proto );\n    Mode.prototype.constructor = Mode;\n\n    // default options\n    if ( options ) {\n      Mode.options = options;\n    }\n\n    Mode.prototype.namespace = namespace;\n    // register in Isotope\n    LayoutMode.modes[ namespace ] = Mode;\n\n    return Mode;\n  };\n\n  return LayoutMode;\n\n}));\n","/*!\n * Isotope v3.0.6\n *\n * Licensed GPLv3 for open source use\n * or Isotope Commercial License for commercial use\n *\n * https://isotope.metafizzy.co\n * Copyright 2010-2018 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size',\n        'desandro-matches-selector/matches-selector',\n        'fizzy-ui-utils/utils',\n        './item',\n        './layout-mode',\n        // include default layout modes\n        './layout-modes/masonry',\n        './layout-modes/fit-rows',\n        './layout-modes/vertical'\n      ],\n      function( Outlayer, getSize, matchesSelector, utils, Item, LayoutMode ) {\n        return factory( window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode );\n      });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('outlayer'),\n      require('get-size'),\n      require('desandro-matches-selector'),\n      require('fizzy-ui-utils'),\n      require('./item'),\n      require('./layout-mode'),\n      // include default layout modes\n      require('./layout-modes/masonry'),\n      require('./layout-modes/fit-rows'),\n      require('./layout-modes/vertical')\n    );\n  } else {\n    // browser global\n    window.Isotope = factory(\n      window,\n      window.Outlayer,\n      window.getSize,\n      window.matchesSelector,\n      window.fizzyUIUtils,\n      window.Isotope.Item,\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( window, Outlayer, getSize, matchesSelector, utils,\n  Item, LayoutMode ) {\n\n'use strict';\n\n// -------------------------- vars -------------------------- //\n\nvar jQuery = window.jQuery;\n\n// -------------------------- helpers -------------------------- //\n\nvar trim = String.prototype.trim ?\n  function( str ) {\n    return str.trim();\n  } :\n  function( str ) {\n    return str.replace( /^\\s+|\\s+$/g, '' );\n  };\n\n// -------------------------- isotopeDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Isotope = Outlayer.create( 'isotope', {\n    layoutMode: 'masonry',\n    isJQueryFiltering: true,\n    sortAscending: true\n  });\n\n  Isotope.Item = Item;\n  Isotope.LayoutMode = LayoutMode;\n\n  var proto = Isotope.prototype;\n\n  proto._create = function() {\n    this.itemGUID = 0;\n    // functions that sort items\n    this._sorters = {};\n    this._getSorters();\n    // call super\n    Outlayer.prototype._create.call( this );\n\n    // create layout modes\n    this.modes = {};\n    // start filteredItems with all items\n    this.filteredItems = this.items;\n    // keep of track of sortBys\n    this.sortHistory = [ 'original-order' ];\n    // create from registered layout modes\n    for ( var name in LayoutMode.modes ) {\n      this._initLayoutMode( name );\n    }\n  };\n\n  proto.reloadItems = function() {\n    // reset item ID counter\n    this.itemGUID = 0;\n    // call super\n    Outlayer.prototype.reloadItems.call( this );\n  };\n\n  proto._itemize = function() {\n    var items = Outlayer.prototype._itemize.apply( this, arguments );\n    // assign ID for original-order\n    for ( var i=0; i < items.length; i++ ) {\n      var item = items[i];\n      item.id = this.itemGUID++;\n    }\n    this._updateItemsSortData( items );\n    return items;\n  };\n\n\n  // -------------------------- layout -------------------------- //\n\n  proto._initLayoutMode = function( name ) {\n    var Mode = LayoutMode.modes[ name ];\n    // set mode options\n    // HACK extend initial options, back-fill in default options\n    var initialOpts = this.options[ name ] || {};\n    this.options[ name ] = Mode.options ?\n      utils.extend( Mode.options, initialOpts ) : initialOpts;\n    // init layout mode instance\n    this.modes[ name ] = new Mode( this );\n  };\n\n\n  proto.layout = function() {\n    // if first time doing layout, do all magic\n    if ( !this._isLayoutInited && this._getOption('initLayout') ) {\n      this.arrange();\n      return;\n    }\n    this._layout();\n  };\n\n  // private method to be used in layout() & magic()\n  proto._layout = function() {\n    // don't animate first layout\n    var isInstant = this._getIsInstant();\n    // layout flow\n    this._resetLayout();\n    this._manageStamps();\n    this.layoutItems( this.filteredItems, isInstant );\n\n    // flag for initalized\n    this._isLayoutInited = true;\n  };\n\n  // filter + sort + layout\n  proto.arrange = function( opts ) {\n    // set any options pass\n    this.option( opts );\n    this._getIsInstant();\n    // filter, sort, and layout\n\n    // filter\n    var filtered = this._filter( this.items );\n    this.filteredItems = filtered.matches;\n\n    this._bindArrangeComplete();\n\n    if ( this._isInstant ) {\n      this._noTransition( this._hideReveal, [ filtered ] );\n    } else {\n      this._hideReveal( filtered );\n    }\n\n    this._sort();\n    this._layout();\n  };\n  // alias to _init for main plugin method\n  proto._init = proto.arrange;\n\n  proto._hideReveal = function( filtered ) {\n    this.reveal( filtered.needReveal );\n    this.hide( filtered.needHide );\n  };\n\n  // HACK\n  // Don't animate/transition first layout\n  // Or don't animate/transition other layouts\n  proto._getIsInstant = function() {\n    var isLayoutInstant = this._getOption('layoutInstant');\n    var isInstant = isLayoutInstant !== undefined ? isLayoutInstant :\n      !this._isLayoutInited;\n    this._isInstant = isInstant;\n    return isInstant;\n  };\n\n  // listen for layoutComplete, hideComplete and revealComplete\n  // to trigger arrangeComplete\n  proto._bindArrangeComplete = function() {\n    // listen for 3 events to trigger arrangeComplete\n    var isLayoutComplete, isHideComplete, isRevealComplete;\n    var _this = this;\n    function arrangeParallelCallback() {\n      if ( isLayoutComplete && isHideComplete && isRevealComplete ) {\n        _this.dispatchEvent( 'arrangeComplete', null, [ _this.filteredItems ] );\n      }\n    }\n    this.once( 'layoutComplete', function() {\n      isLayoutComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once( 'hideComplete', function() {\n      isHideComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once( 'revealComplete', function() {\n      isRevealComplete = true;\n      arrangeParallelCallback();\n    });\n  };\n\n  // -------------------------- filter -------------------------- //\n\n  proto._filter = function( items ) {\n    var filter = this.options.filter;\n    filter = filter || '*';\n    var matches = [];\n    var hiddenMatched = [];\n    var visibleUnmatched = [];\n\n    var test = this._getFilterTest( filter );\n\n    // test each item\n    for ( var i=0; i < items.length; i++ ) {\n      var item = items[i];\n      if ( item.isIgnored ) {\n        continue;\n      }\n      // add item to either matched or unmatched group\n      var isMatched = test( item );\n      // item.isFilterMatched = isMatched;\n      // add to matches if its a match\n      if ( isMatched ) {\n        matches.push( item );\n      }\n      // add to additional group if item needs to be hidden or revealed\n      if ( isMatched && item.isHidden ) {\n        hiddenMatched.push( item );\n      } else if ( !isMatched && !item.isHidden ) {\n        visibleUnmatched.push( item );\n      }\n    }\n\n    // return collections of items to be manipulated\n    return {\n      matches: matches,\n      needReveal: hiddenMatched,\n      needHide: visibleUnmatched\n    };\n  };\n\n  // get a jQuery, function, or a matchesSelector test given the filter\n  proto._getFilterTest = function( filter ) {\n    if ( jQuery && this.options.isJQueryFiltering ) {\n      // use jQuery\n      return function( item ) {\n        return jQuery( item.element ).is( filter );\n      };\n    }\n    if ( typeof filter == 'function' ) {\n      // use filter as function\n      return function( item ) {\n        return filter( item.element );\n      };\n    }\n    // default, use filter as selector string\n    return function( item ) {\n      return matchesSelector( item.element, filter );\n    };\n  };\n\n  // -------------------------- sorting -------------------------- //\n\n  /**\n   * @params {Array} elems\n   * @public\n   */\n  proto.updateSortData = function( elems ) {\n    // get items\n    var items;\n    if ( elems ) {\n      elems = utils.makeArray( elems );\n      items = this.getItems( elems );\n    } else {\n      // update all items if no elems provided\n      items = this.items;\n    }\n\n    this._getSorters();\n    this._updateItemsSortData( items );\n  };\n\n  proto._getSorters = function() {\n    var getSortData = this.options.getSortData;\n    for ( var key in getSortData ) {\n      var sorter = getSortData[ key ];\n      this._sorters[ key ] = mungeSorter( sorter );\n    }\n  };\n\n  /**\n   * @params {Array} items - of Isotope.Items\n   * @private\n   */\n  proto._updateItemsSortData = function( items ) {\n    // do not update if no items\n    var len = items && items.length;\n\n    for ( var i=0; len && i < len; i++ ) {\n      var item = items[i];\n      item.updateSortData();\n    }\n  };\n\n  // ----- munge sorter ----- //\n\n  // encapsulate this, as we just need mungeSorter\n  // other functions in here are just for munging\n  var mungeSorter = ( function() {\n    // add a magic layer to sorters for convienent shorthands\n    // `.foo-bar` will use the text of .foo-bar querySelector\n    // `[foo-bar]` will use attribute\n    // you can also add parser\n    // `.foo-bar parseInt` will parse that as a number\n    function mungeSorter( sorter ) {\n      // if not a string, return function or whatever it is\n      if ( typeof sorter != 'string' ) {\n        return sorter;\n      }\n      // parse the sorter string\n      var args = trim( sorter ).split(' ');\n      var query = args[0];\n      // check if query looks like [an-attribute]\n      var attrMatch = query.match( /^\\[(.+)\\]$/ );\n      var attr = attrMatch && attrMatch[1];\n      var getValue = getValueGetter( attr, query );\n      // use second argument as a parser\n      var parser = Isotope.sortDataParsers[ args[1] ];\n      // parse the value, if there was a parser\n      sorter = parser ? function( elem ) {\n        return elem && parser( getValue( elem ) );\n      } :\n      // otherwise just return value\n      function( elem ) {\n        return elem && getValue( elem );\n      };\n\n      return sorter;\n    }\n\n    // get an attribute getter, or get text of the querySelector\n    function getValueGetter( attr, query ) {\n      // if query looks like [foo-bar], get attribute\n      if ( attr ) {\n        return function getAttribute( elem ) {\n          return elem.getAttribute( attr );\n        };\n      }\n\n      // otherwise, assume its a querySelector, and get its text\n      return function getChildText( elem ) {\n        var child = elem.querySelector( query );\n        return child && child.textContent;\n      };\n    }\n\n    return mungeSorter;\n  })();\n\n  // parsers used in getSortData shortcut strings\n  Isotope.sortDataParsers = {\n    'parseInt': function( val ) {\n      return parseInt( val, 10 );\n    },\n    'parseFloat': function( val ) {\n      return parseFloat( val );\n    }\n  };\n\n  // ----- sort method ----- //\n\n  // sort filteredItem order\n  proto._sort = function() {\n    if ( !this.options.sortBy ) {\n      return;\n    }\n    // keep track of sortBy History\n    var sortBys = utils.makeArray( this.options.sortBy );\n    if ( !this._getIsSameSortBy( sortBys ) ) {\n      // concat all sortBy and sortHistory, add to front, oldest goes in last\n      this.sortHistory = sortBys.concat( this.sortHistory );\n    }\n    // sort magic\n    var itemSorter = getItemSorter( this.sortHistory, this.options.sortAscending );\n    this.filteredItems.sort( itemSorter );\n  };\n\n  // check if sortBys is same as start of sortHistory\n  proto._getIsSameSortBy = function( sortBys ) {\n    for ( var i=0; i < sortBys.length; i++ ) {\n      if ( sortBys[i] != this.sortHistory[i] ) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  // returns a function used for sorting\n  function getItemSorter( sortBys, sortAsc ) {\n    return function sorter( itemA, itemB ) {\n      // cycle through all sortKeys\n      for ( var i = 0; i < sortBys.length; i++ ) {\n        var sortBy = sortBys[i];\n        var a = itemA.sortData[ sortBy ];\n        var b = itemB.sortData[ sortBy ];\n        if ( a > b || a < b ) {\n          // if sortAsc is an object, use the value given the sortBy key\n          var isAscending = sortAsc[ sortBy ] !== undefined ? sortAsc[ sortBy ] : sortAsc;\n          var direction = isAscending ? 1 : -1;\n          return ( a > b ? 1 : -1 ) * direction;\n        }\n      }\n      return 0;\n    };\n  }\n\n  // -------------------------- methods -------------------------- //\n\n  // get layout mode\n  proto._mode = function() {\n    var layoutMode = this.options.layoutMode;\n    var mode = this.modes[ layoutMode ];\n    if ( !mode ) {\n      // TODO console.error\n      throw new Error( 'No layout mode: ' + layoutMode );\n    }\n    // HACK sync mode's options\n    // any options set after init for layout mode need to be synced\n    mode.options = this.options[ layoutMode ];\n    return mode;\n  };\n\n  proto._resetLayout = function() {\n    // trigger original reset layout\n    Outlayer.prototype._resetLayout.call( this );\n    this._mode()._resetLayout();\n  };\n\n  proto._getItemLayoutPosition = function( item  ) {\n    return this._mode()._getItemLayoutPosition( item );\n  };\n\n  proto._manageStamp = function( stamp ) {\n    this._mode()._manageStamp( stamp );\n  };\n\n  proto._getContainerSize = function() {\n    return this._mode()._getContainerSize();\n  };\n\n  proto.needsResizeLayout = function() {\n    return this._mode().needsResizeLayout();\n  };\n\n  // -------------------------- adding & removing -------------------------- //\n\n  // HEADS UP overwrites default Outlayer appended\n  proto.appended = function( elems ) {\n    var items = this.addItems( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // filter, layout, reveal new items\n    var filteredItems = this._filterRevealAdded( items );\n    // add to filteredItems\n    this.filteredItems = this.filteredItems.concat( filteredItems );\n  };\n\n  // HEADS UP overwrites default Outlayer prepended\n  proto.prepended = function( elems ) {\n    var items = this._itemize( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // start new layout\n    this._resetLayout();\n    this._manageStamps();\n    // filter, layout, reveal new items\n    var filteredItems = this._filterRevealAdded( items );\n    // layout previous items\n    this.layoutItems( this.filteredItems );\n    // add to items and filteredItems\n    this.filteredItems = filteredItems.concat( this.filteredItems );\n    this.items = items.concat( this.items );\n  };\n\n  proto._filterRevealAdded = function( items ) {\n    var filtered = this._filter( items );\n    this.hide( filtered.needHide );\n    // reveal all new items\n    this.reveal( filtered.matches );\n    // layout new items, no transition\n    this.layoutItems( filtered.matches, true );\n    return filtered.matches;\n  };\n\n  /**\n   * Filter, sort, and layout newly-appended item elements\n   * @param {Array or NodeList or Element} elems\n   */\n  proto.insert = function( elems ) {\n    var items = this.addItems( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // append item elements\n    var i, item;\n    var len = items.length;\n    for ( i=0; i < len; i++ ) {\n      item = items[i];\n      this.element.appendChild( item.element );\n    }\n    // filter new stuff\n    var filteredInsertItems = this._filter( items ).matches;\n    // set flag\n    for ( i=0; i < len; i++ ) {\n      items[i].isLayoutInstant = true;\n    }\n    this.arrange();\n    // reset flag\n    for ( i=0; i < len; i++ ) {\n      delete items[i].isLayoutInstant;\n    }\n    this.reveal( filteredInsertItems );\n  };\n\n  var _remove = proto.remove;\n  proto.remove = function( elems ) {\n    elems = utils.makeArray( elems );\n    var removeItems = this.getItems( elems );\n    // do regular thing\n    _remove.call( this, elems );\n    // bail if no items to remove\n    var len = removeItems && removeItems.length;\n    // remove elems from filteredItems\n    for ( var i=0; len && i < len; i++ ) {\n      var item = removeItems[i];\n      // remove item from collection\n      utils.removeFrom( this.filteredItems, item );\n    }\n  };\n\n  proto.shuffle = function() {\n    // update random sortData\n    for ( var i=0; i < this.items.length; i++ ) {\n      var item = this.items[i];\n      item.sortData.random = Math.random();\n    }\n    this.options.sortBy = 'random';\n    this._sort();\n    this._layout();\n  };\n\n  /**\n   * trigger fn without transition\n   * kind of hacky to have this in the first place\n   * @param {Function} fn\n   * @param {Array} args\n   * @returns ret\n   * @private\n   */\n  proto._noTransition = function( fn, args ) {\n    // save transitionDuration before disabling\n    var transitionDuration = this.options.transitionDuration;\n    // disable transition\n    this.options.transitionDuration = 0;\n    // do it\n    var returnValue = fn.apply( this, args );\n    // re-enable transition for reveal\n    this.options.transitionDuration = transitionDuration;\n    return returnValue;\n  };\n\n  // ----- helper methods ----- //\n\n  /**\n   * getter method for getting filtered item elements\n   * @returns {Array} elems - collection of item elements\n   */\n  proto.getFilteredItemElements = function() {\n    return this.filteredItems.map( function( item ) {\n      return item.element;\n    });\n  };\n\n  // -----  ----- //\n\n  return Isotope;\n\n}));\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var shared = require('../internals/shared');\n\nvar functionToString = Function.toString;\n\nmodule.exports = shared('inspectSource', function (it) {\n  return functionToString.call(it);\n});\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.4.7',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n'use strict';\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","module.exports = false;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","module.exports = {};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = {};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts && !fails(post)) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var userAgent = require('../internals/user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","/*\nTurbolinks 5.2.0\nCopyright © 2018 Basecamp, LLC\n */\n(function(){var t=this;(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(t,r){return e.controller.visit(t,r)},clearCache:function(){return e.controller.clearCache()},setProgressBarDelay:function(t){return e.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var e=t.Turbolinks;(function(){(function(){var t,r,n,o=[].slice;e.copyObject=function(t){var e,r,n;r={};for(e in t)n=t[e],r[e]=n;return r},e.closest=function(e,r){return t.call(e,r)},t=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&r.call(e,t))return e;e=e.parentNode}}}(),e.defer=function(t){return setTimeout(t,1)},e.throttle=function(t){var e;return e=null,function(){var r;return r=1<=arguments.length?o.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(n){return function(){return e=null,t.apply(n,r)}}(this))}},e.dispatch=function(t,e){var r,o,i,s,a,u;return a=null!=e?e:{},u=a.target,r=a.cancelable,o=a.data,i=document.createEvent(\"Events\"),i.initEvent(t,!0,r===!0),i.data=null!=o?o:{},i.cancelable&&!n&&(s=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,\"defaultPrevented\",{get:function(){return!0}}),s.call(this)}),(null!=u?u:document).dispatchEvent(i),i},n=function(){var t;return t=document.createEvent(\"Events\"),t.initEvent(\"test\",!0,!0),t.preventDefault(),t.defaultPrevented}(),e.match=function(t,e){return r.call(t,e)},r=function(){var t,e,r,n;return t=document.documentElement,null!=(e=null!=(r=null!=(n=t.matchesSelector)?n:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector}(),e.uuid=function(){var t,e,r;for(r=\"\",t=e=1;36>=e;t=++e)r+=9===t||14===t||19===t||24===t?\"-\":15===t?\"4\":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return r}}).call(this),function(){e.Location=function(){function t(t){var e,r;null==t&&(t=\"\"),r=document.createElement(\"a\"),r.href=t.toString(),this.absoluteURL=r.href,e=r.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=r.hash.slice(1))}var e,r,n,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split(\"/\",3).join(\"/\")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\\/\\/[^\\/]*(\\/[^?;]*)/))?e[1]:void 0)?t:\"/\"},t.prototype.getPathComponents=function(){return this.getPath().split(\"/\").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\\.[^.]*$/))?e[0]:void 0)?t:\"\"},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=r(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},r=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return n(t,\"/\")?t:t+\"/\"},o=function(t,e){return t.slice(0,e.length)===e},n=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.HttpRequest=function(){function r(r,n,o){this.delegate=r,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=e.Location.wrap(n).requestURL,this.referrer=e.Location.wrap(o).absoluteURL,this.createXHR()}return r.NETWORK_FAILURE=0,r.TIMEOUT_FAILURE=-1,r.timeout=60,r.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,\"function\"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},r.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},r.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},r.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader(\"Turbolinks-Location\")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},r.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},r.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},r.prototype.requestCanceled=function(){return this.endRequest()},r.prototype.notifyApplicationBeforeRequestStart=function(){return e.dispatch(\"turbolinks:request-start\",{data:{url:this.url,xhr:this.xhr}})},r.prototype.notifyApplicationAfterRequestEnd=function(){return e.dispatch(\"turbolinks:request-end\",{data:{url:this.url,xhr:this.xhr}})},r.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open(\"GET\",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader(\"Accept\",\"text/html, application/xhtml+xml\"),this.xhr.setRequestHeader(\"Turbolinks-Referrer\",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},r.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},r.prototype.setProgress=function(t){var e;return this.progress=t,\"function\"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},r.prototype.destroy=function(){var t;return this.setProgress(1),\"function\"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},r}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ProgressBar=function(){function e(){this.trickle=t(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var r;return r=300,e.defaultCSS=\".turbolinks-progress-bar {\\n  position: fixed;\\n  display: block;\\n  top: 0;\\n  left: 0;\\n  height: 3px;\\n  background: #0076ff;\\n  z-index: 9999;\\n  transition: width \"+r+\"ms ease-out, opacity \"+r/2+\"ms \"+r/2+\"ms ease-in;\\n  transform: translate3d(0, 0, 0);\\n}\",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},e.prototype.setValue=function(t){return this.value=t,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*r)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,r)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+\"%\"}}(this))},e.prototype.createStylesheetElement=function(){var t;return t=document.createElement(\"style\"),t.type=\"text/css\",t.textContent=this.constructor.defaultCSS,t},e.prototype.createProgressElement=function(){var t;return t=document.createElement(\"div\"),t.className=\"turbolinks-progress-bar\",t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.BrowserAdapter=function(){function r(r){this.controller=r,this.showProgressBar=t(this.showProgressBar,this),this.progressBar=new e.ProgressBar}var n,o,i;return i=e.HttpRequest,n=i.NETWORK_FAILURE,o=i.TIMEOUT_FAILURE,r.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},r.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},r.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||\"restore\"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},r.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},r.prototype.visitRequestCompleted=function(t){return t.loadResponse()},r.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case o:return this.reload();default:return t.loadResponse()}},r.prototype.visitRequestFinished=function(t){return this.hideProgressBar()},r.prototype.visitCompleted=function(t){return t.followRedirect()},r.prototype.pageInvalidated=function(){return this.reload()},r.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},r.prototype.showProgressBar=function(){return this.progressBar.show()},r.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},r.prototype.reload=function(){return window.location.reload()},r}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.History=function(){function r(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return r.prototype.start=function(){return this.started?void 0:(addEventListener(\"popstate\",this.onPopState,!1),addEventListener(\"load\",this.onPageLoad,!1),this.started=!0)},r.prototype.stop=function(){return this.started?(removeEventListener(\"popstate\",this.onPopState,!1),removeEventListener(\"load\",this.onPageLoad,!1),this.started=!1):void 0},r.prototype.push=function(t,r){return t=e.Location.wrap(t),this.update(\"push\",t,r)},r.prototype.replace=function(t,r){return t=e.Location.wrap(t),this.update(\"replace\",t,r)},r.prototype.onPopState=function(t){var r,n,o,i;return this.shouldHandlePopState()&&(i=null!=(n=t.state)?n.turbolinks:void 0)?(r=e.Location.wrap(window.location),o=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(r,o)):void 0},r.prototype.onPageLoad=function(t){return e.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},r.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},r.prototype.pageIsLoaded=function(){return this.pageLoaded||\"complete\"===document.readyState},r.prototype.update=function(t,e,r){var n;return n={turbolinks:{restorationIdentifier:r}},history[t+\"State\"](n,null,e)},r}()}.call(this),function(){e.HeadDetails=function(){function t(t){var e,r,n,s,a,u;for(this.elements={},n=0,a=t.length;a>n;n++)u=t[n],u.nodeType===Node.ELEMENT_NODE&&(s=u.outerHTML,r=null!=(e=this.elements)[s]?e[s]:e[s]={type:i(u),tracked:o(u),elements:[]},r.elements.push(u))}var e,r,n,o,i;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var r,n;r=this.elements,n=[];for(t in r)e=r[t].tracked,e&&n.push(t);return n}.call(this).join(\"\")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails(\"script\",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails(\"stylesheet\",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var r,n,o,i,s,a;o=this.elements,s=[];for(n in o)i=o[n],a=i.type,r=i.elements,a!==t||e.hasElementWithKey(n)||s.push(r[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,r,n,o,i,s;r=[],n=this.elements;for(e in n)o=n[e],s=o.type,i=o.tracked,t=o.elements,null!=s||i?t.length>1&&r.push.apply(r,t.slice(1)):r.push.apply(r,t);return r},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute(\"content\"):void 0},t.prototype.findMetaElementByName=function(t){var r,n,o,i;r=void 0,i=this.elements;for(o in i)n=i[o].elements,e(n[0],t)&&(r=n[0]);return r},i=function(t){return r(t)?\"script\":n(t)?\"stylesheet\":void 0},o=function(t){return\"reload\"===t.getAttribute(\"data-turbolinks-track\")},r=function(t){var e;return e=t.tagName.toLowerCase(),\"script\"===e},n=function(t){var e;return e=t.tagName.toLowerCase(),\"style\"===e||\"link\"===e&&\"stylesheet\"===t.getAttribute(\"rel\")},e=function(t,e){var r;return r=t.tagName.toLowerCase(),\"meta\"===r&&t.getAttribute(\"name\")===e},t}()}.call(this),function(){e.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:\"string\"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return e=document.createElement(\"html\"),e.innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var r,n,o,i;return o=t.querySelector(\"head\"),r=null!=(i=t.querySelector(\"body\"))?i:document.createElement(\"body\"),n=e.HeadDetails.fromHeadElement(o),new this(n,r)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,r;return r=null!=(t=this.getSetting(\"root\"))?t:\"/\",new e.Location(r)},t.prototype.getCacheControlValue=function(){return this.getSetting(\"cache-control\")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector(\"[id='\"+t+\"'], a[name='\"+t+\"']\")}catch(e){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll(\"[id][data-turbolinks-permanent]\")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector(\"#\"+t+\"[data-turbolinks-permanent]\")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,r,n,o,i;for(o=this.getPermanentElements(),i=[],r=0,n=o.length;n>r;r++)e=o[r],t.getPermanentElementById(e.id)&&i.push(e);return i},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector(\"[autofocus]\")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return\"no-preview\"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return\"no-cache\"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return\"reload\"!==this.getSetting(\"visit-control\")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue(\"turbolinks-\"+t)},t}()}.call(this),function(){var t=[].slice;e.Renderer=function(){function e(){}var r;return e.render=function(){var e,r,n,o;return n=arguments[0],r=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],o=function(t,e,r){r.prototype=t.prototype;var n=new r,o=t.apply(n,e);return Object(o)===o?o:n}(this,e,function(){}),o.delegate=n,o.render(r),o},e.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(t){var e;return\"false\"===t.getAttribute(\"data-turbolinks-eval\")?t:(e=document.createElement(\"script\"),e.textContent=t.textContent,e.async=!1,r(e,t),e)},r=function(t,e){var r,n,o,i,s,a,u;for(i=e.attributes,a=[],r=0,n=i.length;n>r;r++)s=i[r],o=s.name,u=s.value,a.push(t.setAttribute(o,u));return a},e}()}.call(this),function(){var t,r,n=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.SnapshotRenderer=function(e){function o(t,e,r){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=r,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(o,e),o.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},o.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},o.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},o.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},o.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},o.prototype.copyNewHeadStylesheetElements=function(){var t,e,r,n,o;for(n=this.getNewHeadStylesheetElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},o.prototype.copyNewHeadScriptElements=function(){var t,e,r,n,o;for(n=this.getNewHeadScriptElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},o.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,r,n,o;for(n=this.getCurrentHeadProvisionalElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.removeChild(t));return o},o.prototype.copyNewHeadProvisionalElements=function(){var t,e,r,n,o;for(n=this.getNewHeadProvisionalElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},o.prototype.relocateCurrentBodyPermanentElements=function(){var e,n,o,i,s,a,u;for(a=this.getCurrentBodyPermanentElements(),u=[],e=0,n=a.length;n>e;e++)i=a[e],s=t(i),o=this.newSnapshot.getPermanentElementById(i.id),r(i,s.element),r(o,i),u.push(s);return u},o.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,o,i,s,a,u;for(u=[],o=0,i=t.length;i>o;o++)a=t[o],n=a.element,s=a.permanentElement,e=s.cloneNode(!0),u.push(r(n,e));return u},o.prototype.activateNewBodyScriptElements=function(){var t,e,n,o,i,s;for(i=this.getNewBodyScriptElements(),s=[],e=0,o=i.length;o>e;e++)n=i[e],t=this.createScriptElement(n),s.push(r(n,t));return s},o.prototype.assignNewBody=function(){return document.body=this.newBody},o.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},o.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},o.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},o.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},o.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},o.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},o.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll(\"script\")},o}(e.Renderer),t=function(t){var e;return e=document.createElement(\"meta\"),e.setAttribute(\"name\",\"turbolinks-permanent-placeholder\"),e.setAttribute(\"content\",t.id),{element:e,permanentElement:t}},r=function(t,e){var r;return(r=t.parentNode)?r.replaceChild(e,t):void 0}}.call(this),function(){var t=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.ErrorRenderer=function(e){function r(t){var e;e=document.createElement(\"html\"),e.innerHTML=t,this.newHead=e.querySelector(\"head\"),this.newBody=e.querySelector(\"body\")}return t(r,e),r.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}}(this))},r.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},r.prototype.activateBodyScriptElements=function(){var t,e,r,n,o,i;for(n=this.getScriptElements(),i=[],e=0,r=n.length;r>e;e++)o=n[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},r.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll(\"script\")},r}(e.Renderer)}.call(this),function(){e.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return e.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var r,n,o;return o=t.snapshot,r=t.error,n=t.isPreview,this.markAsPreview(n),null!=o?this.renderSnapshot(o,n,e):this.renderError(r,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute(\"data-turbolinks-preview\",\"\"):this.htmlElement.removeAttribute(\"data-turbolinks-preview\")},t.prototype.renderSnapshot=function(t,r,n){return e.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),e.Snapshot.wrap(t),r)},t.prototype.renderError=function(t,r){return e.ErrorRenderer.render(this.delegate,r,t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ScrollManager=function(){function r(r){this.delegate=r,this.onScroll=t(this.onScroll,this),this.onScroll=e.throttle(this.onScroll)}return r.prototype.start=function(){return this.started?void 0:(addEventListener(\"scroll\",this.onScroll,!1),this.onScroll(),this.started=!0)},r.prototype.stop=function(){return this.started?(removeEventListener(\"scroll\",this.onScroll,!1),this.started=!1):void 0},r.prototype.scrollToElement=function(t){return t.scrollIntoView()},r.prototype.scrollToPosition=function(t){var e,r;return e=t.x,r=t.y,window.scrollTo(e,r)},r.prototype.onScroll=function(t){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},r.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},r}()}.call(this),function(){e.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var r;return t.prototype.has=function(t){var e;return e=r(t),e in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=r(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=r(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=r(t),e=this.keys.indexOf(n),e>-1&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,r,n,o;for(n=this.keys.splice(this.size),o=[],t=0,r=n.length;r>t;t++)e=n[t],o.push(delete this.snapshots[e]);return o},r=function(t){return e.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Visit=function(){function r(r,n,o){this.controller=r,this.action=o,this.performScroll=t(this.performScroll,this),this.identifier=e.uuid(),this.location=e.Location.wrap(n),this.adapter=this.controller.adapter,this.state=\"initialized\",this.timingMetrics={}}var n;return r.prototype.start=function(){return\"initialized\"===this.state?(this.recordTimingMetric(\"visitStart\"),this.state=\"started\",this.adapter.visitStarted(this)):void 0},r.prototype.cancel=function(){var t;return\"started\"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state=\"canceled\"):void 0},r.prototype.complete=function(){var t;return\"started\"===this.state?(this.recordTimingMetric(\"visitEnd\"),this.state=\"completed\",\"function\"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},r.prototype.fail=function(){var t;return\"started\"===this.state?(this.state=\"failed\",\"function\"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},r.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?\"replace\":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},r.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new e.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},r.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||\"restore\"!==this.action&&!t.isPreviewable()?void 0:t},r.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},r.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var r;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),\"function\"==typeof(r=this.adapter).visitRendered&&r.visitRendered(this),t?void 0:this.complete()})):void 0},r.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),\"function\"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),\"function\"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},r.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},r.prototype.requestStarted=function(){var t;return this.recordTimingMetric(\"requestStart\"),\"function\"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},r.prototype.requestProgressed=function(t){var e;return this.progress=t,\"function\"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},r.prototype.requestCompletedWithResponse=function(t,r){return this.response=t,null!=r&&(this.redirectedToLocation=e.Location.wrap(r)),this.adapter.visitRequestCompleted(this)},r.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},r.prototype.requestFinished=function(){var t;return this.recordTimingMetric(\"requestEnd\"),\"function\"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},r.prototype.performScroll=function(){return this.scrolled?void 0:(\"restore\"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},r.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},r.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},r.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},r.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},r.prototype.getTimingMetrics=function(){return e.copyObject(this.timingMetrics)},n=function(t){switch(t){case\"replace\":return\"replaceHistoryWithLocationAndRestorationIdentifier\";case\"advance\":case\"restore\":return\"pushHistoryWithLocationAndRestorationIdentifier\"}},r.prototype.shouldIssueRequest=function(){return\"restore\"===this.action?!this.hasCachedSnapshot():!0},r.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},r.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},r.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},r}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Controller=function(){function r(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new e.History(this),this.view=new e.View(this),this.scrollManager=new e.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return r.prototype.start=function(){return e.supported&&!this.started?(addEventListener(\"click\",this.clickCaptured,!0),addEventListener(\"DOMContentLoaded\",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},r.prototype.disable=function(){return this.enabled=!1},r.prototype.stop=function(){return this.started?(removeEventListener(\"click\",this.clickCaptured,!0),removeEventListener(\"DOMContentLoaded\",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},r.prototype.clearCache=function(){return this.cache=new e.SnapshotCache(10)},r.prototype.visit=function(t,r){var n,o;return null==r&&(r={}),t=e.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(o=r.action)?o:\"advance\",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},r.prototype.startVisitToLocationWithAction=function(t,r,n){var o;return e.supported?(o=this.getRestorationDataForIdentifier(n),this.startVisit(t,r,{restorationData:o})):window.location=t},r.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},r.prototype.startHistory=function(){return this.location=e.Location.wrap(window.location),this.restorationIdentifier=e.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.stopHistory=function(){return this.history.stop()},r.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,r){return this.restorationIdentifier=r,this.location=e.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},r.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,r){return this.restorationIdentifier=r,this.location=e.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,r){var n;return this.restorationIdentifier=r,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,\"restore\",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=e.Location.wrap(t)):this.adapter.pageInvalidated()},r.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},r.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable();\n},r.prototype.cacheSnapshot=function(){var t,r;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),r=this.view.getSnapshot(),t=this.lastRenderedLocation,e.defer(function(e){return function(){return e.cache.put(t,r.clone())}}(this))):void 0},r.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},r.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},r.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},r.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},r.prototype.render=function(t,e){return this.view.render(t,e)},r.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},r.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},r.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},r.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},r.prototype.clickCaptured=function(){return removeEventListener(\"click\",this.clickBubbled,!1),addEventListener(\"click\",this.clickBubbled,!1)},r.prototype.clickBubbled=function(t){var e,r,n;return this.enabled&&this.clickEventIsSignificant(t)&&(r=this.getVisitableLinkForNode(t.target))&&(n=this.getVisitableLocationForLink(r))&&this.applicationAllowsFollowingLinkToLocation(r,n)?(t.preventDefault(),e=this.getActionForLink(r),this.visit(n,{action:e})):void 0},r.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var r;return r=this.notifyApplicationAfterClickingLinkToLocation(t,e),!r.defaultPrevented},r.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},r.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,r){return e.dispatch(\"turbolinks:click\",{target:t,data:{url:r.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationBeforeVisitingLocation=function(t){return e.dispatch(\"turbolinks:before-visit\",{data:{url:t.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationAfterVisitingLocation=function(t){return e.dispatch(\"turbolinks:visit\",{data:{url:t.absoluteURL}})},r.prototype.notifyApplicationBeforeCachingSnapshot=function(){return e.dispatch(\"turbolinks:before-cache\")},r.prototype.notifyApplicationBeforeRender=function(t){return e.dispatch(\"turbolinks:before-render\",{data:{newBody:t}})},r.prototype.notifyApplicationAfterRender=function(){return e.dispatch(\"turbolinks:render\")},r.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),e.dispatch(\"turbolinks:load\",{data:{url:this.location.absoluteURL,timing:t}})},r.prototype.startVisit=function(t,e,r){var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(t,e,r),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},r.prototype.createVisit=function(t,r,n){var o,i,s,a,u;return i=null!=n?n:{},a=i.restorationIdentifier,s=i.restorationData,o=i.historyChanged,u=new e.Visit(this,t,r),u.restorationIdentifier=null!=a?a:e.uuid(),u.restorationData=e.copyObject(s),u.historyChanged=o,u.referrer=this.location,u},r.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},r.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},r.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?e.closest(t,\"a[href]:not([target]):not([download])\"):void 0},r.prototype.getVisitableLocationForLink=function(t){var r;return r=new e.Location(t.getAttribute(\"href\")),this.locationIsVisitable(r)?r:void 0},r.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute(\"data-turbolinks-action\"))?e:\"advance\"},r.prototype.nodeIsVisitable=function(t){var r;return(r=e.closest(t,\"[data-turbolinks]\"))?\"false\"!==r.getAttribute(\"data-turbolinks\"):!0},r.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},r.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},r.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},r}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute(\"data-turbolinks-suppress-warning\"))for(;t=t.parentNode;)if(t===document.body)return console.warn(\"You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\\n\\nLoad your application\\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\\n\\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\\n\\n\\u2014\\u2014\\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s\",e.outerHTML)}()}.call(this),function(){var t,r,n;e.start=function(){return r()?(null==e.controller&&(e.controller=t()),e.controller.start()):void 0},r=function(){return null==window.Turbolinks&&(window.Turbolinks=e),n()},t=function(){var t;return t=new e.Controller,t.adapter=new e.BrowserAdapter(t),t},n=function(){return window.Turbolinks===e},n()&&e.start()}.call(this)}).call(this),\"object\"==typeof module&&module.exports?module.exports=e:\"function\"==typeof define&&define.amd&&define(e)}).call(this);","/** handorgel v0.4.9, @license MIT */\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar evEmitter = createCommonjsModule(function (module) {\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : commonjsGlobal, function() {\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i];\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n});\n\n/**\n * Request animation frame polyfill method.\n *\n * @see https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n * @see https://developer.mozilla.org/de/docs/Web/API/window/requestAnimationFrame\n */\nvar rAF = function () {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n}();\n/**\n * Check if given value is undefined.\n *\n * @param   {*} value - Value to check.\n * @returns {Boolean}\n */\n\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n/**\n * Check if an object's property could be overridden.\n *\n * @source riot.js\n * @see https://github.com/riot/riot/blob/master/lib/browser/common/util/check.js\n *\n * @param   {Object} obj -\n * @param   {String} key -\n * @returns {Boolean}\n */\n\nfunction isWritable(obj, key) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, key);\n  return isUndefined(obj[key]) || descriptor && descriptor.writable;\n}\n/**\n * Extend any object with other properties.\n *\n * @source riot.js\n * @see https://github.com/riot/riot/blob/master/lib/browser/common/util/misc.js\n *\n * @param   {Object} src - Source object.\n * @returns {Object} The resulting extended object.\n *\n * @example\n * let obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\n\nfunction extend(src) {\n  var obj;\n  var args = arguments;\n\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key)) src[key] = obj[key];\n      }\n    }\n  }\n\n  return src;\n}\n\nvar ID_COUNTER = {};\nvar ARIA_ATTRIBUTES = {\n  button: {\n    'aria-controls': function ariaControls() {\n      return this.id + '-content';\n    },\n    'aria-expanded': function ariaExpanded() {\n      return this.expanded ? 'true' : 'false';\n    },\n    'aria-disabled': function ariaDisabled() {\n      return this.disabled ? 'true' : 'false';\n    }\n  },\n  content: {\n    role: function role() {\n      return 'region';\n    },\n    'aria-labelledby': function ariaLabelledby() {\n      return this.id + '-header';\n    }\n  }\n};\nvar KEYS = {\n  arrowDown: 40,\n  arrowUp: 38,\n  pageUp: 33,\n  pageDown: 34,\n  end: 35,\n  home: 36\n};\n\nvar HandorgelFold =\n/*#__PURE__*/\nfunction () {\n  function HandorgelFold(handorgel, header, content) {\n    _classCallCheck(this, HandorgelFold);\n\n    if (header.handorgelFold) {\n      return;\n    }\n\n    this.handorgel = handorgel;\n    this.header = header;\n    this.button = header.firstElementChild;\n    this.content = content;\n    this.header.handorgelFold = this;\n    this.content.handorgelFold = this;\n\n    if (!ID_COUNTER[this.handorgel.id]) {\n      ID_COUNTER[this.handorgel.id] = 0;\n    }\n\n    this.id = \"\".concat(this.handorgel.id, \"-fold\").concat(++ID_COUNTER[this.handorgel.id]);\n    this.header.setAttribute('id', this.id + '-header');\n    this.content.setAttribute('id', this.id + '-content');\n    this.focused = false;\n    this.expanded = false;\n    this.disabled = false;\n    this._listeners = {};\n\n    this._bindEvents();\n\n    this._initAria();\n\n    this._initialOpen();\n\n    this._initialFocus();\n  }\n\n  _createClass(HandorgelFold, [{\n    key: \"open\",\n    value: function open() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.expanded) {\n        return;\n      }\n\n      this.handorgel.emitEvent('fold:open', [this]);\n      this.expanded = true;\n\n      if (!this.handorgel.options.collapsible) {\n        this.disable();\n      }\n\n      this._updateAria('button', 'aria-expanded');\n\n      this.header.classList.add(this.handorgel.options.headerOpenClass);\n      this.content.classList.add(this.handorgel.options.contentOpenClass);\n      this.resize(transition);\n\n      if (!transition) {\n        this._opened();\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (!this.expanded) {\n        return;\n      }\n\n      this.handorgel.emitEvent('fold:close', [this]);\n      this.expanded = false;\n\n      if (!this.handorgel.options.collapsible) {\n        this.enable();\n      }\n\n      this._updateAria('button', 'aria-expanded');\n\n      this.header.classList.remove(this.handorgel.options.headerOpenedClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenedClass);\n      this.resize(transition);\n\n      if (!transition) {\n        this._closed();\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.disabled = true;\n\n      this._updateAria('button', 'aria-disabled');\n\n      this.header.classList.add(this.handorgel.options.headerDisabledClass);\n      this.content.classList.add(this.handorgel.options.contentDisabledClass);\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.disabled = false;\n\n      this._updateAria('button', 'aria-disabled');\n\n      this.header.classList.remove(this.handorgel.options.headerDisabledClass);\n      this.content.classList.remove(this.handorgel.options.contentDisabledClass);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.button.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.button.blur();\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.expanded) {\n        this.close(transition);\n      } else {\n        this.open(transition);\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this = this;\n\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var height = 0;\n\n      if (!transition) {\n        this.header.classList.add(this.handorgel.options.headerNoTransitionClass);\n        this.content.classList.add(this.handorgel.options.contentNoTransitionClass);\n      }\n\n      if (this.expanded) {\n        height = this.content.firstElementChild.offsetHeight;\n      }\n\n      this.content.style.height = height + 'px';\n\n      if (!transition) {\n        rAF(function () {\n          _this.header.classList.remove(_this.handorgel.options.headerNoTransitionClass);\n\n          _this.content.classList.remove(_this.handorgel.options.contentNoTransitionClass);\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindEvents();\n\n      this._cleanAria(); // clean classes\n\n\n      this.header.classList.remove(this.handorgel.options.headerOpenClass);\n      this.header.classList.remove(this.handorgel.options.headerOpenedClass);\n      this.header.classList.remove(this.handorgel.options.headerFocusClass);\n      this.header.classList.remove(this.handorgel.options.headerNoTransitionClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenedClass);\n      this.content.classList.remove(this.handorgel.options.contentFocusClass);\n      this.content.classList.remove(this.handorgel.options.contentNoTransitionClass); // hide content\n\n      this.content.style.height = '0px'; // clean reference to this instance\n\n      this.header.handorgelFold = null;\n      this.content.handorgelFold = null; // remove ids\n\n      this.header.removeAttribute('id');\n      this.content.removeAttribute('id'); // clean reference to handorgel instance\n\n      this.handorgel = null;\n    }\n  }, {\n    key: \"_opened\",\n    value: function _opened() {\n      this.header.classList.add(this.handorgel.options.headerOpenedClass);\n      this.content.classList.add(this.handorgel.options.contentOpenedClass);\n      this.handorgel.emitEvent('fold:opened', [this]);\n    }\n  }, {\n    key: \"_closed\",\n    value: function _closed() {\n      this.header.classList.remove(this.handorgel.options.headerOpenClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenClass);\n      this.handorgel.emitEvent('fold:closed', [this]);\n    }\n  }, {\n    key: \"_initialOpen\",\n    value: function _initialOpen() {\n      var _this2 = this;\n\n      if (this.header.getAttribute(this.handorgel.options.initialOpenAttribute) !== null || this.content.getAttribute(this.handorgel.options.initialOpenAttribute) !== null) {\n        if (this.handorgel.options.initialOpenTransition) {\n          window.setTimeout(function () {\n            _this2.open();\n          }, this.handorgel.options.initialOpenTransitionDelay);\n        } else {\n          this.open(false);\n        }\n      }\n    }\n  }, {\n    key: \"_initialFocus\",\n    value: function _initialFocus() {\n      if (this.button.getAttribute('autofocus') === null) {\n        return;\n      } // to ensure focus styles if autofocus was applied\n      // before focus listener was added\n\n\n      this._handleFocus();\n    }\n  }, {\n    key: \"_initAria\",\n    value: function _initAria() {\n      this._updateAria('button');\n\n      this._updateAria('content');\n    }\n  }, {\n    key: \"_cleanAria\",\n    value: function _cleanAria() {\n      this._updateAria('button', null, true);\n\n      this._updateAria('content', null, true);\n    }\n  }, {\n    key: \"_updateAria\",\n    value: function _updateAria(element) {\n      var property = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var remove = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (!this.handorgel.options.ariaEnabled) {\n        return;\n      }\n\n      if (property) {\n        var newValue = ARIA_ATTRIBUTES[element][property].call(this);\n        this[element].setAttribute(property, newValue);\n      } else {\n        for (var _property in ARIA_ATTRIBUTES[element]) {\n          if (ARIA_ATTRIBUTES[element].hasOwnProperty(_property)) {\n            if (remove) {\n              this[element].removeAttribute(_property);\n            } else {\n              var _newValue = ARIA_ATTRIBUTES[element][_property].call(this);\n\n              this[element].setAttribute(_property, _newValue);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_handleContentTransitionEnd\",\n    value: function _handleContentTransitionEnd(e) {\n      if (e.target === e.currentTarget && e.propertyName === 'height') {\n        this.handorgel.resize(true);\n\n        if (this.expanded) {\n          this._opened();\n        } else {\n          this._closed();\n        }\n      }\n    }\n  }, {\n    key: \"_handleFocus\",\n    value: function _handleFocus() {\n      this.focused = true;\n      this.header.classList.add(this.handorgel.options.headerFocusClass);\n      this.content.classList.add(this.handorgel.options.contentFocusClass);\n      this.handorgel.emitEvent('fold:focus', [this]);\n    }\n  }, {\n    key: \"_handleBlur\",\n    value: function _handleBlur() {\n      this.focused = false;\n      this.header.classList.remove(this.handorgel.options.headerFocusClass);\n      this.content.classList.remove(this.handorgel.options.contentFocusClass);\n      this.handorgel.emitEvent('fold:blur', [this]);\n    }\n  }, {\n    key: \"_handleButtonClick\",\n    value: function _handleButtonClick(e) {\n      // ensure focus is on button (click is not seting focus on firefox mac)\n      this.focus();\n\n      if (this.disabled) {\n        return;\n      }\n\n      this.toggle();\n    }\n  }, {\n    key: \"_handleButtonKeydown\",\n    value: function _handleButtonKeydown(e) {\n      if (!this.handorgel.options.keyboardInteraction) {\n        return;\n      }\n\n      var action = null;\n\n      switch (e.which) {\n        case KEYS.arrowDown:\n          action = 'next';\n          break;\n\n        case KEYS.arrowUp:\n          action = 'prev';\n          break;\n\n        case KEYS.home:\n          action = 'first';\n          break;\n\n        case KEYS.end:\n          action = 'last';\n          break;\n\n        case KEYS.pageDown:\n          if (e.ctrlKey) {\n            action = 'next';\n          }\n\n          break;\n\n        case KEYS.pageUp:\n          if (e.ctrlKey) {\n            action = 'prev';\n          }\n\n          break;\n      }\n\n      if (action) {\n        e.preventDefault();\n        this.handorgel.focus(action);\n      }\n    }\n  }, {\n    key: \"_handleContentKeydown\",\n    value: function _handleContentKeydown(e) {\n      if (!this.handorgel.options.keyboardInteraction || !e.ctrlKey) {\n        return;\n      }\n\n      var action = null;\n\n      switch (e.which) {\n        case KEYS.pageDown:\n          action = 'next';\n          break;\n\n        case KEYS.pageUp:\n          action = 'prev';\n          break;\n      }\n\n      if (action) {\n        e.preventDefault();\n        this.handorgel.focus(action);\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      this._listeners = {\n        // button listeners\n        bFocus: ['focus', this.button, this._handleFocus.bind(this)],\n        bBlur: ['blur', this.button, this._handleBlur.bind(this)],\n        bClick: ['click', this.button, this._handleButtonClick.bind(this)],\n        bKeydown: ['keydown', this.button, this._handleButtonKeydown.bind(this)],\n        // content listeners\n        cKeydown: ['keydown', this.content, this._handleContentKeydown.bind(this)],\n        cTransition: ['transitionend', this.content, this._handleContentTransitionEnd.bind(this)]\n      };\n\n      for (var key in this._listeners) {\n        if (this._listeners.hasOwnProperty(key)) {\n          var listener = this._listeners[key];\n          listener[1].addEventListener(listener[0], listener[2]);\n        }\n      }\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      for (var key in this._listeners) {\n        if (this._listeners.hasOwnProperty(key)) {\n          var listener = this._listeners[key];\n          listener[1].removeEventListener(listener[0], listener[2]);\n        }\n      }\n    }\n  }]);\n\n  return HandorgelFold;\n}();\n\nvar ID_COUNTER$1 = 0;\n\nvar Handorgel =\n/*#__PURE__*/\nfunction () {\n  function Handorgel(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Handorgel);\n\n    if (element.handorgel) {\n      return;\n    }\n\n    this.element = element;\n    this.element.handorgel = this;\n    this.id = \"handorgel\".concat(++ID_COUNTER$1);\n    this.element.setAttribute('id', this.id);\n    this.folds = [];\n    this.options = extend({}, Handorgel.defaultOptions, options);\n    this._listeners = {};\n    this._resizing = false;\n\n    this._bindEvents();\n\n    this._initAria();\n\n    this.update();\n  }\n\n  _createClass(Handorgel, [{\n    key: \"update\",\n    value: function update() {\n      this.folds = [];\n      var children = this.element.children;\n\n      for (var i = 0, childrenLength = children.length; i < childrenLength; i = i + 2) {\n        var header = children[i];\n        var content = children[i + 1]; // get fold instance if there is already one\n\n        var fold = header.handorgelFold; // create new one when header and content exist\n\n        if (!fold && header && content) {\n          fold = new HandorgelFold(this, header, content);\n        }\n\n        if (fold) {\n          this.folds.push(fold);\n        }\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      // resize each fold\n      this.folds.forEach(function (fold) {\n        fold.resize(transition);\n      });\n      this._resizing = false;\n    }\n  }, {\n    key: \"focus\",\n    value: function focus(target) {\n      var foldsLength = this.folds.length;\n      var currentFocusedIndex = null;\n\n      for (var i = 0; i < foldsLength && currentFocusedIndex === null; i++) {\n        if (this.folds[i].focused) currentFocusedIndex = i;\n      }\n\n      if ((target === 'prev' || target === 'next') && currentFocusedIndex === null) {\n        target = target === 'prev' ? 'last' : 'first';\n      }\n\n      if (target === 'prev' && currentFocusedIndex === 0) {\n        if (!this.options.carouselFocus) return;\n        target = 'last';\n      }\n\n      if (target === 'next' && currentFocusedIndex === foldsLength - 1) {\n        if (!this.options.carouselFocus) return;\n        target = 'first';\n      }\n\n      switch (target) {\n        case 'prev':\n          this.folds[--currentFocusedIndex].focus();\n          break;\n\n        case 'next':\n          this.folds[++currentFocusedIndex].focus();\n          break;\n\n        case 'last':\n          this.folds[foldsLength - 1].focus();\n          break;\n\n        case 'first':\n        default:\n          this.folds[0].focus();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.emitEvent('destroy');\n      this.element.removeAttribute('id');\n      this.folds.forEach(function (fold) {\n        fold.destroy();\n      });\n\n      this._unbindEvents();\n\n      this._cleanAria(); // clean reference to handorgel instance\n\n\n      this.element.handorgel = null;\n      this.emitEvent('destroyed');\n    }\n  }, {\n    key: \"_handleFoldOpen\",\n    value: function _handleFoldOpen(openFold) {\n      if (this.options.multiSelectable) {\n        return;\n      }\n\n      this.folds.forEach(function (fold) {\n        if (openFold !== fold) {\n          fold.close();\n        }\n      });\n    }\n  }, {\n    key: \"_handleResize\",\n    value: function _handleResize() {\n      var _this = this;\n\n      if (!this._resizing) {\n        this._resizing = true;\n        rAF(function () {\n          _this.resize();\n        });\n      }\n    }\n  }, {\n    key: \"_initAria\",\n    value: function _initAria() {\n      if (!this.options.ariaEnabled) {\n        return;\n      }\n\n      if (this.options.multiSelectable) {\n        this.element.setAttribute('aria-multiselectable', 'true');\n      }\n    }\n  }, {\n    key: \"_cleanAria\",\n    value: function _cleanAria() {\n      this.element.removeAttribute('aria-multiselectable');\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      this._listeners.resize = this._handleResize.bind(this);\n      window.addEventListener('resize', this._listeners.resize);\n      this._listeners.foldOpen = this._handleFoldOpen.bind(this);\n      this.on('fold:open', this._listeners.foldOpen);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      window.removeEventListener('resize', this._listeners.resize);\n      this.off('fold:open', this._listeners.foldOpen);\n    }\n  }]);\n\n  return Handorgel;\n}(); // extend the prototype manually to fix IE10\nextend(Handorgel.prototype, evEmitter.prototype);\nHandorgel.defaultOptions = {\n  keyboardInteraction: true,\n  multiSelectable: true,\n  ariaEnabled: true,\n  collapsible: true,\n  carouselFocus: true,\n  initialOpenAttribute: 'data-open',\n  initialOpenTransition: true,\n  initialOpenTransitionDelay: 200,\n  headerOpenClass: 'handorgel__header--open',\n  contentOpenClass: 'handorgel__content--open',\n  headerOpenedClass: 'handorgel__header--opened',\n  contentOpenedClass: 'handorgel__content--opened',\n  headerDisabledClass: 'handorgel__header--disabled',\n  contentDisabledClass: 'handorgel__content--disabled',\n  headerFocusClass: 'handorgel__header--focus',\n  contentFocusClass: 'handorgel__content--focus',\n  headerNoTransitionClass: 'handorgel__header--notransition',\n  contentNoTransitionClass: 'handorgel__content--notransition'\n};\n\nexport default Handorgel;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./loader\"));\n//# sourceMappingURL=index.js.map","/*!\n * Flickity v2.2.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2019 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      './drag',\n      './prev-next-button',\n      './page-dots',\n      './player',\n      './add-remove-cell',\n      './lazyload'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('./flickity'),\n      require('./drag'),\n      require('./prev-next-button'),\n      require('./page-dots'),\n      require('./player'),\n      require('./add-remove-cell'),\n      require('./lazyload')\n    );\n  }\n\n})( window, function factory( Flickity ) {\n  /*jshint strict: false*/\n  return Flickity;\n});\n","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document, Date);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(typeof window != 'undefined' ?\n      window : {}, function l(window, document, Date) { // Pass in the windoe Date function also for SSR because the Date class can be lost\n\t'use strict';\n\t/*jshint eqnull:true */\n\n\tvar lazysizes, lazySizesCfg;\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesCfg)){\n\t\t\t\tlazySizesCfg[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tif (!document || !document.getElementsByClassName) {\n\t\treturn {\n\t\t\tinit: function () {},\n\t\t\tcfg: lazySizesCfg,\n\t\t\tnoSupport: true,\n\t\t};\n\t}\n\n\tvar docElem = document.documentElement;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\t/**\n\t * Update to bind to window because 'this' becomes null during SSR\n\t * builds.\n\t */\n\tvar addEventListener = window[_addEventListener].bind(window);\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesCfg.throttleDelay;\n\t\tvar rICTimeout = lazySizesCfg.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesCfg.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesCfg.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isVisible = function (elem) {\n\t\t\tif (isBodyHidden == null) {\n\t\t\t\tisBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n\t\t\t}\n\n\t\t\treturn isBodyHidden || !(getCSS(elem.parentNode, 'visibility') == 'hidden' && getCSS(elem, 'visibility') == 'hidden');\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = isVisible(elem);\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!defaultExpand) {\n\t\t\t\t\t\tdefaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?\n\t\t\t\t\t\t\tdocElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :\n\t\t\t\t\t\t\tlazySizesCfg.expand;\n\n\t\t\t\t\t\tlazysizes._defEx = defaultExpand;\n\n\t\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesCfg.expFactor;\n\t\t\t\t\t\thFac = lazySizesCfg.hFac;\n\t\t\t\t\t\tisBodyHidden = null;\n\n\t\t\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\t\t\tlowRuns = 0;\n\t\t\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\tvar elem = e.target;\n\n\t\t\tif (elem._lazyCache) {\n\t\t\t\tdelete elem._lazyCache;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresetPreloading(e);\n\t\t\taddClass(elem, lazySizesCfg.loadedClass);\n\t\t\tremoveClass(elem, lazySizesCfg.loadingClass);\n\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(elem, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\taddClass(elem, lazySizesCfg.loadingClass);\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesCfg.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\t// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n\t\t\t\tvar isLoaded = elem.complete && elem.naturalWidth > 1;\n\n\t\t\t\tif( !firesLoad || isLoaded){\n\t\t\t\t\tif (isLoaded) {\n\t\t\t\t\t\taddClass(elem, 'ls-is-cached');\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t\telem._lazyCache = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tif ('_lazyCache' in elem) {\n\t\t\t\t\t\t\tdelete elem._lazyCache;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9);\n\t\t\t\t}\n\t\t\t\tif (elem.loading == 'lazy') {\n\t\t\t\t\tisLoading--;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tif (elem._lazyRace) {return;}\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar afterScroll = debounce(function(){\n\t\t\tlazySizesCfg.loadMode = 3;\n\t\t\tthrottledCheckElements();\n\t\t});\n\n\t\tvar altLoadmodeScrollListner = function(){\n\t\t\tif(lazySizesCfg.loadMode == 3){\n\t\t\t\tlazySizesCfg.loadMode = 2;\n\t\t\t}\n\t\t\tafterScroll();\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesCfg.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', altLoadmodeScrollListner, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('pageshow', function (e) {\n\t\t\t\t\tif (e.persisted) {\n\t\t\t\t\t\tvar loadingElements = document.querySelectorAll('.' + lazySizesCfg.loadingClass);\n\n\t\t\t\t\t\tif (loadingElements.length && loadingElements.forEach) {\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tloadingElements.forEach( function (img) {\n\t\t\t\t\t\t\t\t\tif (img.complete) {\n\t\t\t\t\t\t\t\t\t\tunveilElement(img);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement,\n\t\t\t_aLSL: altLoadmodeScrollListner,\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i && document.getElementsByClassName){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tsetTimeout(function(){\n\t\tif(lazySizesCfg.init){\n\t\t\tinit();\n\t\t}\n\t});\n\n\tlazysizes = {\n\t\tcfg: lazySizesCfg,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","'use strict';\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  }\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol() == 'symbol';\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","var map = {\n\t\"./carousel_controller.js\": 70,\n\t\"./faq_controller.js\": 71,\n\t\"./map_controller.js\": 72,\n\t\"./menu_controller.js\": 74,\n\t\"./multipleEvents_controller.js\": 75,\n\t\"./newsSlider_controller.js\": 82,\n\t\"./popUp_controller.js\": 93,\n\t\"./programmeGrid_controller.js\": 94,\n\t\"./timeTable_controller.js\": 109\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 69;","import { Controller } from 'stimulus'\nimport handorgel from 'handorgel'\n\nexport default class extends Controller {\n  static targets = [ 'content' ]  \n\n  connect () {\n      console.log('error')\n      this.accordion = new handorgel(this.element, {\n        multiSelectable: true,\n        collapsible: true,   \n        ariaEnabled: true,\n        keyboardInteraction: true,\n        carouselFocus: true,\n        initialOpenAttribute: 'data-open',\n        initialOpenTransition: true,\n        initialOpenTransitionDelay: 200,\n        headerOpenClass: 'handorgel__header--open',\n        contentOpenClass: 'handorgel__content--open',\n        headerOpenedClass: 'handorgel__header--opened',\n        contentOpenedClass: 'handorgel__content--opened',\n        headerFocusClass: 'handorgel__header--focus',\n        contentFocusClass: 'handorgel__content--focus',\n        headerDisabledClass: 'handorgel__header--disabled',\n        contentDisabledClass: 'handorgel__content--disabled',\n        headerNoTransitionClass: 'handorgel__header--notransition',\n        contentNoTransitionClass: 'handorgel__content--notransition'      \n    })\n  }\n\n  disconnect() {\n    this.accordion.destroy()\n  }\n\n}\n","import { Controller } from 'stimulus'\nimport { Loader } from 'google-maps'\n\nexport default class extends Controller {\n  static targets = []\n  \n  initialize() {\n    if (typeof google === 'object' && typeof google.maps === 'object') {\n        console.log('Loaded')\n        this.initMap()\n    } else {\n        const key = 'AIzaSyAAQjKP3LggEnQ5GefQii-Zrv05SIVtlG8'\n        let loader = new Loader(key)\n        loader.load()\n        .then((google) => {\n            this.initMap('')\n        })\n    }\n  }\n\n  connect () {\n\n  }\n\n  initMap() {\n        const el = document.querySelector('.map')\n        console.log(el)\n        const locations = document.querySelectorAll('.visit-locations-location')\n        const mapOptions = {\n            zoom: 14,\n            center: new google.maps.LatLng(52.368346, 4.8933812),\n            mapTypeId: google.maps.MapTypeId.ROADMAP,\n            streetViewControl: false,\n            mapTypeControl: false\n        }\n\n        const map = new google.maps.Map(el, mapOptions)\n        locations.forEach((location) => {\n            const lat = location.querySelector('.visit-location-lat').innerHTML\n            const long = location.querySelector('.visit-location-long').innerHTML\n            const label = location.querySelector('.visit-location-label').innerHTML\n            let marker = new google.maps.Marker({\n                position: new google.maps.LatLng(parseFloat(lat), parseFloat(long)),\n                map: map,\n                label: label,\n                title: ''\n            })\n        })\n    }\n}\n\n// GoogleMapsLoader.load(function(google) {\n// \tnew google.maps.Map(el, options);\n// });","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Loader = /** @class */ (function () {\n    function Loader(apiKey, options) {\n        if (apiKey === void 0) { apiKey = null; }\n        if (options === void 0) { options = {}; }\n        this.apiKey = apiKey;\n        this.options = options;\n        if (typeof window === 'undefined') {\n            throw new Error('google-maps is supported only in browser environment');\n        }\n    }\n    Loader.prototype.load = function () {\n        var _this = this;\n        if (typeof this.api !== 'undefined') {\n            return Promise.resolve(this.api);\n        }\n        if (typeof this.loader !== 'undefined') {\n            return this.loader;\n        }\n        window[Loader.CALLBACK_NAME] = function () {\n            _this.api = window['google'];\n            if (typeof _this.resolve === 'undefined') {\n                throw new Error('Should not happen');\n            }\n            _this.resolve(_this.api);\n        };\n        window['gm_authFailure'] = function () {\n            if (typeof _this.reject === 'undefined') {\n                throw new Error('Should not happen');\n            }\n            _this.reject(new Error('google-maps: authentication error'));\n        };\n        return this.loader = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n            var script = document.createElement('script');\n            script.src = _this.createUrl();\n            script.async = true;\n            script.onerror = function (e) { return reject(e); };\n            document.head.appendChild(script);\n        });\n    };\n    Loader.prototype.createUrl = function () {\n        var parameters = [\n            \"callback=\" + Loader.CALLBACK_NAME,\n        ];\n        if (this.apiKey) {\n            parameters.push(\"key=\" + this.apiKey);\n        }\n        for (var name_1 in this.options) {\n            if (this.options.hasOwnProperty(name_1)) {\n                var value = this.options[name_1];\n                if (name_1 === 'version') {\n                    name_1 = 'v';\n                }\n                if (name_1 === 'libraries') {\n                    value = value.join(',');\n                }\n                parameters.push(name_1 + \"=\" + value);\n            }\n        }\n        return \"//maps.googleapis.com/maps/api/js?\" + parameters.join('&');\n    };\n    Loader.CALLBACK_NAME = '_dk_google_maps_loader_cb';\n    return Loader;\n}());\nexports.Loader = Loader;\n//# sourceMappingURL=loader.js.map","import { Controller } from 'stimulus'\n\nexport default class extends Controller {\n  static targets = [ 'content' ]  \n\n  connect () {\n  }\n\n  clickHandlerOpen () {\n    this.contentTarget.classList.remove('js-menu-hiden')\n    document.body.classList.toggle('js-body-noscroll')\n  }\n\n  clickHandlerClose () {\n    this.contentTarget.classList.add('js-menu-hiden')\n    document.body.classList.toggle('js-body-noscroll')\n  }\n}\n","import { Controller } from 'stimulus'\nimport Isotope from 'isotope-layout'\n\nexport default class extends Controller {\n\n    static targets = [ 'container' ]\n    initialize() {\n    }\n\n    connect () {\n        this.iso = new Isotope(this.containerTarget, {\n            itemSelector: '.programme-me-grid-item',\n            layoutMode: 'masonry',\n            getSortData: {\n                // az: '[data-az]',\n                // highlights: '[data-highlights]',\n                // location: '[data-location]',\n                // lastadded: 'original-order',         \n            },\n            sortBy: 'highlights' \n        })\n    }\n    \n    disconnect() {\n        this.iso.destroy()\n    }\n}\n","/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size'\n      ],\n      factory\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      require('ev-emitter'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window.EvEmitter,\n      window.getSize\n    );\n  }\n\n}( window, function factory( EvEmitter, getSize ) {\n'use strict';\n\n// ----- helpers ----- //\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\n\nvar docElemStyle = document.documentElement.style;\n\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\n  'transition' : 'WebkitTransition';\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\n  'transform' : 'WebkitTransform';\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\nvar vendorProperties = {\n  transform: transformProperty,\n  transition: transitionProperty,\n  transitionDuration: transitionProperty + 'Duration',\n  transitionProperty: transitionProperty + 'Property',\n  transitionDelay: transitionProperty + 'Delay'\n};\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EvEmitter\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\nproto.constructor = Item;\n\nproto._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nproto.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nproto.getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  var x = parseFloat( xValue );\n  var y = parseFloat( yValue );\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  if ( xValue.indexOf('%') != -1 ) {\n    x = ( x / 100 ) * layoutSize.width;\n  }\n  if ( yValue.indexOf('%') != -1 ) {\n    y = ( y / 100 ) * layoutSize.height;\n  }\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nproto.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var style = {};\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n\n  // x\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = isOriginLeft ? 'left' : 'right';\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nproto.getXValue = function( x ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && !isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nproto.getYValue = function( y ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\nproto._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var didNotMove = x == this.position.x && y == this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nproto.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  x = isOriginLeft ? x : -x;\n  y = isOriginTop ? y : -y;\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n};\n\n// non transition + transform support\nproto.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\nproto.moveTo = proto._transitionTo;\n\nproto.setPosition = function( x, y ) {\n  this.position.x = parseFloat( x );\n  this.position.y = parseFloat( y );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nproto._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nproto.transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\nproto.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // munge number to millisecond, to match stagger\n  var duration = this.layout.options.transitionDuration;\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: duration,\n    transitionDelay: this.staggerDelay || 0\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\n// ----- events ----- //\n\nproto.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nproto.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform'\n};\n\nproto.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nproto.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nproto._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: '',\n  transitionDelay: ''\n};\n\nproto.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- stagger ----- //\n\nproto.stagger = function( delay ) {\n  delay = isNaN( delay ) ? 0 : delay;\n  this.staggerDelay = delay + 'ms';\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nproto.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nproto.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  this.once( 'transitionEnd', function() {\n    this.removeElem();\n  });\n  this.hide();\n};\n\nproto.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nproto.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nproto.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/**\n * Isotope Item\n**/\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer')\n    );\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.Item = factory(\n      window.Outlayer\n    );\n  }\n\n}( window, function factory( Outlayer ) {\n'use strict';\n\n// -------------------------- Item -------------------------- //\n\n// sub-class Outlayer Item\nfunction Item() {\n  Outlayer.Item.apply( this, arguments );\n}\n\nvar proto = Item.prototype = Object.create( Outlayer.Item.prototype );\n\nvar _create = proto._create;\nproto._create = function() {\n  // assign id, used for original-order sorting\n  this.id = this.layout.itemGUID++;\n  _create.call( this );\n  this.sortData = {};\n};\n\nproto.updateSortData = function() {\n  if ( this.isIgnored ) {\n    return;\n  }\n  // default sorters\n  this.sortData.id = this.id;\n  // for backward compatibility\n  this.sortData['original-order'] = this.id;\n  this.sortData.random = Math.random();\n  // go thru getSortData obj and apply the sorters\n  var getSortData = this.layout.options.getSortData;\n  var sorters = this.layout._sorters;\n  for ( var key in getSortData ) {\n    var sorter = sorters[ key ];\n    this.sortData[ key ] = sorter( this.element, this );\n  }\n};\n\nvar _destroy = proto.destroy;\nproto.destroy = function() {\n  // call super\n  _destroy.apply( this, arguments );\n  // reset display, #741\n  this.css({\n    display: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/*!\n * Masonry layout mode\n * sub-classes Masonry\n * https://masonry.desandro.com\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        '../layout-mode',\n        'masonry-layout/masonry'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode'),\n      require('masonry-layout')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode,\n      window.Masonry\n    );\n  }\n\n}( window, function factory( LayoutMode, Masonry ) {\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var MasonryMode = LayoutMode.create('masonry');\n\n  var proto = MasonryMode.prototype;\n\n  var keepModeMethods = {\n    _getElementOffset: true,\n    layout: true,\n    _getMeasurement: true\n  };\n\n  // inherit Masonry prototype\n  for ( var method in Masonry.prototype ) {\n    // do not inherit mode methods\n    if ( !keepModeMethods[ method ] ) {\n      proto[ method ] = Masonry.prototype[ method ];\n    }\n  }\n\n  var measureColumns = proto.measureColumns;\n  proto.measureColumns = function() {\n    // set items, used if measuring first item\n    this.items = this.isotope.filteredItems;\n    measureColumns.call( this );\n  };\n\n  // point to mode options for fitWidth\n  var _getOption = proto._getOption;\n  proto._getOption = function( option ) {\n    if ( option == 'fitWidth' ) {\n      return this.options.isFitWidth !== undefined ?\n        this.options.isFitWidth : this.options.fitWidth;\n    }\n    return _getOption.apply( this.isotope, arguments );\n  };\n\n  return MasonryMode;\n\n}));\n","/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Masonry = factory(\n      window.Outlayer,\n      window.getSize\n    );\n  }\n\n}( window, function factory( Outlayer, getSize ) {\n\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Masonry = Outlayer.create('masonry');\n  // isFitWidth -> fitWidth\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function() {\n    this.getSize();\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\n    this._getMeasurement( 'gutter', 'outerWidth' );\n    this.measureColumns();\n\n    // reset column Y\n    this.colYs = [];\n    for ( var i=0; i < this.cols; i++ ) {\n      this.colYs.push( 0 );\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function() {\n    this.getContainerWidth();\n    // if columnWidth is 0, default to outerWidth of first item\n    if ( !this.columnWidth ) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element;\n      // columnWidth fall back to item of first element\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n        // if first elem has no width, default to size of container\n        this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter;\n\n    // calculate columns\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth;\n    // fix rounding errors, typically with gutters\n    var excess = columnWidth - containerWidth % columnWidth;\n    // if overshoot is less than a pixel, round up, otherwise floor it\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[ mathMethod ]( cols );\n    this.cols = Math.max( cols, 1 );\n  };\n\n  proto.getContainerWidth = function() {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n    var container = isFitWidth ? this.element.parentNode : this.element;\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var size = getSize( container );\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function( item ) {\n    item.getSize();\n    // how many columns does this brick span\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n    // round if off by 1 pixel, otherwise use ceil\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n    colSpan = Math.min( colSpan, this.cols );\n    // use horizontal or top column position\n    var colPosMethod = this.options.horizontalOrder ?\n      '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[ colPosMethod ]( colSpan, item );\n    // position the brick\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    };\n    // apply setHeight to necessary columns\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n    for ( var i = colPosition.col; i < setMax; i++ ) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function( colSpan ) {\n    var colGroup = this._getTopColGroup( colSpan );\n    // get the minimum Y value from the columns\n    var minimumY = Math.min.apply( Math, colGroup );\n\n    return {\n      col: colGroup.indexOf( minimumY ),\n      y: minimumY,\n    };\n  };\n\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n  proto._getTopColGroup = function( colSpan ) {\n    if ( colSpan < 2 ) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = [];\n    // how many different places could this brick fit horizontally\n    var groupCount = this.cols + 1 - colSpan;\n    // for each group potential horizontal position\n    for ( var i = 0; i < groupCount; i++ ) {\n      colGroup[i] = this._getColGroupY( i, colSpan );\n    }\n    return colGroup;\n  };\n\n  proto._getColGroupY = function( col, colSpan ) {\n    if ( colSpan < 2 ) {\n      return this.colYs[ col ];\n    }\n    // make an array of colY values for that one group\n    var groupColYs = this.colYs.slice( col, col + colSpan );\n    // and get the max value of the array\n    return Math.max.apply( Math, groupColYs );\n  };\n\n  // get column position based on horizontal index. #873\n  proto._getHorizontalColPosition = function( colSpan, item ) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\n    // shift to next row if item can't fit on current row\n    col = isOver ? 0 : col;\n    // don't let zero-size items take up space\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n    return {\n      col: col,\n      y: this._getColGroupY( col, colSpan ),\n    };\n  };\n\n  proto._manageStamp = function( stamp ) {\n    var stampSize = getSize( stamp );\n    var offset = this._getElementOffset( stamp );\n    // get the columns that this stamp affects\n    var isOriginLeft = this._getOption('originLeft');\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor( firstX / this.columnWidth );\n    firstCol = Math.max( 0, firstCol );\n    var lastCol = Math.floor( lastX / this.columnWidth );\n    // lastCol should not go over if multiple of columnWidth #425\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min( this.cols - 1, lastCol );\n    // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n      stampSize.outerHeight;\n    for ( var i = firstCol; i <= lastCol; i++ ) {\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n    }\n  };\n\n  proto._getContainerSize = function() {\n    this.maxY = Math.max.apply( Math, this.colYs );\n    var size = {\n      height: this.maxY\n    };\n\n    if ( this._getOption('fitWidth') ) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function() {\n    var unusedCols = 0;\n    // count unused columns\n    var i = this.cols;\n    while ( --i ) {\n      if ( this.colYs[i] !== 0 ) {\n        break;\n      }\n      unusedCols++;\n    }\n    // fit container to columns that have been used\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function() {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n\n}));\n","/**\n * fitRows layout mode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        '../layout-mode'\n      ],\n      factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( LayoutMode ) {\n'use strict';\n\nvar FitRows = LayoutMode.create('fitRows');\n\nvar proto = FitRows.prototype;\n\nproto._resetLayout = function() {\n  this.x = 0;\n  this.y = 0;\n  this.maxY = 0;\n  this._getMeasurement( 'gutter', 'outerWidth' );\n};\n\nproto._getItemLayoutPosition = function( item ) {\n  item.getSize();\n\n  var itemWidth = item.size.outerWidth + this.gutter;\n  // if this element cannot fit in the current row\n  var containerWidth = this.isotope.size.innerWidth + this.gutter;\n  if ( this.x !== 0 && itemWidth + this.x > containerWidth ) {\n    this.x = 0;\n    this.y = this.maxY;\n  }\n\n  var position = {\n    x: this.x,\n    y: this.y\n  };\n\n  this.maxY = Math.max( this.maxY, this.y + item.size.outerHeight );\n  this.x += itemWidth;\n\n  return position;\n};\n\nproto._getContainerSize = function() {\n  return { height: this.maxY };\n};\n\nreturn FitRows;\n\n}));\n","/**\n * vertical layout mode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        '../layout-mode'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( LayoutMode ) {\n'use strict';\n\nvar Vertical = LayoutMode.create( 'vertical', {\n  horizontalAlignment: 0\n});\n\nvar proto = Vertical.prototype;\n\nproto._resetLayout = function() {\n  this.y = 0;\n};\n\nproto._getItemLayoutPosition = function( item ) {\n  item.getSize();\n  var x = ( this.isotope.size.innerWidth - item.size.outerWidth ) *\n    this.options.horizontalAlignment;\n  var y = this.y;\n  this.y += item.size.outerHeight;\n  return { x: x, y: y };\n};\n\nproto._getContainerSize = function() {\n  return { height: this.y };\n};\n\nreturn Vertical;\n\n}));\n","import { Controller } from 'stimulus'\nimport Flickity from 'flickity'\n\nexport default class extends Controller {\n    static targets = ['carousel']  \n\n    initialize() {\n      this.flkty = new Flickity( this.carouselTarget, {\n        cellAlign: 'left',\n        contain: true,\n        groupCells: true,\n        pageDots: true,\n        wrapAround: true,\n        prevNextButtons: false,\n        autoPlay: 5000,\n        selectedAttraction: 0.0045,\n        friction: 0.1 \n      })\n    }\n\n    connect () {\n    }\n\n    disconnect () {\n      this.flkty.destroy()\n    }\n\n  }","// Flickity.Cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'get-size/get-size'\n    ], function( getSize ) {\n      return factory( window, getSize );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(\n      window,\n      window.getSize\n    );\n  }\n\n}( window, function factory( window, getSize ) {\n\n'use strict';\n\nfunction Cell( elem, parent ) {\n  this.element = elem;\n  this.parent = parent;\n\n  this.create();\n}\n\nvar proto = Cell.prototype;\n\nproto.create = function() {\n  this.element.style.position = 'absolute';\n  this.element.setAttribute( 'aria-hidden', 'true' );\n  this.x = 0;\n  this.shift = 0;\n};\n\nproto.destroy = function() {\n  // reset style\n  this.unselect();\n  this.element.style.position = '';\n  var side = this.parent.originSide;\n  this.element.style[ side ] = '';\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\nproto.setPosition = function( x ) {\n  this.x = x;\n  this.updateTarget();\n  this.renderPosition( x );\n};\n\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\nproto.updateTarget = proto.setDefaultTarget = function() {\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n  this.target = this.x + this.size[ marginProperty ] +\n    this.size.width * this.parent.cellAlign;\n};\n\nproto.renderPosition = function( x ) {\n  // render position of cell with in slider\n  var side = this.parent.originSide;\n  this.element.style[ side ] = this.parent.getPositionValue( x );\n};\n\nproto.select = function() {\n  this.element.classList.add('is-selected');\n  this.element.removeAttribute('aria-hidden');\n};\n\nproto.unselect = function() {\n  this.element.classList.remove('is-selected');\n  this.element.setAttribute( 'aria-hidden', 'true' );\n};\n\n/**\n * @param {Integer} factor - 0, 1, or -1\n**/\nproto.wrapShift = function( shift ) {\n  this.shift = shift;\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\n};\n\nproto.remove = function() {\n  this.element.parentNode.removeChild( this.element );\n};\n\nreturn Cell;\n\n}));\n","// slide\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n\n}( window, function factory() {\n'use strict';\n\nfunction Slide( parent ) {\n  this.parent = parent;\n  this.isOriginLeft = parent.originSide == 'left';\n  this.cells = [];\n  this.outerWidth = 0;\n  this.height = 0;\n}\n\nvar proto = Slide.prototype;\n\nproto.addCell = function( cell ) {\n  this.cells.push( cell );\n  this.outerWidth += cell.size.outerWidth;\n  this.height = Math.max( cell.size.outerHeight, this.height );\n  // first cell stuff\n  if ( this.cells.length == 1 ) {\n    this.x = cell.x; // x comes from first cell\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n    this.firstMargin = cell.size[ beginMargin ];\n  }\n};\n\nproto.updateTarget = function() {\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n  var lastCell = this.getLastCell();\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.select = function() {\n  this.cells.forEach( function( cell ) {\n    cell.select();\n  });\n};\n\nproto.unselect = function() {\n  this.cells.forEach( function( cell ) {\n    cell.unselect();\n  });\n};\n\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\nreturn Slide;\n\n}));\n","// animate\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'fizzy-ui-utils/utils'\n    ], function( utils ) {\n      return factory( window, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(\n      window,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, utils ) {\n\n'use strict';\n\n// -------------------------- animate -------------------------- //\n\nvar proto = {};\n\nproto.startAnimation = function() {\n  if ( this.isAnimating ) {\n    return;\n  }\n\n  this.isAnimating = true;\n  this.restingFrames = 0;\n  this.animate();\n};\n\nproto.animate = function() {\n  this.applyDragForce();\n  this.applySelectedAttraction();\n\n  var previousX = this.x;\n\n  this.integratePhysics();\n  this.positionSlider();\n  this.settle( previousX );\n  // animate next frame\n  if ( this.isAnimating ) {\n    var _this = this;\n    requestAnimationFrame( function animateFrame() {\n      _this.animate();\n    });\n  }\n};\n\nproto.positionSlider = function() {\n  var x = this.x;\n  // wrap position around\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\n    x = utils.modulo( x, this.slideableWidth );\n    x = x - this.slideableWidth;\n    this.shiftWrapCells( x );\n  }\n\n  this.setTranslateX( x, this.isAnimating );\n  this.dispatchScrollEvent();\n};\n\nproto.setTranslateX = function( x, is3d ) {\n  x += this.cursorPosition;\n  // reverse if right-to-left and using transform\n  x = this.options.rightToLeft ? -x : x;\n  var translateX = this.getPositionValue( x );\n  // use 3D tranforms for hardware acceleration on iOS\n  // but use 2D when settled, for better font-rendering\n  this.slider.style.transform = is3d ?\n    'translate3d(' + translateX + ',0,0)' : 'translateX(' + translateX + ')';\n};\n\nproto.dispatchScrollEvent = function() {\n  var firstSlide = this.slides[0];\n  if ( !firstSlide ) {\n    return;\n  }\n  var positionX = -this.x - firstSlide.target;\n  var progress = positionX / this.slidesWidth;\n  this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n};\n\nproto.positionSliderAtSelected = function() {\n  if ( !this.cells.length ) {\n    return;\n  }\n  this.x = -this.selectedSlide.target;\n  this.velocity = 0; // stop wobble\n  this.positionSlider();\n};\n\nproto.getPositionValue = function( position ) {\n  if ( this.options.percentPosition ) {\n    // percent position, round to 2 digits, like 12.34%\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 )+ '%';\n  } else {\n    // pixel positioning\n    return Math.round( position ) + 'px';\n  }\n};\n\nproto.settle = function( previousX ) {\n  // keep track of frames where x hasn't moved\n  if ( !this.isPointerDown && Math.round( this.x * 100 ) == Math.round( previousX * 100 ) ) {\n    this.restingFrames++;\n  }\n  // stop animating if resting for 3 or more frames\n  if ( this.restingFrames > 2 ) {\n    this.isAnimating = false;\n    delete this.isFreeScrolling;\n    // render position with translateX when settled\n    this.positionSlider();\n    this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n  }\n};\n\nproto.shiftWrapCells = function( x ) {\n  // shift before cells\n  var beforeGap = this.cursorPosition + x;\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n  // shift after cells\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\n};\n\nproto._shiftCells = function( cells, gap, shift ) {\n  for ( var i=0; i < cells.length; i++ ) {\n    var cell = cells[i];\n    var cellShift = gap > 0 ? shift : 0;\n    cell.wrapShift( cellShift );\n    gap -= cell.size.outerWidth;\n  }\n};\n\nproto._unshiftCells = function( cells ) {\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  for ( var i=0; i < cells.length; i++ ) {\n    cells[i].wrapShift( 0 );\n  }\n};\n\n// -------------------------- physics -------------------------- //\n\nproto.integratePhysics = function() {\n  this.x += this.velocity;\n  this.velocity *= this.getFrictionFactor();\n};\n\nproto.applyForce = function( force ) {\n  this.velocity += force;\n};\n\nproto.getFrictionFactor = function() {\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n};\n\nproto.getRestingPosition = function() {\n  // my thanks to Steven Wittens, who simplified this math greatly\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n};\n\nproto.applyDragForce = function() {\n  if ( !this.isDraggable || !this.isPointerDown ) {\n    return;\n  }\n  // change the position to drag position by applying force\n  var dragVelocity = this.dragX - this.x;\n  var dragForce = dragVelocity - this.velocity;\n  this.applyForce( dragForce );\n};\n\nproto.applySelectedAttraction = function() {\n  // do not attract if pointer down or no slides\n  var dragDown = this.isDraggable && this.isPointerDown;\n  if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n    return;\n  }\n  var distance = this.selectedSlide.target * -1 - this.x;\n  var force = distance * this.options.selectedAttraction;\n  this.applyForce( force );\n};\n\nreturn proto;\n\n}));\n","// drag\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unidragger/unidragger',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unidragger, utils ) {\n      return factory( window, Flickity, Unidragger, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unidragger'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.Unidragger,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unidragger, utils ) {\n\n'use strict';\n\n// ----- defaults ----- //\n\nutils.extend( Flickity.defaults, {\n  draggable: '>1',\n  dragThreshold: 3,\n});\n\n// ----- create ----- //\n\nFlickity.createMethods.push('_createDrag');\n\n// -------------------------- drag prototype -------------------------- //\n\nvar proto = Flickity.prototype;\nutils.extend( proto, Unidragger.prototype );\nproto._touchActionValue = 'pan-y';\n\n// --------------------------  -------------------------- //\n\nvar isTouch = 'createTouch' in document;\nvar isTouchmoveScrollCanceled = false;\n\nproto._createDrag = function() {\n  this.on( 'activate', this.onActivateDrag );\n  this.on( 'uiChange', this._uiChangeDrag );\n  this.on( 'deactivate', this.onDeactivateDrag );\n  this.on( 'cellChange', this.updateDraggable );\n  // TODO updateDraggable on resize? if groupCells & slides change\n  // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\n  // #457, RubaXa/Sortable#973\n  if ( isTouch && !isTouchmoveScrollCanceled ) {\n    window.addEventListener( 'touchmove', function() {});\n    isTouchmoveScrollCanceled = true;\n  }\n};\n\nproto.onActivateDrag = function() {\n  this.handles = [ this.viewport ];\n  this.bindHandles();\n  this.updateDraggable();\n};\n\nproto.onDeactivateDrag = function() {\n  this.unbindHandles();\n  this.element.classList.remove('is-draggable');\n};\n\nproto.updateDraggable = function() {\n  // disable dragging if less than 2 slides. #278\n  if ( this.options.draggable == '>1' ) {\n    this.isDraggable = this.slides.length > 1;\n  } else {\n    this.isDraggable = this.options.draggable;\n  }\n  if ( this.isDraggable ) {\n    this.element.classList.add('is-draggable');\n  } else {\n    this.element.classList.remove('is-draggable');\n  }\n};\n\n// backwards compatibility\nproto.bindDrag = function() {\n  this.options.draggable = true;\n  this.updateDraggable();\n};\n\nproto.unbindDrag = function() {\n  this.options.draggable = false;\n  this.updateDraggable();\n};\n\nproto._uiChangeDrag = function() {\n  delete this.isFreeScrolling;\n};\n\n// -------------------------- pointer events -------------------------- //\n\nproto.pointerDown = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    this._pointerDownDefault( event, pointer );\n    return;\n  }\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n\n  this._pointerDownPreventDefault( event );\n  this.pointerDownFocus( event );\n  // blur\n  if ( document.activeElement != this.element ) {\n    // do not blur if already focused\n    this.pointerDownBlur();\n  }\n\n  // stop if it was moving\n  this.dragX = this.x;\n  this.viewport.classList.add('is-pointer-down');\n  // track scrolling\n  this.pointerDownScroll = getScrollPosition();\n  window.addEventListener( 'scroll', this );\n\n  this._pointerDownDefault( event, pointer );\n};\n\n// default pointerDown logic, used for staticClick\nproto._pointerDownDefault = function( event, pointer ) {\n  // track start event position\n  // Safari 9 overrides pageX and pageY. These values needs to be copied. #779\n  this.pointerDownPointer = {\n    pageX: pointer.pageX,\n    pageY: pointer.pageY,\n  };\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\nvar focusNodes = {\n  INPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n};\n\nproto.pointerDownFocus = function( event ) {\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isFocusNode ) {\n    this.focus();\n  }\n};\n\nproto._pointerDownPreventDefault = function( event ) {\n  var isTouchStart = event.type == 'touchstart';\n  var isTouchPointer = event.pointerType == 'touch';\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n    event.preventDefault();\n  }\n};\n\n// ----- move ----- //\n\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\n};\n\n// ----- up ----- //\n\nproto.pointerUp = function( event, pointer ) {\n  delete this.isTouchScrolling;\n  this.viewport.classList.remove('is-pointer-down');\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto.pointerDone = function() {\n  window.removeEventListener( 'scroll', this );\n  delete this.pointerDownScroll;\n};\n\n// -------------------------- dragging -------------------------- //\n\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  this.dragStartPosition = this.x;\n  this.startAnimation();\n  window.removeEventListener( 'scroll', this );\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n};\n\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  event.preventDefault();\n\n  this.previousDragX = this.dragX;\n  // reverse if right-to-left\n  var direction = this.options.rightToLeft ? -1 : 1;\n  if ( this.options.wrapAround ) {\n    // wrap around move. #589\n    moveVector.x = moveVector.x % this.slideableWidth;\n  }\n  var dragX = this.dragStartPosition + moveVector.x * direction;\n\n  if ( !this.options.wrapAround && this.slides.length ) {\n    // slow drag\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n  }\n\n  this.dragX = dragX;\n\n  this.dragMoveTime = new Date();\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  if ( this.options.freeScroll ) {\n    this.isFreeScrolling = true;\n  }\n  // set selectedIndex based on where flick will end up\n  var index = this.dragEndRestingSelect();\n\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\n    // if free-scroll & not wrap around\n    // do not free-scroll if going outside of bounding slides\n    // so bounding slides can attract slider, and keep it in bounds\n    var restingX = this.getRestingPosition();\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\n      -restingX < this.getLastSlide().target;\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n    // boost selection if selected index has not changed\n    index += this.dragEndBoostSelect();\n  }\n  delete this.previousDragX;\n  // apply selection\n  // TODO refactor this, selecting here feels weird\n  // HACK, set flag so dragging stays in correct direction\n  this.isDragSelect = this.options.wrapAround;\n  this.select( index );\n  delete this.isDragSelect;\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\nproto.dragEndRestingSelect = function() {\n  var restingX = this.getRestingPosition();\n  // how far away from selected slide\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n  // get closet resting going up and going down\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\n  // use closer resting for wrap-around\n  var index = positiveResting.distance < negativeResting.distance ?\n    positiveResting.index : negativeResting.index;\n  return index;\n};\n\n/**\n * given resting X and distance to selected cell\n * get the distance and index of the closest cell\n * @param {Number} restingX - estimated post-flick resting position\n * @param {Number} distance - distance to selected cell\n * @param {Integer} increment - +1 or -1, going up or down\n * @returns {Object} - { distance: {Number}, index: {Integer} }\n */\nproto._getClosestResting = function( restingX, distance, increment ) {\n  var index = this.selectedIndex;\n  var minDistance = Infinity;\n  var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function( d, md ) { return d <= md; } : function( d, md ) { return d < md; };\n  while ( condition( distance, minDistance ) ) {\n    // measure distance to next cell\n    index += increment;\n    minDistance = distance;\n    distance = this.getSlideDistance( -restingX, index );\n    if ( distance === null ) {\n      break;\n    }\n    distance = Math.abs( distance );\n  }\n  return {\n    distance: minDistance,\n    // selected was previous index\n    index: index - increment\n  };\n};\n\n/**\n * measure distance between x and a slide target\n * @param {Number} x\n * @param {Integer} index - slide index\n */\nproto.getSlideDistance = function( x, index ) {\n  var len = this.slides.length;\n  // wrap around if at least 2 slides\n  var isWrapAround = this.options.wrapAround && len > 1;\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n  var slide = this.slides[ slideIndex ];\n  if ( !slide ) {\n    return null;\n  }\n  // add distance for wrap-around slides\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index / len ) : 0;\n  return x - ( slide.target + wrap );\n};\n\nproto.dragEndBoostSelect = function() {\n  // do not boost if no previousDragX or dragMoveTime\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100 ) {\n    return 0;\n  }\n\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n  var delta = this.previousDragX - this.dragX;\n  if ( distance > 0 && delta > 0 ) {\n    // boost to next if moving towards the right, and positive velocity\n    return 1;\n  } else if ( distance < 0 && delta < 0 ) {\n    // boost to previous if moving towards the left, and negative velocity\n    return -1;\n  }\n  return 0;\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  // get clickedCell, if cell was clicked\n  var clickedCell = this.getParentCell( event.target );\n  var cellElem = clickedCell && clickedCell.element;\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n};\n\n// ----- scroll ----- //\n\nproto.onscroll = function() {\n  var scroll = getScrollPosition();\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n  // cancel click/tap if scroll is too much\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n    this._pointerDone();\n  }\n};\n\n// ----- utils ----- //\n\nfunction getScrollPosition() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n","/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n'use strict';\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n","// prev/next buttons\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unipointer/unipointer',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unipointer'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.Unipointer,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n'use strict';\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\n// -------------------------- PrevNextButton -------------------------- //\n\nfunction PrevNextButton( direction, parent ) {\n  this.direction = direction;\n  this.parent = parent;\n  this._create();\n}\n\nPrevNextButton.prototype = Object.create( Unipointer.prototype );\n\nPrevNextButton.prototype._create = function() {\n  // properties\n  this.isEnabled = true;\n  this.isPrevious = this.direction == -1;\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n  this.isLeft = this.direction == leftDirection;\n\n  var element = this.element = document.createElement('button');\n  element.className = 'flickity-button flickity-prev-next-button';\n  element.className += this.isPrevious ? ' previous' : ' next';\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n  element.setAttribute( 'type', 'button' );\n  // init as disabled\n  this.disable();\n\n  element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n  // create arrow\n  var svg = this.createSVG();\n  element.appendChild( svg );\n  // events\n  this.parent.on( 'select', this.update.bind( this ) );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPrevNextButton.prototype.activate = function() {\n  this.bindStartEvent( this.element );\n  this.element.addEventListener( 'click', this );\n  // add to DOM\n  this.parent.element.appendChild( this.element );\n};\n\nPrevNextButton.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.element );\n  // click events\n  this.unbindStartEvent( this.element );\n  this.element.removeEventListener( 'click', this );\n};\n\nPrevNextButton.prototype.createSVG = function() {\n  var svg = document.createElementNS( svgURI, 'svg');\n  svg.setAttribute( 'class', 'flickity-button-icon' );\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\n  var path = document.createElementNS( svgURI, 'path');\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n  path.setAttribute( 'd', pathMovements );\n  path.setAttribute( 'class', 'arrow' );\n  // rotate arrow\n  if ( !this.isLeft ) {\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n  }\n  svg.appendChild( path );\n  return svg;\n};\n\n// get SVG path movmement\nfunction getArrowMovements( shape ) {\n  // use shape as movement if string\n  if ( typeof shape == 'string' ) {\n    return shape;\n  }\n  // create movement string\n  return 'M ' + shape.x0 + ',50' +\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n    ' L ' + shape.x3 + ',50 ' +\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n    ' Z';\n}\n\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\n\nPrevNextButton.prototype.onclick = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.parent.uiChange();\n  var method = this.isPrevious ? 'previous' : 'next';\n  this.parent[ method ]();\n};\n\n// -----  ----- //\n\nPrevNextButton.prototype.enable = function() {\n  if ( this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = false;\n  this.isEnabled = true;\n};\n\nPrevNextButton.prototype.disable = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = true;\n  this.isEnabled = false;\n};\n\nPrevNextButton.prototype.update = function() {\n  // index of first or last slide, if previous or next\n  var slides = this.parent.slides;\n  // enable is wrapAround and at least 2 slides\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\n    this.enable();\n    return;\n  }\n  var lastIndex = slides.length ? slides.length - 1 : 0;\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n  this[ method ]();\n};\n\nPrevNextButton.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\n// -------------------------- Flickity prototype -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  prevNextButtons: true,\n  arrowShape: {\n    x0: 10,\n    x1: 60, y1: 50,\n    x2: 70, y2: 40,\n    x3: 30\n  }\n});\n\nFlickity.createMethods.push('_createPrevNextButtons');\nvar proto = Flickity.prototype;\n\nproto._createPrevNextButtons = function() {\n  if ( !this.options.prevNextButtons ) {\n    return;\n  }\n\n  this.prevButton = new PrevNextButton( -1, this );\n  this.nextButton = new PrevNextButton( 1, this );\n\n  this.on( 'activate', this.activatePrevNextButtons );\n};\n\nproto.activatePrevNextButtons = function() {\n  this.prevButton.activate();\n  this.nextButton.activate();\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\n};\n\nproto.deactivatePrevNextButtons = function() {\n  this.prevButton.deactivate();\n  this.nextButton.deactivate();\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\n};\n\n// --------------------------  -------------------------- //\n\nFlickity.PrevNextButton = PrevNextButton;\n\nreturn Flickity;\n\n}));\n","// page dots\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unipointer/unipointer',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unipointer'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.Unipointer,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n\n// -------------------------- PageDots -------------------------- //\n\n'use strict';\n\nfunction PageDots( parent ) {\n  this.parent = parent;\n  this._create();\n}\n\nPageDots.prototype = Object.create( Unipointer.prototype );\n\nPageDots.prototype._create = function() {\n  // create holder element\n  this.holder = document.createElement('ol');\n  this.holder.className = 'flickity-page-dots';\n  // create dots, array of elements\n  this.dots = [];\n  // events\n  this.handleClick = this.onClick.bind( this );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPageDots.prototype.activate = function() {\n  this.setDots();\n  this.holder.addEventListener( 'click', this.handleClick );\n  this.bindStartEvent( this.holder );\n  // add to DOM\n  this.parent.element.appendChild( this.holder );\n};\n\nPageDots.prototype.deactivate = function() {\n  this.holder.removeEventListener( 'click', this.handleClick );\n  this.unbindStartEvent( this.holder );\n  // remove from DOM\n  this.parent.element.removeChild( this.holder );\n};\n\nPageDots.prototype.setDots = function() {\n  // get difference between number of slides and number of dots\n  var delta = this.parent.slides.length - this.dots.length;\n  if ( delta > 0 ) {\n    this.addDots( delta );\n  } else if ( delta < 0 ) {\n    this.removeDots( -delta );\n  }\n};\n\nPageDots.prototype.addDots = function( count ) {\n  var fragment = document.createDocumentFragment();\n  var newDots = [];\n  var length = this.dots.length;\n  var max = length + count;\n\n  for ( var i = length; i < max; i++ ) {\n    var dot = document.createElement('li');\n    dot.className = 'dot';\n    dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n    fragment.appendChild( dot );\n    newDots.push( dot );\n  }\n\n  this.holder.appendChild( fragment );\n  this.dots = this.dots.concat( newDots );\n};\n\nPageDots.prototype.removeDots = function( count ) {\n  // remove from this.dots collection\n  var removeDots = this.dots.splice( this.dots.length - count, count );\n  // remove from DOM\n  removeDots.forEach( function( dot ) {\n    this.holder.removeChild( dot );\n  }, this );\n};\n\nPageDots.prototype.updateSelected = function() {\n  // remove selected class on previous\n  if ( this.selectedDot ) {\n    this.selectedDot.className = 'dot';\n    this.selectedDot.removeAttribute('aria-current');\n  }\n  // don't proceed if no dots\n  if ( !this.dots.length ) {\n    return;\n  }\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\n  this.selectedDot.className = 'dot is-selected';\n  this.selectedDot.setAttribute( 'aria-current', 'step' );\n};\n\nPageDots.prototype.onTap = // old method name, backwards-compatible\nPageDots.prototype.onClick = function( event ) {\n  var target = event.target;\n  // only care about dot clicks\n  if ( target.nodeName != 'LI' ) {\n    return;\n  }\n\n  this.parent.uiChange();\n  var index = this.dots.indexOf( target );\n  this.parent.select( index );\n};\n\nPageDots.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\nFlickity.PageDots = PageDots;\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pageDots: true\n});\n\nFlickity.createMethods.push('_createPageDots');\n\nvar proto = Flickity.prototype;\n\nproto._createPageDots = function() {\n  if ( !this.options.pageDots ) {\n    return;\n  }\n  this.pageDots = new PageDots( this );\n  // events\n  this.on( 'activate', this.activatePageDots );\n  this.on( 'select', this.updateSelectedPageDots );\n  this.on( 'cellChange', this.updatePageDots );\n  this.on( 'resize', this.updatePageDots );\n  this.on( 'deactivate', this.deactivatePageDots );\n};\n\nproto.activatePageDots = function() {\n  this.pageDots.activate();\n};\n\nproto.updateSelectedPageDots = function() {\n  this.pageDots.updateSelected();\n};\n\nproto.updatePageDots = function() {\n  this.pageDots.setDots();\n};\n\nproto.deactivatePageDots = function() {\n  this.pageDots.deactivate();\n};\n\n// -----  ----- //\n\nFlickity.PageDots = PageDots;\n\nreturn Flickity;\n\n}));\n","// player & autoPlay\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter',\n      'fizzy-ui-utils/utils',\n      './flickity'\n    ], function( EvEmitter, utils, Flickity ) {\n      return factory( EvEmitter, utils, Flickity );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('ev-emitter'),\n      require('fizzy-ui-utils'),\n      require('./flickity')\n    );\n  } else {\n    // browser global\n    factory(\n      window.EvEmitter,\n      window.fizzyUIUtils,\n      window.Flickity\n    );\n  }\n\n}( window, function factory( EvEmitter, utils, Flickity ) {\n\n'use strict';\n\n// -------------------------- Player -------------------------- //\n\nfunction Player( parent ) {\n  this.parent = parent;\n  this.state = 'stopped';\n  // visibility change event handler\n  this.onVisibilityChange = this.visibilityChange.bind( this );\n  this.onVisibilityPlay = this.visibilityPlay.bind( this );\n}\n\nPlayer.prototype = Object.create( EvEmitter.prototype );\n\n// start play\nPlayer.prototype.play = function() {\n  if ( this.state == 'playing' ) {\n    return;\n  }\n  // do not play if page is hidden, start playing when page is visible\n  var isPageHidden = document.hidden;\n  if ( isPageHidden ) {\n    document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n    return;\n  }\n\n  this.state = 'playing';\n  // listen to visibility change\n  document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n  // start ticking\n  this.tick();\n};\n\nPlayer.prototype.tick = function() {\n  // do not tick if not playing\n  if ( this.state != 'playing' ) {\n    return;\n  }\n\n  var time = this.parent.options.autoPlay;\n  // default to 3 seconds\n  time = typeof time == 'number' ? time : 3000;\n  var _this = this;\n  // HACK: reset ticks if stopped and started within interval\n  this.clear();\n  this.timeout = setTimeout( function() {\n    _this.parent.next( true );\n    _this.tick();\n  }, time );\n};\n\nPlayer.prototype.stop = function() {\n  this.state = 'stopped';\n  this.clear();\n  // remove visibility change event\n  document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n};\n\nPlayer.prototype.clear = function() {\n  clearTimeout( this.timeout );\n};\n\nPlayer.prototype.pause = function() {\n  if ( this.state == 'playing' ) {\n    this.state = 'paused';\n    this.clear();\n  }\n};\n\nPlayer.prototype.unpause = function() {\n  // re-start play if paused\n  if ( this.state == 'paused' ) {\n    this.play();\n  }\n};\n\n// pause if page visibility is hidden, unpause if visible\nPlayer.prototype.visibilityChange = function() {\n  var isPageHidden = document.hidden;\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\n};\n\nPlayer.prototype.visibilityPlay = function() {\n  this.play();\n  document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n};\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pauseAutoPlayOnHover: true\n});\n\nFlickity.createMethods.push('_createPlayer');\nvar proto = Flickity.prototype;\n\nproto._createPlayer = function() {\n  this.player = new Player( this );\n\n  this.on( 'activate', this.activatePlayer );\n  this.on( 'uiChange', this.stopPlayer );\n  this.on( 'pointerDown', this.stopPlayer );\n  this.on( 'deactivate', this.deactivatePlayer );\n};\n\nproto.activatePlayer = function() {\n  if ( !this.options.autoPlay ) {\n    return;\n  }\n  this.player.play();\n  this.element.addEventListener( 'mouseenter', this );\n};\n\n// Player API, don't hate the ... thanks I know where the door is\n\nproto.playPlayer = function() {\n  this.player.play();\n};\n\nproto.stopPlayer = function() {\n  this.player.stop();\n};\n\nproto.pausePlayer = function() {\n  this.player.pause();\n};\n\nproto.unpausePlayer = function() {\n  this.player.unpause();\n};\n\nproto.deactivatePlayer = function() {\n  this.player.stop();\n  this.element.removeEventListener( 'mouseenter', this );\n};\n\n// ----- mouseenter/leave ----- //\n\n// pause auto-play on hover\nproto.onmouseenter = function() {\n  if ( !this.options.pauseAutoPlayOnHover ) {\n    return;\n  }\n  this.player.pause();\n  this.element.addEventListener( 'mouseleave', this );\n};\n\n// resume auto-play on hover off\nproto.onmouseleave = function() {\n  this.player.unpause();\n  this.element.removeEventListener( 'mouseleave', this );\n};\n\n// -----  ----- //\n\nFlickity.Player = Player;\n\nreturn Flickity;\n\n}));\n","// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n\n'use strict';\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  });\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {Element, Array, NodeList} elems\n * @param {Integer} index\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {Element, Array, NodeList} elems\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n","// lazyload\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n'use strict';\n\nFlickity.createMethods.push('_createLazyload');\nvar proto = Flickity.prototype;\n\nproto._createLazyload = function() {\n  this.on( 'select', this.lazyLoad );\n};\n\nproto.lazyLoad = function() {\n  var lazyLoad = this.options.lazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n  // get lazy images in those cells\n  var lazyImages = [];\n  cellElems.forEach( function( cellElem ) {\n    var lazyCellImages = getCellLazyImages( cellElem );\n    lazyImages = lazyImages.concat( lazyCellImages );\n  });\n  // load lazy images\n  lazyImages.forEach( function( img ) {\n    new LazyLoader( img, this );\n  }, this );\n};\n\nfunction getCellLazyImages( cellElem ) {\n  // check if cell element is lazy image\n  if ( cellElem.nodeName == 'IMG' ) {\n    var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n    var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n    var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n    if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n      return [ cellElem ];\n    }\n  }\n  // select lazy images in cell\n  var lazySelector = 'img[data-flickity-lazyload], ' +\n    'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n  var imgs = cellElem.querySelectorAll( lazySelector );\n  return utils.makeArray( imgs );\n}\n\n// -------------------------- LazyLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction LazyLoader( img, flickity ) {\n  this.img = img;\n  this.flickity = flickity;\n  this.load();\n}\n\nLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // get src & srcset\n  var src = this.img.getAttribute('data-flickity-lazyload') ||\n    this.img.getAttribute('data-flickity-lazyload-src');\n  var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n  // set src & serset\n  this.img.src = src;\n  if ( srcset ) {\n    this.img.setAttribute( 'srcset', srcset );\n  }\n  // remove attr\n  this.img.removeAttribute('data-flickity-lazyload');\n  this.img.removeAttribute('data-flickity-lazyload-src');\n  this.img.removeAttribute('data-flickity-lazyload-srcset');\n};\n\nLazyLoader.prototype.onload = function( event ) {\n  this.complete( event, 'flickity-lazyloaded' );\n};\n\nLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-lazyerror' );\n};\n\nLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  var cell = this.flickity.getParentCell( this.img );\n  var cellElem = cell && cell.element;\n  this.flickity.cellSizeChange( cellElem );\n\n  this.img.classList.add( className );\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n};\n\n// -----  ----- //\n\nFlickity.LazyLoader = LazyLoader;\n\nreturn Flickity;\n\n}));\n","import { Controller } from 'stimulus'\n\nexport default class extends Controller {\n\n    initialize() {\n    }\n\n    connect () {\n    }\n\n    disconnect () {\n    }\n\n    clickHandlerClose (event) {\n        event.preventDefault()\n        // this.element.classList.add('popup--close')\n        document.querySelector('.redirect-popup-container').remove()\n    }\n\n  }","import { Controller } from 'stimulus'\nimport Isotope from 'isotope-layout'\n\nexport default class extends Controller {\n\n    static targets = [ 'container', 'filterEventType', 'sort', 'filterDate', 'location' ]\n    initialize() {\n        console.log('Init grid')\n    }\n\n    connect () {\n        this.iso = new Isotope(this.containerTarget, {\n            itemSelector: '.programme-grid-item',\n            layoutMode: 'masonry',\n            getSortData: {\n                az: '[data-az]',\n                highlights: '[data-highlights]',\n                location: '[data-location]',\n                lastadded: 'original-order',         \n            },\n            sortBy: 'highlights' \n        })\n        this.filterData = { \n            date: '*', \n            event: '*',\n            location: '*'\n        }\n\n        this.filterEventTypeTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                this.filter = {\n                    location: this.filterData.location,\n                    date: this.filterData.date,\n                    event: element.getAttribute('data-filter').toLowerCase()\n                }\n                this.filterEventTypeTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            })        \n        })\n\n        // Date buttons\n        this.filterDateTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                this.filter = { \n                    location: this.filterData.location,\n                    date: element.getAttribute('data-filter').toLowerCase(), \n                    event: this.filterData.event\n                }\n                this.filterDateTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            })        \n        })\n\n        // Location buttons\n        this.locationTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                this.filter = { \n                    location: element.getAttribute('data-filter').toLowerCase(), \n                    date: this.filterData.date, \n                    event: this.filterData.event \n                }\n                this.locationTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            })        \n        })\n        \n        // Sorting buttons\n        this.sortTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                let sortOption = element.getAttribute('data-filter').toLowerCase()\n                this.sort = sortOption\n                this.sortTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            }) \n        })\n\n    }\n    \n    disconnect() {\n        this.iso.destroy()\n    }\n\n    set filter (value) {\n        this.filterData = value\n        this.iso.arrange({\n            filter: ( gridItemElem ) =>  {\n                let query = value\n\n                let conditionEvent = gridItemElem.classList.contains(query.event)\n                if (query.event === '*' ) conditionEvent = true \n\n                let conditionDate = gridItemElem.classList.contains(query.date)\n                if (query.date === '*' ) conditionDate= true \n\n                let location = gridItemElem.getAttribute('data-location')\n                let conditionLocation = location.includes(query.location)\n                if (query.location === '*' ) conditionLocation = true \n\n                let condition = conditionEvent && conditionDate && conditionLocation\n                return condition\n            }\n        })\n    }\n    set sort (value) {\n        this.iso.arrange({ sortBy: value })\n    }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","exports.f = Object.getOwnPropertySymbols;\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","import { Controller } from 'stimulus'\n\nexport default class extends Controller {\n    static targets = []  \n\n    initialize() {\n        import(/* webpackChunkName: \"popup\" */ '../components/popUp.jsx').then(module => {\n            this.popUp = module.default\n        })\n\n        this.elements = document.querySelectorAll('.tt-line-block-content')\n        this.ticking = false;\n        if (window.innerWidth < 750) {\n            this.leftMargin = 10\n        } else {\n            this.leftMargin = document.querySelector('.tt-line-venue-name').offsetWidth + 30;\n        }     \n    }\n\n    connect () {\n    }\n\n    disconnect () {\n    }\n\n    onClick(event) {\n        event.preventDefault()\n\n        if (this.popUp) {\n            this.popUp({\n            link: event.target.href,\n            title: event.target.dataset.title,\n            time: event.target.dataset.time, \n            artist: event.target.dataset.artist \n            })\n        }\n    }\n\n    onScroll(event) {\n\n  \n        if (!this.ticking) {\n          window.requestAnimationFrame(() => {\n            let leftMargin = this.leftMargin\n            this.elements.forEach( el => {\n                let rect = el.getBoundingClientRect()\n                let rectParent = el.parentElement.getBoundingClientRect()\n    \n                let offset = leftMargin - rectParent.left \n                let lenght = rect.right - rect.left \n    \n                if ( rectParent.left < leftMargin && rectParent.right >= rectParent.left + offset + lenght + 20 ) {\n                    //el.classList.add('marker')\n                    el.style.transform = 'translateX(' + offset + 'px)'\n                }    \n            })\n            this.ticking = false;\n          });     \n          this.ticking = true;\n        }\n    }\n  }","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","const languages = {\n    de: {\n      title: 'Cookie-Richtlinie',\n      content: 'Unsere Website verwendet Cookies, um zu analysieren, wie die Site verwendet wird, und um sicherzustellen, dass Ihre Benutzererfahrung bei nachfolgenden Besuchen konsistent ist.',\n      accept: 'Zustimmen',\n      learnMore: 'Mehr erfahren',\n    },\n    en: {\n      title: 'Cookies policy',\n      content: 'Our website uses cookies to analyse how the site is used and to ensure your experience is consistent between visits.',\n      accept: 'Accept',\n      learnMore: 'Learn more',\n    },\n    it: {\n      title: 'Polizza cookie',\n      content: 'Il nostro sito utilizza cookie per analizzare le tue abitudini e per assicurarsi che la tua esperienza sia consistente tra le visite.',\n      accept: 'Accetta',\n      learnMore: 'Altre informazioni',\n    },\n    fr: {\n      title: 'Politiques d\\'utilisation des cookies',\n      content: 'Notre site web utilise des cookies pour analyser son utilisation et vous permettre ainsi d\\'obtenir une expérience de qualité.',\n      accept: 'Accepter',\n      learnMore: 'En apprendre plus',\n    },\n    pt: {\n      title: 'Política de Cookies',\n      content: 'O nosso website utiliza Cookies para analisar a forma como o mesmo é utilizado e garantir uma experiência consistente e de qualidade para todos os visitantes.',\n      accept: 'Aceitar',\n      learnMore: 'Saber mais',\n    },\n    pl: {\n      title: 'Polityka cookies',\n      content: 'Nasza strona używa ciasteczek do analizy statystyk i zapewnienia takiego samego działania pomiędzi wizytami.',\n      accept: 'Akceptuję',\n      learnMore: 'Czytaj więcej',\n    },\n    ro: {\n      title: 'Politica de utilizare Cookie-uri‎',\n      content: 'Site-ul nostru utilizează module cookie și alte tehnologii similare pentru a optimiza funcţionalitatea si a îmbunătăţi experienţa de navigare.',\n      accept: 'Acceptă',\n      learnMore: 'Află mai multe',\n    },\n  };\n  \n  export default languages;","const createCookie = (name, value, days, domain) => {\n    let expires;\n  \n    if (days) {\n      const date = new Date();\n      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n      expires = `; expires=${date.toGMTString()}`;\n    } else {\n      expires = '';\n    }\n  \n    document.cookie = `${name}=${value}${expires}; path=/; domain=${domain}`;\n  };\n  \n  const readCookie = (name) => {\n    const nameQuery = `${name}=`;\n    const cookies = document.cookie.split(';');\n    for (let i = 0; i < cookies.length; i += 1) {\n      let cookie = cookies[i];\n  \n      while (cookie.charAt(0) === ' ') {\n        cookie = cookie.substring(1, cookie.length);\n      }\n  \n      if (cookie.indexOf(nameQuery) === 0) {\n        return cookie.substring(nameQuery.length, cookie.length);\n      }\n    }\n  \n    return null;\n  };\n  \n  export { createCookie, readCookie };","import languages from './languages';\nimport { createCookie, readCookie } from './cookies.js';\n\nlet COOKIE_BOX_INITIALIZED = false;\n\nexport default class CookieBox {\n  constructor(params) {\n    COOKIE_BOX_INITIALIZED = true;\n    const userSettings = window.CookieBoxConfig || params || {};\n\n    this.box = document.createElement('div');\n    this.box.className = 'cookie-box';\n    this.settings = {\n      backgroundColor: userSettings.backgroundColor || '#3ea25f',\n      textColor: userSettings.textColor || '#fff',\n      language: userSettings.language || 'en',\n      containerWidth: userSettings.containerWidth || 1140,\n      url: userSettings.url || null,\n      linkTarget: userSettings.linkTarget || '_blank',\n      cookieKey: userSettings.cookieKey || 'cookie-box',\n      cookieDomain: userSettings.cookieDomain || document.location.host,\n      cookieExpireInDays: userSettings.cookieExpireInDays || 365,\n      content: userSettings.content || {},\n    };\n    this.dictionary = languages[this.settings.language];\n  }\n\n  init() {\n    if (!this.dictionary) {\n      console.error(`${this.settings.language} language is not supported`);\n\n      return;\n    }\n\n    if (readCookie(this.settings.cookieKey)) {\n      return;\n    }\n\n    this.show();\n\n    document.querySelector('.cookie-box__button').addEventListener('click', () => this.hide());\n  }\n\n  render() {\n    const { settings } = this;\n\n    return `\n    <div>\n      <div class=\"cookie-box__inner\" style=\"\">\n        <div class=\"cookie-box__content\">\n            This website stores data such as cookies to enable important site functionality including analytics, targeting, and personalization.\n            <a href=\"https://2020.sonicacts.com/privacy\">Data Storage Policy</a>\n        </div>\n        <div class=\"cookie-box__buttons\">\n            <button class=\"cookie-box__button\">\n                Accept\n            </button>\n        </div>\n      </div>\n    </div>\n    `;\n  }\n\n  show() {\n    this.box.innerHTML = this.render();\n    document.body.appendChild(this.box);\n  }\n\n  hide() {\n    this.box.classList.add('hidden');\n    createCookie(\n      this.settings.cookieKey,\n      true,\n      this.settings.cookieExpireInDays,\n      this.settings.cookieDomain,\n    );\n\n    setTimeout(() => {\n      this.box.remove();\n    }, 800);\n  }\n}\n\nif (typeof window !== 'undefined') {\n  const initBox = setInterval(() => {\n    if (document.readyState === 'complete') {\n      clearInterval(initBox);\n      if (!COOKIE_BOX_INITIALIZED) {\n        new CookieBox().init();\n      }\n    }\n  }, 50);\n}","import styles from '../css/app.scss'\nimport Turbolinks from 'turbolinks'\nimport lazysizes from 'lazysizes'\nimport CookieBox from './cookies/';\n\nimport { Application } from \"stimulus\"\nimport { definitionsFromContext } from \"stimulus/webpack-helpers\"\n\nTurbolinks.start()\nconst application = Application.start()\nconst context = require.context(\"./controllers\", true, /\\.js$/)\napplication.load(definitionsFromContext(context))\n\nnew CookieBox({backgroundColor: '#ec008c', url: '/privacy-policy'}).init();","export function definitionsFromContext(context) {\n    return context.keys()\n        .map(function (key) { return definitionForModuleWithContextAndKey(context, key); })\n        .filter(function (value) { return value; });\n}\nfunction definitionForModuleWithContextAndKey(context, key) {\n    var identifier = identifierForContextKey(key);\n    if (identifier) {\n        return definitionForModuleAndIdentifier(context(key), identifier);\n    }\n}\nfunction definitionForModuleAndIdentifier(module, identifier) {\n    var controllerConstructor = module.default;\n    if (typeof controllerConstructor == \"function\") {\n        return { identifier: identifier, controllerConstructor: controllerConstructor };\n    }\n}\nexport function identifierForContextKey(key) {\n    var logicalName = (key.match(/^(?:\\.\\/)?(.+)(?:[_-]controller\\..+?)$/) || [])[1];\n    if (logicalName) {\n        return logicalName.replace(/_/g, \"-\").replace(/\\//g, \"--\");\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQSxNQUFNLGlDQUFpQyxPQUEwQztJQUMvRSxPQUFPLE9BQU8sQ0FBQyxJQUFJLEVBQUU7U0FDbEIsR0FBRyxDQUFDLFVBQUEsR0FBRyxJQUFJLE9BQUEsb0NBQW9DLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxFQUFsRCxDQUFrRCxDQUFDO1NBQzlELE1BQU0sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssRUFBTCxDQUFLLENBQWlCLENBQUE7QUFDM0MsQ0FBQztBQUVELDhDQUE4QyxPQUEwQyxFQUFFLEdBQVc7SUFDbkcsSUFBTSxVQUFVLEdBQUcsdUJBQXVCLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDL0MsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLGdDQUFnQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQTtLQUNsRTtBQUNILENBQUM7QUFFRCwwQ0FBMEMsTUFBd0IsRUFBRSxVQUFrQjtJQUNwRixJQUFNLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUE7SUFDNUMsSUFBSSxPQUFPLHFCQUFxQixJQUFJLFVBQVUsRUFBRTtRQUM5QyxPQUFPLEVBQUUsVUFBVSxZQUFBLEVBQUUscUJBQXFCLHVCQUFBLEVBQUUsQ0FBQTtLQUM3QztBQUNILENBQUM7QUFFRCxNQUFNLGtDQUFrQyxHQUFXO0lBQ2pELElBQU0sV0FBVyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyx3Q0FBd0MsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ2xGLElBQUksV0FBVyxFQUFFO1FBQ2YsT0FBTyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFBO0tBQzNEO0FBQ0gsQ0FBQyJ9"],"sourceRoot":""}