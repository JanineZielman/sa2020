{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@stimulus/core/dist/src/event_listener.js","webpack:///./node_modules/@stimulus/core/dist/src/dispatcher.js","webpack:///./node_modules/@stimulus/core/dist/src/action_descriptor.js","webpack:///./node_modules/@stimulus/core/dist/src/action.js","webpack:///./node_modules/@stimulus/core/dist/src/binding.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/element_observer.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/attribute_observer.js","webpack:///./node_modules/@stimulus/multimap/dist/src/set_operations.js","webpack:///./node_modules/@stimulus/multimap/dist/src/multimap.js","webpack:///./node_modules/@stimulus/multimap/dist/src/indexed_multimap.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/token_list_observer.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/value_list_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/binding_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/context.js","webpack:///./node_modules/@stimulus/core/dist/src/definition.js","webpack:///./node_modules/@stimulus/core/dist/src/module.js","webpack:///./node_modules/@stimulus/core/dist/src/data_map.js","webpack:///./node_modules/@stimulus/core/dist/src/selectors.js","webpack:///./node_modules/@stimulus/core/dist/src/target_set.js","webpack:///./node_modules/@stimulus/core/dist/src/scope.js","webpack:///./node_modules/@stimulus/core/dist/src/scope_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/router.js","webpack:///./node_modules/@stimulus/core/dist/src/schema.js","webpack:///./node_modules/@stimulus/core/dist/src/application.js","webpack:///./node_modules/@stimulus/core/dist/src/target_properties.js","webpack:///./node_modules/@stimulus/core/dist/src/controller.js","webpack:///./node_modules/stimulus/index.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/fizzy-ui-utils/utils.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/flickity/js/flickity.js","webpack:///./node_modules/get-size/get-size.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/ev-emitter/ev-emitter.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/outlayer/outlayer.js","webpack:///./node_modules/isotope-layout/js/layout-mode.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/unipointer/unipointer.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/core-js/internals/function-to-string.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/desandro-matches-selector/matches-selector.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/turbolinks/dist/turbolinks.js","webpack:///./node_modules/handorgel/lib/js/esm/handorgel.js","webpack:///./node_modules/google-maps/lib/index.js","webpack:///./node_modules/flickity/js/index.js","webpack:///./node_modules/isotope-layout/js/isotope.js","webpack:///./node_modules/lazysizes/lazysizes.js","webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./app/js/controllers sync \\.js$","webpack:///./app/js/controllers/faq_controller.js","webpack:///./app/js/controllers/map_controller.js","webpack:///./node_modules/google-maps/lib/loader.js","webpack:///./app/js/controllers/menu_controller.js","webpack:///./app/js/controllers/newsSlider_controller.js","webpack:///./node_modules/flickity/js/cell.js","webpack:///./node_modules/flickity/js/slide.js","webpack:///./node_modules/flickity/js/animate.js","webpack:///./node_modules/flickity/js/drag.js","webpack:///./node_modules/unidragger/unidragger.js","webpack:///./node_modules/flickity/js/prev-next-button.js","webpack:///./node_modules/flickity/js/page-dots.js","webpack:///./node_modules/flickity/js/player.js","webpack:///./node_modules/flickity/js/add-remove-cell.js","webpack:///./node_modules/flickity/js/lazyload.js","webpack:///./app/js/controllers/programmeGrid_controller.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/outlayer/item.js","webpack:///./node_modules/isotope-layout/js/item.js","webpack:///./node_modules/isotope-layout/js/layout-modes/masonry.js","webpack:///./node_modules/masonry-layout/masonry.js","webpack:///./node_modules/isotope-layout/js/layout-modes/fit-rows.js","webpack:///./node_modules/isotope-layout/js/layout-modes/vertical.js","webpack:///./app/js/cookies/languages.js","webpack:///./app/js/cookies/cookies.js","webpack:///./app/js/cookies/index.js","webpack:///./app/js/app.js","webpack:///./node_modules/@stimulus/webpack-helpers/dist/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","EventListener","eventTarget","eventName","this","unorderedBindings","Set","connect","addEventListener","disconnect","removeEventListener","bindingConnected","binding","add","bindingDisconnected","delete","handleEvent","event","extendedEvent","stopImmediatePropagation_1","stopImmediatePropagation","assign","immediatePropagationStopped","extendEvent","_i","_a","bindings","length","Array","from","sort","left","right","leftIndex","index","rightIndex","configurable","Dispatcher","application","eventListenerMaps","Map","started","start","eventListeners","forEach","eventListener","stop","values","reduce","listeners","map","concat","fetchEventListenerForBinding","handleError","error","message","detail","fetchEventListener","eventListenerMap","fetchEventListenerMapForEventTarget","createEventListener","set","descriptorPattern","Action","element","descriptor","tagName","toLowerCase","defaultEventNames","getDefaultEventNameForElement","identifier","methodName","forToken","token","descriptorString","content","matches","trim","match","eventTargetName","window","document","toString","eventNameSuffix","e","getAttribute","Error","Binding","context","action","willBeInvokedByEvent","invokeWithEvent","method","controller","target","Element","contains","scope","containsElement","ElementObserver","delegate","_this","elements","mutationObserver","MutationObserver","mutations","processMutations","observe","attributes","childList","subtree","refresh","takeRecords","matchElementsInTree","has","removeElement","_b","_c","addElement","mutations_1","mutation","processMutation","type","processAttributeChange","attributeName","processRemovedNodes","removedNodes","processAddedNodes","addedNodes","node","elementAttributeChanged","matchElement","nodes","elementFromNode","processTree","elementIsActive","tree","processor","nodeType","Node","ELEMENT_NODE","isConnected","elementMatched","elementUnmatched","AttributeObserver","elementObserver","hasAttribute","querySelectorAll","selector","elementMatchedAttribute","elementUnmatchedAttribute","elementAttributeValueChanged","fetch","del","size","prune","extendStatics","Multimap","valuesByKey","hasKey","hasValue","some","getValuesForKey","getKeysForValue","filter","__extends","setPrototypeOf","__proto__","b","__","constructor","_super","IndexedMultimap","keysByValue","keys","TokenListObserver","attributeObserver","tokensByElement","tokensMatched","readTokensForElement","refreshTokensForElement","unmatchedTokens","matchedTokens","tokensUnmatched","tokens","tokenMatched","tokenUnmatched","previousTokens","currentTokens","firstDifferingIndex","Math","max","_","findIndex","tokensAreEqual","slice","tokenString","split","parseTokenString","ValueListObserver","tokenListObserver","parseResultsByToken","WeakMap","valuesByTokenByElement","fetchParseResultForToken","fetchValuesByTokenForElement","elementMatchedValue","elementUnmatchedValue","parseResult","parseToken","valuesByToken","parseValueForToken","BindingObserver","bindingsByAction","valueListObserver","actionAttribute","disconnectAllActions","schema","connectAction","disconnectAction","clear","Context","controllerConstructor","bindingObserver","dispatcher","initialize","parentElement","blessControllerConstructor","extend","bless","extendWithReflect","Controller","_newTarget","Reflect","construct","arguments","a","apply","Module","definition","blessDefinition","contextsByScope","connectedContexts","connectContextForScope","fetchContextForScope","disconnectContextForScope","DataMap","getFormattedKey","setAttribute","removeAttribute","replace","char","attributeValueContainsToken","TargetSet","targetName","find","targetNames","getSelectorForTargetNames","findElement","findAll","findAllElements","getSelectorForTargetName","join","targetDescriptor","targetAttribute","Scope","targets","data","head","tail","filterElements","closest","controllerSelector","controllerAttribute","ScopeObserver","scopesByIdentifierByElement","scopeReferenceCounts","scopesByIdentifier","fetchScopesByIdentifierForElement","referenceCount","scopeConnected","scopeDisconnected","Router","scopeObserver","modulesByIdentifier","contexts","loadDefinition","unloadIdentifier","connectModule","disconnectModule","getContextForElementAndIdentifier","defaultSchema","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","push","Application","documentElement","router","readyState","register","load","rest","definitions","isArray","unload","identifiers","getControllerForElementAndIdentifier","console","defineTargetProperties","ancestors","getPrototypeOf","getAncestorsForConstructor","getOwnTargetNamesForConstructor","getTargetNamesForConstructor","properties","charAt","toUpperCase","capitalize","it","check","globalThis","self","global","Function","factory","matchesSelector","utils","prop","num","div","arraySlice","makeArray","obj","removeFrom","ary","indexOf","splice","getParent","elem","parentNode","getQueryElement","querySelector","filterFindElements","elems","ffElems","HTMLElement","childElems","debounceMethod","_class","threshold","timeoutName","timeout","clearTimeout","args","setTimeout","docReady","callback","toDashed","str","$1","$2","htmlInit","WidgetClass","namespace","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","jQuery","options","attr","JSON","parse","className","instance","writable","exec","EvEmitter","getSize","Cell","Slide","animatePrototype","getComputedStyle","moveElements","toElem","appendChild","shift","GUID","instances","Flickity","queryElement","flickityGUID","option","$element","defaults","_create","accessibility","cellAlign","freeScrollFriction","friction","namespaceJQueryEvents","percentPosition","resize","selectedAttraction","setGallerySize","createMethods","proto","id","guid","selectedIndex","restingFrames","x","velocity","originSide","rightToLeft","viewport","createElement","_createSlider","watchCSS","on","listener","activate","opts","isActive","classList","_filterFindCellElements","children","slider","reloadCells","tabIndex","emitEvent","selectInitialIndex","isInitActivated","dispatchEvent","style","cellSelector","cells","_makeCells","positionCells","_getWrapShiftCells","cellElem","getLastCell","getLastSlide","slides","_sizeCells","_positionCells","maxCellHeight","cellX","startCell","outerWidth","len","cell","setPosition","outerHeight","slideableWidth","updateSlides","_containSlides","slidesWidth","slide","nextMargin","canCellFit","_getCanCellFit","slideWidth","firstMargin","addCell","updateTarget","updateSelectedSlide","groupCells","number","parseInt","percentMatch","percent","innerWidth","_init","reposition","positionSliderAtSelected","setCellAlign","cursorPosition","cellAlignShorthands","center","shorthand","height","adaptiveHeight","selectedSlide","wrapAround","_unshiftCells","beforeShiftCells","afterShiftCells","gapX","cellIndex","_getGapCells","increment","contain","isRightToLeft","beginMargin","endMargin","contentWidth","isContentSmaller","beginBound","endBound","min","emitArgs","$event","jQEvent","Event","trigger","select","isWrap","isInstant","_wrapSelect","modulo","prevIndex","startAnimation","wrapIndex","delta","abs","backWrapDelta","forewardWrapDelta","isDragSelect","previous","unselectSelectedSlide","selectedCells","selectedElements","getCellElements","selectedCell","selectedElement","unselect","initialIndex","queryCell","selectCell","getCellSlideIndex","getCell","getCells","getParentCell","getAdjacentCellElements","adjCount","undefined","cellElems","slideIndex","uiChange","childUIPointerDown","preventDefault","focus","onresize","deactivate","onkeydown","isNotFocused","activeElement","handler","keyboardHandlers","keyCode","37","leftMethod","39","rightMethod","prevScrollY","pageYOffset","preventScroll","scrollTo","pageXOffset","remove","destroy","removeChild","allOff","removeData","bridget","setJQuery","jq","getStyleSize","parseFloat","isNaN","logError","measurements","measurementsLength","getStyle","isBoxSizeOuter","isSetup","width","padding","borderStyle","borderWidth","boxSizing","round","setup","display","innerHeight","getZeroSize","offsetWidth","offsetHeight","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","isObject","String","events","_events","once","onceEvents","_onceEvents","off","onceListeners","fails","IS_PURE","store","version","copyright","shared","uid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","Item","noop","Outlayer","outlayerGUID","_getOption","layout","containerStyle","position","initLayout","originLeft","originTop","resizeContainer","transitionDuration","hiddenStyle","opacity","transform","visibleStyle","subclass","Parent","SubClass","oldOption","compatOptions","horizontal","layoutInstant","reloadItems","stamps","stamp","bindResize","items","_itemize","itemElems","_filterFindItemElements","item","itemSelector","getItemElements","_resetLayout","_manageStamps","_isLayoutInited","layoutItems","_getMeasurement","_getItemsForLayout","_layoutItems","_postLayout","isIgnored","_emitCompleteOnItems","queue","_getItemLayoutPosition","isLayoutInstant","_processLayoutQueue","updateStagger","_positionItem","stagger","time","unit","mult","msUnits","getMilliseconds","goTo","moveTo","_getContainerSize","_setContainerMeasure","measure","isWidth","elemSize","onComplete","count","doneCount","tick","ignore","getItem","unignore","_find","unstamp","_getBoundingRect","_manageStamp","boundingRect","getBoundingClientRect","_boundingRect","top","bottom","_getElementOffset","thisRect","isResizeBound","unbindResize","needsResizeLayout","addItems","appended","reveal","prepended","previousItems","hide","revealItemElements","getItems","hideItemElements","removeItems","Layout","ms","LayoutMode","isotope","filteredItems","needsVerticalResizeLayout","getColumnWidth","getSegmentSize","getRowHeight","segment","segmentName","outerSize","firstItemSize","getFirstItemSize","firstItem","modes","Mode","createNonEnumerableProperty","re1","re2","regexpFlags","nativeExec","RegExp","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","NPCG_INCLUDED","reCopy","re","source","ceil","floor","argument","Unipointer","bindStartEvent","_bindStartEvent","unbindStartEvent","isAdd","bindMethod","startEvent","PointerEvent","getTouch","touches","touch","pointerIdentifier","onmousedown","button","_pointerDown","ontouchstart","changedTouches","onpointerdown","pointer","isPointerDown","pointerId","pointerDown","_bindPostStartEvents","postStartEvents","mousedown","touchstart","pointerdown","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","_pointerReset","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","pageX","pageY","IndexedObject","requireObjectCoercible","IE8_DOM_DEFINE","anObject","toPrimitive","nativeDefineProperty","O","Attributes","input","PREFERRED_STRING","fn","val","valueOf","bitmap","setGlobal","nativeFunctionToString","InternalStateModule","getInternalState","enforceInternalState","enforce","TEMPLATE","unsafe","simple","noTargetGet","postfix","random","getOwnPropertySymbols","classof","MATCH","wellKnownSymbol","isRegExp","toInteger","matchesMethod","ElemProto","prefixes","propertyIsEnumerableModule","toIndexedObject","nativeGetOwnPropertyDescriptor","getOwnPropertyDescriptor","Turbolinks","supported","history","pushState","requestAnimationFrame","visit","clearCache","setProgressBarDelay","copyObject","defer","throttle","dispatch","u","cancelable","createEvent","initEvent","defaultPrevented","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","uuid","Location","href","absoluteURL","hash","requestURL","anchor","wrap","getOrigin","getPath","getPathComponents","getLastPathComponent","getExtension","isHTML","isPrefixedBy","isEqualTo","toCacheKey","toJSON","HttpRequest","requestCanceled","requestTimedOut","requestFailed","requestLoaded","requestProgressed","url","referrer","createXHR","NETWORK_FAILURE","TIMEOUT_FAILURE","send","xhr","notifyApplicationBeforeRequestStart","setProgress","requestStarted","cancel","abort","lengthComputable","loaded","total","endRequest","status","requestCompletedWithResponse","responseText","getResponseHeader","failed","requestFailedWithStatusCode","notifyApplicationAfterRequestEnd","XMLHttpRequest","open","setRequestHeader","onprogress","onload","onerror","ontimeout","onabort","progress","requestFinished","ProgressBar","trickle","stylesheetElement","createStylesheetElement","progressElement","createProgressElement","defaultCSS","show","visible","installStylesheetElement","installProgressElement","startTrickling","hiding","fadeProgressElement","uninstallProgressElement","stopTrickling","setValue","insertBefore","firstChild","trickleInterval","setInterval","clearInterval","textContent","BrowserAdapter","showProgressBar","progressBar","visitProposedToLocationWithAction","startVisitToLocationWithAction","visitStarted","issueRequest","changeHistory","loadCachedSnapshot","visitRequestStarted","hasCachedSnapshot","showProgressBarAfterDelay","visitRequestProgressed","visitRequestCompleted","loadResponse","visitRequestFailedWithStatusCode","reload","visitRequestFinished","hideProgressBar","visitCompleted","followRedirect","pageInvalidated","progressBarTimeout","progressBarDelay","location","History","onPageLoad","onPopState","update","shouldHandlePopState","state","turbolinks","restorationIdentifier","historyPoppedToLocationWithRestorationIdentifier","pageLoaded","pageIsLoaded","HeadDetails","outerHTML","tracked","fromHeadElement","childNodes","hasElementWithKey","getTrackedElementSignature","getScriptElementsNotInDetails","getElementsMatchingTypeNotInDetails","getStylesheetElementsNotInDetails","getProvisionalElements","getMetaValue","findMetaElementByName","Snapshot","headDetails","bodyElement","fromHTMLString","fromHTMLElement","innerHTML","clone","cloneNode","getRootLocation","getSetting","getCacheControlValue","getElementForAnchor","getPermanentElements","getPermanentElementById","getPermanentElementsPresentInSnapshot","findFirstAutofocusableElement","hasAnchor","isPreviewable","isCacheable","isVisitable","Renderer","render","renderView","viewWillRender","newBody","viewRendered","invalidateView","viewInvalidated","createScriptElement","async","__super__","SnapshotRenderer","currentSnapshot","newSnapshot","isPreview","currentHeadDetails","newHeadDetails","currentBody","shouldRender","mergeHead","replaceBody","focusFirstAutofocusableElement","copyNewHeadStylesheetElements","copyNewHeadScriptElements","removeCurrentHeadProvisionalElements","copyNewHeadProvisionalElements","relocateCurrentBodyPermanentElements","activateNewBodyScriptElements","assignNewBody","replacePlaceholderElementsWithClonedPermanentElements","trackedElementsAreIdentical","getNewHeadStylesheetElements","getNewHeadScriptElements","getCurrentHeadProvisionalElements","getNewHeadProvisionalElements","getCurrentBodyPermanentElements","permanentElement","getNewBodyScriptElements","replaceChild","ErrorRenderer","newHead","replaceHeadAndBody","activateBodyScriptElements","getScriptElements","View","htmlElement","getSnapshot","snapshot","markAsPreview","renderSnapshot","renderError","ScrollManager","onScroll","scrollToElement","scrollIntoView","scrollToPosition","updatePosition","scrollPositionChanged","SnapshotCache","snapshots","read","put","write","unshift","Visit","performScroll","adapter","timingMetrics","recordTimingMetric","request","cancelRender","complete","fail","visitFailed","historyChanged","shouldIssueRequest","getCachedSnapshot","getCachedSnapshotForLocation","cacheSnapshot","visitRendered","response","redirectedToLocation","followedRedirect","replaceHistoryWithLocationAndRestorationIdentifier","scrolled","scrollToRestoredPosition","scrollToTop","scrollToAnchor","restorationData","scrollPosition","Date","getTime","getTimingMetrics","snapshotCached","frame","cancelAnimationFrame","clickBubbled","clickCaptured","view","scrollManager","startHistory","enabled","disable","stopHistory","cache","applicationAllowsVisitingLocation","locationIsVisitable","getRestorationDataForIdentifier","startVisit","pushHistoryWithLocationAndRestorationIdentifier","shouldCacheSnapshot","notifyApplicationBeforeCachingSnapshot","lastRenderedLocation","getCurrentRestorationData","notifyApplicationBeforeRender","currentVisit","notifyApplicationAfterRender","notifyApplicationAfterPageLoad","clickEventIsSignificant","getVisitableLinkForNode","getVisitableLocationForLink","applicationAllowsFollowingLinkToLocation","getActionForLink","notifyApplicationAfterClickingLinkToLocation","notifyApplicationBeforeVisitingLocation","notifyApplicationAfterVisitingLocation","timing","createVisit","isContentEditable","which","altKey","ctrlKey","metaKey","shiftKey","nodeIsVisitable","currentScript","warn","_classCallCheck","Constructor","_defineProperties","props","_createClass","protoProps","staticProps","commonjsGlobal","evEmitter","createCommonjsModule","rAF","webkitRequestAnimationFrame","mozRequestAnimationFrame","isWritable","src","ID_COUNTER","ARIA_ATTRIBUTES","expanded","disabled","role","KEYS","HandorgelFold","handorgel","header","handorgelFold","firstElementChild","focused","_listeners","_bindEvents","_initAria","_initialOpen","_initialFocus","transition","collapsible","_updateAria","headerOpenClass","contentOpenClass","_opened","enable","headerOpenedClass","contentOpenedClass","_closed","headerDisabledClass","contentDisabledClass","blur","close","headerNoTransitionClass","contentNoTransitionClass","_unbindEvents","_cleanAria","headerFocusClass","contentFocusClass","_this2","initialOpenAttribute","initialOpenTransition","initialOpenTransitionDelay","_handleFocus","ariaEnabled","newValue","_property","_newValue","currentTarget","propertyName","toggle","keyboardInteraction","bFocus","bBlur","_handleBlur","bClick","_handleButtonClick","bKeydown","_handleButtonKeydown","cKeydown","_handleContentKeydown","cTransition","_handleContentTransitionEnd","ID_COUNTER$1","Handorgel","folds","defaultOptions","_resizing","childrenLength","fold","foldsLength","currentFocusedIndex","carouselFocus","openFold","multiSelectable","_handleResize","foldOpen","_handleFoldOpen","__export","Isotope","layoutMode","isJQueryFiltering","sortAscending","itemGUID","_sorters","_getSorters","sortHistory","_initLayoutMode","_updateItemsSortData","initialOpts","_layout","arrange","_getIsInstant","filtered","_filter","_bindArrangeComplete","_isInstant","_noTransition","_hideReveal","_sort","needReveal","needHide","isLayoutComplete","isHideComplete","isRevealComplete","arrangeParallelCallback","hiddenMatched","visibleUnmatched","test","_getFilterTest","isMatched","isHidden","is","updateSortData","getSortData","sorter","mungeSorter","query","attrMatch","getValue","child","getValueGetter","parser","sortDataParsers","sortBy","sortBys","_getIsSameSortBy","itemSorter","sortAsc","itemA","itemB","sortData","getItemSorter","_mode","_filterRevealAdded","insert","filteredInsertItems","_remove","shuffle","returnValue","getFilteredItemElements","lazySizes","lazysizes","lazySizesCfg","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","srcAttr","srcsetAttr","sizesAttr","minSize","customMedia","init","expFactor","hFac","loadMode","loadHidden","ricTimeout","throttleDelay","lazySizesConfig","lazysizesConfig","getElementsByClassName","cfg","noSupport","docElem","supportPicture","HTMLPictureElement","requestIdleCallback","regPicture","loadEvents","regClassCache","hasClass","ele","cls","addClass","removeClass","reg","addRemoveLoadEvents","dom","evt","triggerEvent","noBubbles","noCancelable","updatePolyfill","el","full","polyfill","picturefill","pf","reevaluate","getCSS","getWidth","parent","_lazysizesWidth","firstFns","secondFns","fns","run","runFns","running","waiting","rafBatch","hidden","_lsFlush","rAFIt","that","debounce","func","timestamp","later","last","now","loader","regImg","regIframe","supportScroll","navigator","userAgent","currentExpand","isLoading","lowRuns","resetPreloading","isVisible","isBodyHidden","isNestedVisible","elemExpand","outerRect","eLtop","eLbottom","eLleft","eLright","offsetParent","checkElements","eLlen","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","defaultExpand","preloadExpand","lazyloadElems","_lazyRace","prematureUnveil","unveilElement","expand","clientHeight","clientWidth","_defEx","eLvW","elvH","isCompleted","preloadElems","preloadAfterLoad","throttledCheckElements","lastTime","gDelay","rICTimeout","idleCallback","isPriority","delay","switchLoadingClass","_lazyCache","rafSwitchLoadingClass","rafedSwitchLoadingClass","handleSources","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","nodeName","resetPreloadingTimer","getElementsByTagName","contentWindow","changeIframeSrc","isLoaded","naturalWidth","loading","autoSizer","updateElem","afterScroll","altLoadmodeScrollListner","persisted","loadingElements","img","checkElems","unveil","_aLSL","sizeElement","sources","getSizeElement","debouncedUpdateElementsSizes","autosizesElems","uP","aC","rC","hC","fire","gW","fixRegExpWellKnownSymbolLogic","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","arrayPush","SUPPORTS_Y","SPLIT","nativeSplit","maybeCallNative","internalSplit","separator","limit","string","lim","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","splitter","regexp","res","rx","S","C","unicodeMatching","q","A","z","redefine","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","groups","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","KEY","sham","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","methods","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","arg","EXISTS","NATIVE_WEAK_MAP","objectHas","sharedKey","hiddenKeys","wmget","wmhas","wmset","metadata","STATE","getterFor","TYPE","dotAll","aFunction","defaultConstructor","createMethod","CONVERT_TO_STRING","$this","pos","first","second","charCodeAt","codeAt","R","webpackContext","req","webpackContextResolve","code","log","accordion","google","maps","initMap","Loader","locations","mapOptions","zoom","LatLng","mapTypeId","MapTypeId","ROADMAP","streetViewControl","mapTypeControl","lat","long","Marker","title","apiKey","api","CALLBACK_NAME","script","createUrl","parameters","name_1","clickHandlerOpen","contentTarget","clickHandlerClose","flkty","carouselTarget","pageDots","prevNextButtons","autoPlay","side","renderPosition","setDefaultTarget","marginProperty","getPositionValue","wrapShift","isOriginLeft","lastCell","lastMargin","isAnimating","animate","applyDragForce","applySelectedAttraction","previousX","integratePhysics","positionSlider","settle","shiftWrapCells","setTranslateX","dispatchScrollEvent","is3d","translateX","firstSlide","positionX","isFreeScrolling","beforeGap","_shiftCells","afterGap","gap","cellShift","getFrictionFactor","force","isDraggable","dragForce","dragX","applyForce","Unidragger","draggable","dragThreshold","_touchActionValue","isTouch","isTouchmoveScrollCanceled","_createDrag","onActivateDrag","_uiChangeDrag","onDeactivateDrag","updateDraggable","handles","bindHandles","unbindHandles","bindDrag","unbindDrag","okayPointerDown","_pointerDownPreventDefault","pointerDownFocus","pointerDownBlur","pointerDownScroll","getScrollPosition","_pointerDownDefault","pointerDownPointer","focusNodes","INPUT","TEXTAREA","SELECT","isTouchStart","isTouchPointer","pointerType","isFocusNode","hasDragStarted","moveVector","isTouchScrolling","_dragPointerUp","dragStart","dragStartPosition","_dragPointerMove","_dragMove","dragMove","previousDragX","direction","originBound","dragMoveTime","dragEnd","freeScroll","dragEndRestingSelect","restingX","getRestingPosition","dragEndBoostSelect","distance","getSlideDistance","positiveResting","_getClosestResting","negativeResting","minDistance","Infinity","condition","md","isWrapAround","staticClick","clickedCell","onscroll","scroll","scrollMoveX","scrollMoveY","_bindHandles","touchAction","handle","cursorNodes","OPTION","clickTypes","radio","checkbox","submit","image","file","isCursorNode","isClickType","isOkay","isDragging","_dragStart","_dragEnd","_staticClick","isPreventingClicks","onclick","isIgnoringMouseUp","svgURI","PrevNextButton","isEnabled","isPrevious","leftDirection","isLeft","svg","createSVG","createElementNS","shape","path","pathMovements","arrowShape","x0","x1","y1","x2","y2","x3","boundIndex","_createPrevNextButtons","prevButton","nextButton","activatePrevNextButtons","deactivatePrevNextButtons","PageDots","holder","dots","handleClick","onClick","setDots","addDots","removeDots","fragment","createDocumentFragment","newDots","dot","updateSelected","selectedDot","onTap","_createPageDots","activatePageDots","updateSelectedPageDots","updatePageDots","deactivatePageDots","Player","onVisibilityChange","visibilityChange","onVisibilityPlay","visibilityPlay","play","pause","unpause","pauseAutoPlayOnHover","_createPlayer","player","activatePlayer","stopPlayer","deactivatePlayer","playPlayer","pausePlayer","unpausePlayer","onmouseenter","onmouseleave","getCellsFragment","isAppend","insertCellElement","endCells","cellChange","append","prepend","minCellIndex","cellSizeChange","changedCellIndex","isPositioningSlider","prevSelectedElem","LazyLoader","flickity","_createLazyload","lazyLoad","lazyImages","lazyCellImages","lazyloadAttr","imgs","getCellLazyImages","iso","containerTarget","az","highlights","lastadded","filterData","date","filterEventTypeTarget","filterDateTarget","locationTarget","sortTarget","sortOption","gridItemElem","conditionEvent","conditionDate","conditionLocation","includes","$","notARegExp","forced","correctIsRegExpLogic","searchString","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","nativePropertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","V","ownKeys","getOwnPropertyDescriptorModule","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","variable","internalObjectKeys","getOwnPropertyNames","names","toAbsoluteIndex","IS_INCLUDES","fromIndex","integer","replacement","feature","detection","normalize","POLYFILL","NATIVE","METHOD_NAME","docElemStyle","transitionProperty","transformProperty","transitionEndEvent","WebkitTransition","vendorProperties","transitionDelay","_transn","ingProperties","clean","onEnd","css","elemStyle","getPosition","isOriginTop","xValue","yValue","layoutSize","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","_transitionTo","curX","curY","didNotMove","isTransitioning","transX","transY","transitionStyle","getTranslate","to","onTransitionEnd","isCleaning","_nonTransition","_removeStyles","_transition","enableTransition","transitionProps","duration","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","isEmptyObj","disableTransition","removeTransitionStyles","cleanStyle","cleanTransitionStyle","removeElem","getHideRevealTransitionEndProperty","onRevealTransitionEnd","styleProperty","optionStyle","onHideTransitionEnd","sorters","_destroy","Masonry","MasonryMode","keepModeMethods","measureColumns","isFitWidth","fitWidth","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItemElem","containerWidth","gutter","excess","container","remainder","colSpan","colPosition","horizontalOrder","col","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","hasSize","stampSize","offset","firstX","lastX","firstCol","lastCol","stampMaxY","_getContainerFitWidth","unusedCols","previousWidth","FitRows","itemWidth","Vertical","horizontalAlignment","languages","de","accept","learnMore","en","fr","pt","pl","ro","createCookie","days","domain","expires","setTime","toGMTString","cookie","readCookie","nameQuery","cookies","substring","COOKIE_BOX_INITIALIZED","CookieBox","params","userSettings","CookieBoxConfig","box","settings","backgroundColor","textColor","language","linkTarget","cookieKey","cookieDomain","host","cookieExpireInDays","dictionary","initBox","require","logicalName","identifierForContextKey","default","definitionForModuleAndIdentifier","definitionForModuleWithContextAndKey","definitionsFromContext"],"mappings":"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","file":"js/app.243f41bdba33a5897056.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 101);\n","var EventListener = /** @class */ (function () {\n    function EventListener(eventTarget, eventName) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.unorderedBindings = new Set;\n    }\n    EventListener.prototype.connect = function () {\n        this.eventTarget.addEventListener(this.eventName, this, false);\n    };\n    EventListener.prototype.disconnect = function () {\n        this.eventTarget.removeEventListener(this.eventName, this, false);\n    };\n    // Binding observer delegate\n    /** @hidden */\n    EventListener.prototype.bindingConnected = function (binding) {\n        this.unorderedBindings.add(binding);\n    };\n    /** @hidden */\n    EventListener.prototype.bindingDisconnected = function (binding) {\n        this.unorderedBindings.delete(binding);\n    };\n    EventListener.prototype.handleEvent = function (event) {\n        var extendedEvent = extendEvent(event);\n        for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {\n            var binding = _a[_i];\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    };\n    Object.defineProperty(EventListener.prototype, \"bindings\", {\n        get: function () {\n            return Array.from(this.unorderedBindings).sort(function (left, right) {\n                var leftIndex = left.index, rightIndex = right.index;\n                return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventListener;\n}());\nexport { EventListener };\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        var stopImmediatePropagation_1 = event.stopImmediatePropagation;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation: function () {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation_1.call(this);\n            }\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnRfbGlzdGVuZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXZlbnRfbGlzdGVuZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7SUFLRSx1QkFBWSxXQUF3QixFQUFFLFNBQWlCO1FBQ3JELElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFBO1FBQzFCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsK0JBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUE7SUFDaEUsQ0FBQztJQUVELGtDQUFVLEdBQVY7UUFDRSxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25FLENBQUM7SUFFRCw0QkFBNEI7SUFFNUIsY0FBYztJQUNkLHdDQUFnQixHQUFoQixVQUFpQixPQUFnQjtRQUMvQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ3JDLENBQUM7SUFFRCxjQUFjO0lBQ2QsMkNBQW1CLEdBQW5CLFVBQW9CLE9BQWdCO1FBQ2xDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDeEMsQ0FBQztJQUVELG1DQUFXLEdBQVgsVUFBWSxLQUFZO1FBQ3RCLElBQU0sYUFBYSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUN4QyxLQUFzQixVQUFhLEVBQWIsS0FBQSxJQUFJLENBQUMsUUFBUSxFQUFiLGNBQWEsRUFBYixJQUFhLEVBQUU7WUFBaEMsSUFBTSxPQUFPLFNBQUE7WUFDaEIsSUFBSSxhQUFhLENBQUMsMkJBQTJCLEVBQUU7Z0JBQzdDLE1BQUs7YUFDTjtpQkFBTTtnQkFDTCxPQUFPLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFBO2FBQ25DO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsc0JBQUksbUNBQVE7YUFBWjtZQUNFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxJQUFJLEVBQUUsS0FBSztnQkFDekQsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxVQUFVLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQTtnQkFDdEQsT0FBTyxTQUFTLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDckUsQ0FBQyxDQUFDLENBQUE7UUFDSixDQUFDOzs7T0FBQTtJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQWhERCxJQWdEQzs7QUFFRCxxQkFBcUIsS0FBWTtJQUMvQixJQUFJLDZCQUE2QixJQUFJLEtBQUssRUFBRTtRQUMxQyxPQUFPLEtBQUssQ0FBQTtLQUNiO1NBQU07UUFDRyxJQUFBLDJEQUF3QixDQUFVO1FBQzFDLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUU7WUFDMUIsMkJBQTJCLEVBQUUsS0FBSztZQUNsQyx3QkFBd0I7Z0JBQ3RCLElBQUksQ0FBQywyQkFBMkIsR0FBRyxJQUFJLENBQUE7Z0JBQ3ZDLDBCQUF3QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUNyQyxDQUFDO1NBQ0YsQ0FBQyxDQUFBO0tBQ0g7QUFDSCxDQUFDIn0=","import { EventListener } from \"./event_listener\";\nvar Dispatcher = /** @class */ (function () {\n    function Dispatcher(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map;\n        this.started = false;\n    }\n    Dispatcher.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach(function (eventListener) { return eventListener.connect(); });\n        }\n    };\n    Dispatcher.prototype.stop = function () {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach(function (eventListener) { return eventListener.disconnect(); });\n        }\n    };\n    Object.defineProperty(Dispatcher.prototype, \"eventListeners\", {\n        get: function () {\n            return Array.from(this.eventListenerMaps.values())\n                .reduce(function (listeners, map) { return listeners.concat(Array.from(map.values())); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Binding observer delegate\n    /** @hidden */\n    Dispatcher.prototype.bindingConnected = function (binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    };\n    /** @hidden */\n    Dispatcher.prototype.bindingDisconnected = function (binding) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n    };\n    // Error handling\n    Dispatcher.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    Dispatcher.prototype.fetchEventListenerForBinding = function (binding) {\n        var eventTarget = binding.eventTarget, eventName = binding.eventName;\n        return this.fetchEventListener(eventTarget, eventName);\n    };\n    Dispatcher.prototype.fetchEventListener = function (eventTarget, eventName) {\n        var eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        var eventListener = eventListenerMap.get(eventName);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName);\n            eventListenerMap.set(eventName, eventListener);\n        }\n        return eventListener;\n    };\n    Dispatcher.prototype.createEventListener = function (eventTarget, eventName) {\n        var eventListener = new EventListener(eventTarget, eventName);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    };\n    Dispatcher.prototype.fetchEventListenerMapForEventTarget = function (eventTarget) {\n        var eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map;\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    };\n    return Dispatcher;\n}());\nexport { Dispatcher };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlzcGF0Y2hlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaXNwYXRjaGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQTtBQUVoRDtJQUtFLG9CQUFZLFdBQXdCO1FBQ2xDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtRQUNoQyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtJQUN0QixDQUFDO0lBRUQsMEJBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO1lBQ25CLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQUEsYUFBYSxJQUFJLE9BQUEsYUFBYSxDQUFDLE9BQU8sRUFBRSxFQUF2QixDQUF1QixDQUFDLENBQUE7U0FDdEU7SUFDSCxDQUFDO0lBRUQseUJBQUksR0FBSjtRQUNFLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNoQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtZQUNwQixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFBLGFBQWEsSUFBSSxPQUFBLGFBQWEsQ0FBQyxVQUFVLEVBQUUsRUFBMUIsQ0FBMEIsQ0FBQyxDQUFBO1NBQ3pFO0lBQ0gsQ0FBQztJQUVELHNCQUFJLHNDQUFjO2FBQWxCO1lBQ0UsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQztpQkFDL0MsTUFBTSxDQUFDLFVBQUMsU0FBUyxFQUFFLEdBQUcsSUFBSyxPQUFBLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUExQyxDQUEwQyxFQUFFLEVBQXFCLENBQUMsQ0FBQTtRQUNsRyxDQUFDOzs7T0FBQTtJQUVELDRCQUE0QjtJQUU1QixjQUFjO0lBQ2QscUNBQWdCLEdBQWhCLFVBQWlCLE9BQWdCO1FBQy9CLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUN0RSxDQUFDO0lBRUQsY0FBYztJQUNkLHdDQUFtQixHQUFuQixVQUFvQixPQUFnQjtRQUNsQyxJQUFJLENBQUMsNEJBQTRCLENBQUMsT0FBTyxDQUFDLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDekUsQ0FBQztJQUVELGlCQUFpQjtJQUVqQixnQ0FBVyxHQUFYLFVBQVksS0FBWSxFQUFFLE9BQWUsRUFBRSxNQUFtQjtRQUFuQix1QkFBQSxFQUFBLFdBQW1CO1FBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFTLE9BQVMsRUFBRSxNQUFNLENBQUMsQ0FBQTtJQUNqRSxDQUFDO0lBRU8saURBQTRCLEdBQXBDLFVBQXFDLE9BQWdCO1FBQzNDLElBQUEsaUNBQVcsRUFBRSw2QkFBUyxDQUFZO1FBQzFDLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQTtJQUN4RCxDQUFDO0lBRU8sdUNBQWtCLEdBQTFCLFVBQTJCLFdBQXdCLEVBQUUsU0FBaUI7UUFDcEUsSUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsbUNBQW1DLENBQUMsV0FBVyxDQUFDLENBQUE7UUFDOUUsSUFBSSxhQUFhLEdBQUcsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ25ELElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDbEIsYUFBYSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUE7WUFDaEUsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUMvQztRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyx3Q0FBbUIsR0FBM0IsVUFBNEIsV0FBd0IsRUFBRSxTQUFpQjtRQUNyRSxJQUFNLGFBQWEsR0FBRyxJQUFJLGFBQWEsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUE7UUFDL0QsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtTQUN4QjtRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyx3REFBbUMsR0FBM0MsVUFBNEMsV0FBd0I7UUFDbEUsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQzlELElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUNyQixnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsQ0FBQTtZQUMxQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFBO1NBQzFEO1FBQ0QsT0FBTyxnQkFBZ0IsQ0FBQTtJQUN6QixDQUFDO0lBQ0gsaUJBQUM7QUFBRCxDQUFDLEFBL0VELElBK0VDIn0=","// capture nos.:            12   23 4               43   1 5   56 7  76\nvar descriptorPattern = /^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;\nexport function parseDescriptorString(descriptorString) {\n    var source = descriptorString.trim();\n    var matches = source.match(descriptorPattern) || [];\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName: matches[2],\n        identifier: matches[5],\n        methodName: matches[7]\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nexport function stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uX2Rlc2NyaXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYWN0aW9uX2Rlc2NyaXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBT0EsdUVBQXVFO0FBQ3ZFLElBQU0saUJBQWlCLEdBQUcsZ0RBQWdELENBQUE7QUFFMUUsTUFBTSxnQ0FBZ0MsZ0JBQXdCO0lBQzVELElBQU0sTUFBTSxHQUFHLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQ3RDLElBQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDckQsT0FBTztRQUNMLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsU0FBUyxFQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdkIsVUFBVSxFQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdkIsVUFBVSxFQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDeEIsQ0FBQTtBQUNILENBQUM7QUFFRCwwQkFBMEIsZUFBdUI7SUFDL0MsSUFBSSxlQUFlLElBQUksUUFBUSxFQUFFO1FBQy9CLE9BQU8sTUFBTSxDQUFBO0tBQ2Q7U0FBTSxJQUFJLGVBQWUsSUFBSSxVQUFVLEVBQUU7UUFDeEMsT0FBTyxRQUFRLENBQUE7S0FDaEI7QUFDSCxDQUFDO0FBRUQsTUFBTSwrQkFBK0IsV0FBd0I7SUFDM0QsSUFBSSxXQUFXLElBQUksTUFBTSxFQUFFO1FBQ3pCLE9BQU8sUUFBUSxDQUFBO0tBQ2hCO1NBQU0sSUFBSSxXQUFXLElBQUksUUFBUSxFQUFFO1FBQ2xDLE9BQU8sVUFBVSxDQUFBO0tBQ2xCO0FBQ0gsQ0FBQyJ9","import { parseDescriptorString, stringifyEventTarget } from \"./action_descriptor\";\nvar Action = /** @class */ (function () {\n    function Action(element, index, descriptor) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n    }\n    Action.forToken = function (token) {\n        return new this(token.element, token.index, parseDescriptorString(token.content));\n    };\n    Action.prototype.toString = function () {\n        var eventNameSuffix = this.eventTargetName ? \"@\" + this.eventTargetName : \"\";\n        return \"\" + this.eventName + eventNameSuffix + \"->\" + this.identifier + \"#\" + this.methodName;\n    };\n    Object.defineProperty(Action.prototype, \"eventTargetName\", {\n        get: function () {\n            return stringifyEventTarget(this.eventTarget);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Action;\n}());\nexport { Action };\nvar defaultEventNames = {\n    \"a\": function (e) { return \"click\"; },\n    \"button\": function (e) { return \"click\"; },\n    \"form\": function (e) { return \"submit\"; },\n    \"input\": function (e) { return e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"change\"; },\n    \"select\": function (e) { return \"change\"; },\n    \"textarea\": function (e) { return \"change\"; }\n};\nexport function getDefaultEventNameForElement(element) {\n    var tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FjdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQW9CLHFCQUFxQixFQUFFLG9CQUFvQixFQUFFLE1BQU0scUJBQXFCLENBQUE7QUFHbkc7SUFZRSxnQkFBWSxPQUFnQixFQUFFLEtBQWEsRUFBRSxVQUFxQztRQUNoRixJQUFJLENBQUMsT0FBTyxHQUFPLE9BQU8sQ0FBQTtRQUMxQixJQUFJLENBQUMsS0FBSyxHQUFTLEtBQUssQ0FBQTtRQUN4QixJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQyxXQUFXLElBQUksT0FBTyxDQUFBO1FBQ3BELElBQUksQ0FBQyxTQUFTLEdBQUssVUFBVSxDQUFDLFNBQVMsSUFBSSw2QkFBNkIsQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQTtRQUNoSCxJQUFJLENBQUMsVUFBVSxHQUFJLFVBQVUsQ0FBQyxVQUFVLElBQUksS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUE7UUFDdkUsSUFBSSxDQUFDLFVBQVUsR0FBSSxVQUFVLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBQzFFLENBQUM7SUFYTSxlQUFRLEdBQWYsVUFBZ0IsS0FBWTtRQUMxQixPQUFPLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFBRSxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtJQUNuRixDQUFDO0lBV0QseUJBQVEsR0FBUjtRQUNFLElBQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLE1BQUksSUFBSSxDQUFDLGVBQWlCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtRQUM5RSxPQUFPLEtBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxlQUFlLFVBQUssSUFBSSxDQUFDLFVBQVUsU0FBSSxJQUFJLENBQUMsVUFBWSxDQUFBO0lBQ3JGLENBQUM7SUFFRCxzQkFBWSxtQ0FBZTthQUEzQjtZQUNFLE9BQU8sb0JBQW9CLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQy9DLENBQUM7OztPQUFBO0lBQ0gsYUFBQztBQUFELENBQUMsQUE3QkQsSUE2QkM7O0FBRUQsSUFBTSxpQkFBaUIsR0FBd0Q7SUFDN0UsR0FBRyxFQUFTLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxFQUFQLENBQU87SUFDeEIsUUFBUSxFQUFJLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxFQUFQLENBQU87SUFDeEIsTUFBTSxFQUFNLFVBQUEsQ0FBQyxJQUFJLE9BQUEsUUFBUSxFQUFSLENBQVE7SUFDekIsT0FBTyxFQUFLLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUF2RCxDQUF1RDtJQUN4RSxRQUFRLEVBQUksVUFBQSxDQUFDLElBQUksT0FBQSxRQUFRLEVBQVIsQ0FBUTtJQUN6QixVQUFVLEVBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxRQUFRLEVBQVIsQ0FBUTtDQUMxQixDQUFBO0FBRUQsTUFBTSx3Q0FBd0MsT0FBZ0I7SUFDNUQsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQTtJQUM3QyxJQUFJLE9BQU8sSUFBSSxpQkFBaUIsRUFBRTtRQUNoQyxPQUFPLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0tBQzNDO0FBQ0gsQ0FBQztBQUVELGVBQWUsT0FBZTtJQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzFCLENBQUMifQ==","var Binding = /** @class */ (function () {\n    function Binding(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    Object.defineProperty(Binding.prototype, \"index\", {\n        get: function () {\n            return this.action.index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"eventTarget\", {\n        get: function () {\n            return this.action.eventTarget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"identifier\", {\n        get: function () {\n            return this.context.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Binding.prototype.handleEvent = function (event) {\n        if (this.willBeInvokedByEvent(event)) {\n            this.invokeWithEvent(event);\n        }\n    };\n    Object.defineProperty(Binding.prototype, \"eventName\", {\n        get: function () {\n            return this.action.eventName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"method\", {\n        get: function () {\n            var method = this.controller[this.methodName];\n            if (typeof method == \"function\") {\n                return method;\n            }\n            throw new Error(\"Action \\\"\" + this.action + \"\\\" references undefined method \\\"\" + this.methodName + \"\\\"\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Binding.prototype.invokeWithEvent = function (event) {\n        try {\n            this.method.call(this.controller, event);\n        }\n        catch (error) {\n            var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element, index = _a.index;\n            var detail = { identifier: identifier, controller: controller, element: element, index: index, event: event };\n            this.context.handleError(error, \"invoking action \\\"\" + this.action + \"\\\"\", detail);\n        }\n    };\n    Binding.prototype.willBeInvokedByEvent = function (event) {\n        var eventTarget = event.target;\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return true;\n        }\n    };\n    Object.defineProperty(Binding.prototype, \"controller\", {\n        get: function () {\n            return this.context.controller;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"methodName\", {\n        get: function () {\n            return this.action.methodName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Binding;\n}());\nexport { Binding };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iaW5kaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBO0lBSUUsaUJBQVksT0FBZ0IsRUFBRSxNQUFjO1FBQzFDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO0lBQ3RCLENBQUM7SUFFRCxzQkFBSSwwQkFBSzthQUFUO1lBQ0UsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQTtRQUMxQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLGdDQUFXO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksK0JBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUE7UUFDaEMsQ0FBQzs7O09BQUE7SUFFRCw2QkFBVyxHQUFYLFVBQVksS0FBWTtRQUN0QixJQUFJLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNwQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQzVCO0lBQ0gsQ0FBQztJQUVELHNCQUFJLDhCQUFTO2FBQWI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFBO1FBQzlCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMkJBQU07YUFBVjtZQUNFLElBQU0sTUFBTSxHQUFJLElBQUksQ0FBQyxVQUFrQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtZQUN4RCxJQUFJLE9BQU8sTUFBTSxJQUFJLFVBQVUsRUFBRTtnQkFDL0IsT0FBTyxNQUFNLENBQUE7YUFDZDtZQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsY0FBVyxJQUFJLENBQUMsTUFBTSx5Q0FBa0MsSUFBSSxDQUFDLFVBQVUsT0FBRyxDQUFDLENBQUE7UUFDN0YsQ0FBQzs7O09BQUE7SUFFTyxpQ0FBZSxHQUF2QixVQUF3QixLQUFZO1FBQ2xDLElBQUk7WUFDRixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3pDO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDUixJQUFBLFNBQWlELEVBQS9DLDBCQUFVLEVBQUUsMEJBQVUsRUFBRSxvQkFBTyxFQUFFLGdCQUFLLENBQVM7WUFDdkQsSUFBTSxNQUFNLEdBQUcsRUFBRSxVQUFVLFlBQUEsRUFBRSxVQUFVLFlBQUEsRUFBRSxPQUFPLFNBQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFBO1lBQ2hFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBb0IsSUFBSSxDQUFDLE1BQU0sT0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFBO1NBQzVFO0lBQ0gsQ0FBQztJQUVPLHNDQUFvQixHQUE1QixVQUE2QixLQUFZO1FBQ3ZDLElBQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUE7UUFDaEMsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLFdBQVcsRUFBRTtZQUNoQyxPQUFPLElBQUksQ0FBQTtTQUNaO2FBQU0sSUFBSSxXQUFXLFlBQVksT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQy9FLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUE7U0FDL0M7YUFBTTtZQUNMLE9BQU8sSUFBSSxDQUFBO1NBQ1o7SUFDSCxDQUFDO0lBRUQsc0JBQVksK0JBQVU7YUFBdEI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQVksK0JBQVU7YUFBdEI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFBO1FBQy9CLENBQUM7OztPQUFBO0lBRUQsc0JBQVksNEJBQU87YUFBbkI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQVksMEJBQUs7YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBQ0gsY0FBQztBQUFELENBQUMsQUEzRUQsSUEyRUMifQ==","var ElementObserver = /** @class */ (function () {\n    function ElementObserver(element, delegate) {\n        var _this = this;\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set;\n        this.mutationObserver = new MutationObserver(function (mutations) { return _this.processMutations(mutations); });\n    }\n    ElementObserver.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, childList: true, subtree: true });\n            this.refresh();\n        }\n    };\n    ElementObserver.prototype.stop = function () {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    };\n    ElementObserver.prototype.refresh = function () {\n        if (this.started) {\n            var matches = new Set(this.matchElementsInTree());\n            for (var _i = 0, _a = Array.from(this.elements); _i < _a.length; _i++) {\n                var element = _a[_i];\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (var _b = 0, _c = Array.from(matches); _b < _c.length; _b++) {\n                var element = _c[_b];\n                this.addElement(element);\n            }\n        }\n    };\n    // Mutation record processing\n    ElementObserver.prototype.processMutations = function (mutations) {\n        if (this.started) {\n            for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n                var mutation = mutations_1[_i];\n                this.processMutation(mutation);\n            }\n        }\n    };\n    ElementObserver.prototype.processMutation = function (mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    };\n    ElementObserver.prototype.processAttributeChange = function (node, attributeName) {\n        var element = node;\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    };\n    ElementObserver.prototype.processRemovedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            var element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    };\n    ElementObserver.prototype.processAddedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            var element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    };\n    // Element matching\n    ElementObserver.prototype.matchElement = function (element) {\n        return this.delegate.matchElement(element);\n    };\n    ElementObserver.prototype.matchElementsInTree = function (tree) {\n        if (tree === void 0) { tree = this.element; }\n        return this.delegate.matchElementsInTree(tree);\n    };\n    ElementObserver.prototype.processTree = function (tree, processor) {\n        for (var _i = 0, _a = this.matchElementsInTree(tree); _i < _a.length; _i++) {\n            var element = _a[_i];\n            processor.call(this, element);\n        }\n    };\n    ElementObserver.prototype.elementFromNode = function (node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    };\n    ElementObserver.prototype.elementIsActive = function (element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    };\n    // Element tracking\n    ElementObserver.prototype.addElement = function (element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    };\n    ElementObserver.prototype.removeElement = function (element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    };\n    return ElementObserver;\n}());\nexport { ElementObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lbGVtZW50X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVNBO0lBUUUseUJBQVksT0FBZ0IsRUFBRSxRQUFpQztRQUEvRCxpQkFPQztRQU5DLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO1FBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBRXhCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxHQUFHLENBQUE7UUFDdkIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksZ0JBQWdCLENBQUMsVUFBQyxTQUFTLElBQUssT0FBQSxLQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEVBQWhDLENBQWdDLENBQUMsQ0FBQTtJQUMvRixDQUFDO0lBRUQsK0JBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO1lBQ25CLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtZQUNqRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7U0FDZjtJQUNILENBQUM7SUFFRCw4QkFBSSxHQUFKO1FBQ0UsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUNuQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLENBQUE7WUFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUE7U0FDckI7SUFDSCxDQUFDO0lB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","import { ElementObserver } from \"./element_observer\";\nvar AttributeObserver = /** @class */ (function () {\n    function AttributeObserver(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    Object.defineProperty(AttributeObserver.prototype, \"element\", {\n        get: function () {\n            return this.elementObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeObserver.prototype, \"selector\", {\n        get: function () {\n            return \"[\" + this.attributeName + \"]\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AttributeObserver.prototype.start = function () {\n        this.elementObserver.start();\n    };\n    AttributeObserver.prototype.stop = function () {\n        this.elementObserver.stop();\n    };\n    AttributeObserver.prototype.refresh = function () {\n        this.elementObserver.refresh();\n    };\n    Object.defineProperty(AttributeObserver.prototype, \"started\", {\n        get: function () {\n            return this.elementObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Element observer delegate\n    AttributeObserver.prototype.matchElement = function (element) {\n        return element.hasAttribute(this.attributeName);\n    };\n    AttributeObserver.prototype.matchElementsInTree = function (tree) {\n        var match = this.matchElement(tree) ? [tree] : [];\n        var matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    };\n    AttributeObserver.prototype.elementMatched = function (element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementUnmatched = function (element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementAttributeChanged = function (element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    };\n    return AttributeObserver;\n}());\nexport { AttributeObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlX29ic2VydmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2F0dHJpYnV0ZV9vYnNlcnZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUEyQixNQUFNLG9CQUFvQixDQUFBO0FBUTdFO0lBTUUsMkJBQVksT0FBZ0IsRUFBRSxhQUFxQixFQUFFLFFBQW1DO1FBQ3RGLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFBO1FBQ2xDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBRXhCLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxlQUFlLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQzNELENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQTtRQUNyQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHVDQUFRO2FBQVo7WUFDRSxPQUFPLE1BQUksSUFBSSxDQUFDLGFBQWEsTUFBRyxDQUFBO1FBQ2xDLENBQUM7OztPQUFBO0lBRUQsaUNBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDOUIsQ0FBQztJQUVELGdDQUFJLEdBQUo7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFBO0lBQzdCLENBQUM7SUFFRCxtQ0FBTyxHQUFQO1FBQ0UsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNoQyxDQUFDO0lBRUQsc0JBQUksc0NBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUE7UUFDckMsQ0FBQzs7O09BQUE7SUFFRCw0QkFBNEI7SUFFNUIsd0NBQVksR0FBWixVQUFhLE9BQWdCO1FBQzNCLE9BQU8sT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUE7SUFDakQsQ0FBQztJQUVELCtDQUFtQixHQUFuQixVQUFvQixJQUFhO1FBQy9CLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtRQUNuRCxJQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQTtRQUNoRSxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDOUIsQ0FBQztJQUVELDBDQUFjLEdBQWQsVUFBZSxPQUFnQjtRQUM3QixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsdUJBQXVCLEVBQUU7WUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1NBQ25FO0lBQ0gsQ0FBQztJQUVELDRDQUFnQixHQUFoQixVQUFpQixPQUFnQjtRQUMvQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMseUJBQXlCLEVBQUU7WUFDM0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1NBQ3JFO0lBQ0gsQ0FBQztJQUVELG1EQUF1QixHQUF2QixVQUF3QixPQUFnQixFQUFFLGFBQXFCO1FBQzdELElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyw0QkFBNEIsSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLGFBQWEsRUFBRTtZQUNyRixJQUFJLENBQUMsUUFBUSxDQUFDLDRCQUE0QixDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUNuRTtJQUNILENBQUM7SUFDSCx3QkFBQztBQUFELENBQUMsQUFsRUQsSUFrRUMifQ==","export function add(map, key, value) {\n    fetch(map, key).add(value);\n}\nexport function del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nexport function fetch(map, key) {\n    var values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nexport function prune(map, key) {\n    var values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0X29wZXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2V0X29wZXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxjQUFvQixHQUFtQixFQUFFLEdBQU0sRUFBRSxLQUFRO0lBQzdELEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQzVCLENBQUM7QUFFRCxNQUFNLGNBQW9CLEdBQW1CLEVBQUUsR0FBTSxFQUFFLEtBQVE7SUFDN0QsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDN0IsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQTtBQUNqQixDQUFDO0FBRUQsTUFBTSxnQkFBc0IsR0FBbUIsRUFBRSxHQUFNO0lBQ3JELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDekIsSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUNYLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFBO1FBQ2xCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFBO0tBQ3JCO0lBQ0QsT0FBTyxNQUFNLENBQUE7QUFDZixDQUFDO0FBRUQsTUFBTSxnQkFBc0IsR0FBbUIsRUFBRSxHQUFNO0lBQ3JELElBQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDM0IsSUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFO1FBQ3RDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7S0FDaEI7QUFDSCxDQUFDIn0=","import { add, del } from \"./set_operations\";\nvar Multimap = /** @class */ (function () {\n    function Multimap() {\n        this.valuesByKey = new Map();\n    }\n    Object.defineProperty(Multimap.prototype, \"values\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (values, set) { return values.concat(Array.from(set)); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Multimap.prototype, \"size\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (size, set) { return size + set.size; }, 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Multimap.prototype.add = function (key, value) {\n        add(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.delete = function (key, value) {\n        del(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.has = function (key, value) {\n        var values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    };\n    Multimap.prototype.hasKey = function (key) {\n        return this.valuesByKey.has(key);\n    };\n    Multimap.prototype.hasValue = function (value) {\n        var sets = Array.from(this.valuesByKey.values());\n        return sets.some(function (set) { return set.has(value); });\n    };\n    Multimap.prototype.getValuesForKey = function (key) {\n        var values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    };\n    Multimap.prototype.getKeysForValue = function (value) {\n        return Array.from(this.valuesByKey)\n            .filter(function (_a) {\n            var key = _a[0], values = _a[1];\n            return values.has(value);\n        })\n            .map(function (_a) {\n            var key = _a[0], values = _a[1];\n            return key;\n        });\n    };\n    return Multimap;\n}());\nexport { Multimap };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGltYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbXVsdGltYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQTtBQUUzQztJQUdFO1FBQ0UsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLEdBQUcsRUFBYSxDQUFBO0lBQ3pDLENBQUM7SUFFRCxzQkFBSSw0QkFBTTthQUFWO1lBQ0UsSUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7WUFDbEQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSyxPQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUE5QixDQUE4QixFQUFRLEVBQUUsQ0FBQyxDQUFBO1FBQy9FLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMEJBQUk7YUFBUjtZQUNFLElBQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFBO1lBQ2xELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFDLElBQUksRUFBRSxHQUFHLElBQUssT0FBQSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBZixDQUFlLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDdkQsQ0FBQzs7O09BQUE7SUFFRCxzQkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFRCx5QkFBTSxHQUFOLFVBQU8sR0FBTSxFQUFFLEtBQVE7UUFDckIsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFRCxzQkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEMsT0FBTyxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDNUMsQ0FBQztJQUVELHlCQUFNLEdBQU4sVUFBTyxHQUFNO1FBQ1gsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsMkJBQVEsR0FBUixVQUFTLEtBQVE7UUFDZixJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQTtRQUNsRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBQSxHQUFHLElBQUksT0FBQSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFkLENBQWMsQ0FBQyxDQUFBO0lBQ3pDLENBQUM7SUFFRCxrQ0FBZSxHQUFmLFVBQWdCLEdBQU07UUFDcEIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEMsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtJQUN6QyxDQUFDO0lBRUQsa0NBQWUsR0FBZixVQUFnQixLQUFRO1FBQ3RCLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO2FBQ2hDLE1BQU0sQ0FBQyxVQUFDLEVBQWE7Z0JBQVosV0FBRyxFQUFFLGNBQU07WUFBTSxPQUFBLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQWpCLENBQWlCLENBQUM7YUFDNUMsR0FBRyxDQUFDLFVBQUMsRUFBYTtnQkFBWixXQUFHLEVBQUUsY0FBTTtZQUFNLE9BQUEsR0FBRztRQUFILENBQUcsQ0FBQyxDQUFBO0lBQ2hDLENBQUM7SUFDSCxlQUFDO0FBQUQsQ0FBQyxBQWpERCxJQWlEQyJ9","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Multimap } from \"./multimap\";\nimport { add, del } from \"./set_operations\";\nvar IndexedMultimap = /** @class */ (function (_super) {\n    __extends(IndexedMultimap, _super);\n    function IndexedMultimap() {\n        var _this = _super.call(this) || this;\n        _this.keysByValue = new Map;\n        return _this;\n    }\n    Object.defineProperty(IndexedMultimap.prototype, \"values\", {\n        get: function () {\n            return Array.from(this.keysByValue.keys());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    IndexedMultimap.prototype.add = function (key, value) {\n        _super.prototype.add.call(this, key, value);\n        add(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.delete = function (key, value) {\n        _super.prototype.delete.call(this, key, value);\n        del(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.hasValue = function (value) {\n        return this.keysByValue.has(value);\n    };\n    IndexedMultimap.prototype.getKeysForValue = function (value) {\n        var set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    };\n    return IndexedMultimap;\n}(Multimap));\nexport { IndexedMultimap };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXhlZF9tdWx0aW1hcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbmRleGVkX211bHRpbWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sWUFBWSxDQUFBO0FBQ3JDLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFFM0M7SUFBMkMsbUNBQWM7SUFHdkQ7UUFBQSxZQUNFLGlCQUFPLFNBRVI7UUFEQyxLQUFJLENBQUMsV0FBVyxHQUFHLElBQUksR0FBRyxDQUFBOztJQUM1QixDQUFDO0lBRUQsc0JBQUksbUNBQU07YUFBVjtZQUNFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7UUFDNUMsQ0FBQzs7O09BQUE7SUFFRCw2QkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsaUJBQU0sR0FBRyxZQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQTtRQUNyQixHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVELGdDQUFNLEdBQU4sVUFBTyxHQUFNLEVBQUUsS0FBUTtRQUNyQixpQkFBTSxNQUFNLFlBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3hCLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQTtJQUNuQyxDQUFDO0lBRUQsa0NBQVEsR0FBUixVQUFTLEtBQVE7UUFDZixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ3BDLENBQUM7SUFFRCx5Q0FBZSxHQUFmLFVBQWdCLEtBQVE7UUFDdEIsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDdkMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtJQUNuQyxDQUFDO0lBQ0gsc0JBQUM7QUFBRCxDQUFDLEFBOUJELENBQTJDLFFBQVEsR0E4QmxEIn0=","import { AttributeObserver } from \"./attribute_observer\";\nimport { Multimap } from \"@stimulus/multimap\";\nvar TokenListObserver = /** @class */ (function () {\n    function TokenListObserver(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap;\n    }\n    Object.defineProperty(TokenListObserver.prototype, \"started\", {\n        get: function () {\n            return this.attributeObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TokenListObserver.prototype.start = function () {\n        this.attributeObserver.start();\n    };\n    TokenListObserver.prototype.stop = function () {\n        this.attributeObserver.stop();\n    };\n    TokenListObserver.prototype.refresh = function () {\n        this.attributeObserver.refresh();\n    };\n    Object.defineProperty(TokenListObserver.prototype, \"element\", {\n        get: function () {\n            return this.attributeObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TokenListObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.attributeObserver.attributeName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Attribute observer delegate\n    TokenListObserver.prototype.elementMatchedAttribute = function (element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    };\n    TokenListObserver.prototype.elementAttributeValueChanged = function (element) {\n        var _a = this.refreshTokensForElement(element), unmatchedTokens = _a[0], matchedTokens = _a[1];\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    };\n    TokenListObserver.prototype.elementUnmatchedAttribute = function (element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    };\n    TokenListObserver.prototype.tokensMatched = function (tokens) {\n        var _this = this;\n        tokens.forEach(function (token) { return _this.tokenMatched(token); });\n    };\n    TokenListObserver.prototype.tokensUnmatched = function (tokens) {\n        var _this = this;\n        tokens.forEach(function (token) { return _this.tokenUnmatched(token); });\n    };\n    TokenListObserver.prototype.tokenMatched = function (token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    };\n    TokenListObserver.prototype.tokenUnmatched = function (token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    };\n    TokenListObserver.prototype.refreshTokensForElement = function (element) {\n        var previousTokens = this.tokensByElement.getValuesForKey(element);\n        var currentTokens = this.readTokensForElement(element);\n        var firstDifferingIndex = zip(previousTokens, currentTokens)\n            .findIndex(function (_a) {\n            var previousToken = _a[0], currentToken = _a[1];\n            return !tokensAreEqual(previousToken, currentToken);\n        });\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    };\n    TokenListObserver.prototype.readTokensForElement = function (element) {\n        var attributeName = this.attributeName;\n        var tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    };\n    return TokenListObserver;\n}());\nexport { TokenListObserver };\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString.trim().split(/\\s+/).filter(function (content) { return content.length; })\n        .map(function (content, index) { return ({ element: element, attributeName: attributeName, content: content, index: index }); });\n}\nfunction zip(left, right) {\n    var length = Math.max(left.length, right.length);\n    return Array.from({ length: length }, function (_, index) { return [left[index], right[index]]; });\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5fbGlzdF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90b2tlbl9saXN0X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBNkIsTUFBTSxzQkFBc0IsQ0FBQTtBQUNuRixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUE7QUFjN0M7SUFLRSwyQkFBWSxPQUFnQixFQUFFLGFBQXFCLEVBQUUsUUFBbUM7UUFDdEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUM1RSxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtRQUN4QixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksUUFBUSxDQUFBO0lBQ3JDLENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFBO1FBQ3ZDLENBQUM7OztPQUFBO0lBRUQsaUNBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUNoQyxDQUFDO0lBRUQsZ0NBQUksR0FBSjtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUMvQixDQUFDO0lBRUQsbUNBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsc0JBQUksc0NBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQTtRQUN2QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRDQUFhO2FBQWpCO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFBO1FBQzdDLENBQUM7OztPQUFBO0lBRUQsOEJBQThCO0lB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","import { TokenListObserver } from \"./token_list_observer\";\nvar ValueListObserver = /** @class */ (function () {\n    function ValueListObserver(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap;\n        this.valuesByTokenByElement = new WeakMap;\n    }\n    Object.defineProperty(ValueListObserver.prototype, \"started\", {\n        get: function () {\n            return this.tokenListObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ValueListObserver.prototype.start = function () {\n        this.tokenListObserver.start();\n    };\n    ValueListObserver.prototype.stop = function () {\n        this.tokenListObserver.stop();\n    };\n    ValueListObserver.prototype.refresh = function () {\n        this.tokenListObserver.refresh();\n    };\n    Object.defineProperty(ValueListObserver.prototype, \"element\", {\n        get: function () {\n            return this.tokenListObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ValueListObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.tokenListObserver.attributeName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ValueListObserver.prototype.tokenMatched = function (token) {\n        var element = token.element;\n        var value = this.fetchParseResultForToken(token).value;\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    };\n    ValueListObserver.prototype.tokenUnmatched = function (token) {\n        var element = token.element;\n        var value = this.fetchParseResultForToken(token).value;\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    };\n    ValueListObserver.prototype.fetchParseResultForToken = function (token) {\n        var parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    };\n    ValueListObserver.prototype.fetchValuesByTokenForElement = function (element) {\n        var valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map;\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    };\n    ValueListObserver.prototype.parseToken = function (token) {\n        try {\n            var value = this.delegate.parseValueForToken(token);\n            return { value: value };\n        }\n        catch (error) {\n            return { error: error };\n        }\n    };\n    return ValueListObserver;\n}());\nexport { ValueListObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsdWVfbGlzdF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92YWx1ZV9saXN0X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBUyxpQkFBaUIsRUFBNkIsTUFBTSx1QkFBdUIsQ0FBQTtBQWEzRjtJQU1FLDJCQUFZLE9BQWdCLEVBQUUsYUFBcUIsRUFBRSxRQUFzQztRQUN6RixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFBO1FBQzVFLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBQ3hCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLE9BQU8sQ0FBQTtRQUN0QyxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxPQUFPLENBQUE7SUFDM0MsQ0FBQztJQUVELHNCQUFJLHNDQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUE7UUFDdkMsQ0FBQzs7O09BQUE7SUFFRCxpQ0FBSyxHQUFMO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFBO0lBQ2hDLENBQUM7SUFFRCxnQ0FBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQy9CLENBQUM7SUFFRCxtQ0FBTyxHQUFQO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFBO1FBQ3ZDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksNENBQWE7YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLENBQUE7UUFDN0MsQ0FBQzs7O09BQUE7SUFFRCx3Q0FBWSxHQUFaLFVBQWEsS0FBWTtRQUNmLElBQUEsdUJBQU8sQ0FBVTtRQUNqQixJQUFBLGtEQUFLLENBQXlDO1FBQ3RELElBQUksS0FBSyxFQUFFO1lBQ1QsSUFBSSxDQUFDLDRCQUE0QixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUE7WUFDNUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUE7U0FDbEQ7SUFDSCxDQUFDO0lBRUQsMENBQWMsR0FBZCxVQUFlLEtBQVk7UUFDakIsSUFBQSx1QkFBTyxDQUFVO1FBQ2pCLElBQUEsa0RBQUssQ0FBeUM7UUFDdEQsSUFBSSxLQUFLLEVBQUU7WUFDVCxJQUFJLENBQUMsNEJBQTRCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ3hELElBQUksQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3BEO0lBQ0gsQ0FBQztJQUVPLG9EQUF3QixHQUFoQyxVQUFpQyxLQUFZO1FBQzNDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDckQsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNoQixXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQTtZQUNwQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQTtTQUNqRDtRQUNELE9BQU8sV0FBVyxDQUFBO0lBQ3BCLENBQUM7SUFFTyx3REFBNEIsR0FBcEMsVUFBcUMsT0FBZ0I7UUFDbkQsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUM1RCxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ2xCLGFBQWEsR0FBRyxJQUFJLEdBQUcsQ0FBQTtZQUN2QixJQUFJLENBQUMsc0JBQXNCLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUN4RDtRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyxzQ0FBVSxHQUFsQixVQUFtQixLQUFZO1FBQzdCLElBQUk7WUFDRixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ3JELE9BQU8sRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFBO1NBQ2pCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxPQUFPLEVBQUUsS0FBSyxPQUFBLEVBQUUsQ0FBQTtTQUNqQjtJQUNILENBQUM7SUFDSCx3QkFBQztBQUFELENBQUMsQUFqRkQsSUFpRkMifQ==","import { Action } from \"./action\";\nimport { Binding } from \"./binding\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\nvar BindingObserver = /** @class */ (function () {\n    function BindingObserver(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map;\n    }\n    BindingObserver.prototype.start = function () {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    };\n    BindingObserver.prototype.stop = function () {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    };\n    Object.defineProperty(BindingObserver.prototype, \"element\", {\n        get: function () {\n            return this.context.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"identifier\", {\n        get: function () {\n            return this.context.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"actionAttribute\", {\n        get: function () {\n            return this.schema.actionAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"schema\", {\n        get: function () {\n            return this.context.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"bindings\", {\n        get: function () {\n            return Array.from(this.bindingsByAction.values());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BindingObserver.prototype.connectAction = function (action) {\n        var binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    };\n    BindingObserver.prototype.disconnectAction = function (action) {\n        var binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    };\n    BindingObserver.prototype.disconnectAllActions = function () {\n        var _this = this;\n        this.bindings.forEach(function (binding) { return _this.delegate.bindingDisconnected(binding); });\n        this.bindingsByAction.clear();\n    };\n    // Value observer delegate\n    BindingObserver.prototype.parseValueForToken = function (token) {\n        var action = Action.forToken(token);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    };\n    BindingObserver.prototype.elementMatchedValue = function (element, action) {\n        this.connectAction(action);\n    };\n    BindingObserver.prototype.elementUnmatchedValue = function (element, action) {\n        this.disconnectAction(action);\n    };\n    return BindingObserver;\n}());\nexport { BindingObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZ19vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iaW5kaW5nX29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDakMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFdBQVcsQ0FBQTtBQUluQyxPQUFPLEVBQVMsaUJBQWlCLEVBQTZCLE1BQU0sOEJBQThCLENBQUE7QUFPbEc7SUFNRSx5QkFBWSxPQUFnQixFQUFFLFFBQWlDO1FBQzdELElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBQ3hCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNqQyxDQUFDO0lBRUQsK0JBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDM0IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFBO1lBQ3hGLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtTQUMvQjtJQUNILENBQUM7SUFFRCw4QkFBSSxHQUFKO1FBQ0UsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDMUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO1lBQzdCLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFBO1lBQzdCLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFBO1NBQzVCO0lBQ0gsQ0FBQztJQUVELHNCQUFJLG9DQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFBO1FBQzdCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksdUNBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUE7UUFDaEMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw0Q0FBZTthQUFuQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUE7UUFDcEMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxtQ0FBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQTtRQUM1QixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHFDQUFRO2FBQVo7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7UUFDbkQsQ0FBQzs7O09BQUE7SUFFTyx1Q0FBYSxHQUFyQixVQUFzQixNQUFjO1FBQ2xDLElBQU0sT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDakQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUN6QyxDQUFDO0lBRU8sMENBQWdCLEdBQXhCLFVBQXlCLE1BQWM7UUFDckMsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUNqRCxJQUFJLE9BQU8sRUFBRTtZQUNYLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDcEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQTtTQUMzQztJQUNILENBQUM7SUFFTyw4Q0FBb0IsR0FBNUI7UUFBQSxpQkFHQztRQUZDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUEsT0FBTyxJQUFJLE9BQUEsS0FBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsRUFBMUMsQ0FBMEMsQ0FBQyxDQUFBO1FBQzVFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUMvQixDQUFDO0lBRUQsMEJBQTBCO0lBRTFCLDRDQUFrQixHQUFsQixVQUFtQixLQUFZO1FBQzdCLElBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDckMsSUFBSSxNQUFNLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDeEMsT0FBTyxNQUFNLENBQUE7U0FDZDtJQUNILENBQUM7SUFFRCw2Q0FBbUIsR0FBbkIsVUFBb0IsT0FBZ0IsRUFBRSxNQUFjO1FBQ2xELElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDNUIsQ0FBQztJQUVELCtDQUFxQixHQUFyQixVQUFzQixPQUFnQixFQUFFLE1BQWM7UUFDcEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQy9CLENBQUM7SUFDSCxzQkFBQztBQUFELENBQUMsQUFsRkQsSUFrRkMifQ==","import { BindingObserver } from \"./binding_observer\";\nvar Context = /** @class */ (function () {\n    function Context(module, scope) {\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        try {\n            this.controller.initialize();\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    Context.prototype.connect = function () {\n        this.bindingObserver.start();\n        try {\n            this.controller.connect();\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    };\n    Context.prototype.disconnect = function () {\n        try {\n            this.controller.disconnect();\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.bindingObserver.stop();\n    };\n    Object.defineProperty(Context.prototype, \"application\", {\n        get: function () {\n            return this.module.application;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"identifier\", {\n        get: function () {\n            return this.module.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"dispatcher\", {\n        get: function () {\n            return this.application.dispatcher;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"parentElement\", {\n        get: function () {\n            return this.element.parentElement;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Error handling\n    Context.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element;\n        detail = Object.assign({ identifier: identifier, controller: controller, element: element }, detail);\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    return Context;\n}());\nexport { Context };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGV4dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQVFwRDtJQU1FLGlCQUFZLE1BQWMsRUFBRSxLQUFZO1FBQ3RDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO1FBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDeEQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBRWpFLElBQUk7WUFDRixJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQzdCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx5QkFBeUIsQ0FBQyxDQUFBO1NBQ25EO0lBQ0gsQ0FBQztJQUVELHlCQUFPLEdBQVA7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxDQUFBO1FBRTVCLElBQUk7WUFDRixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFBO1NBQzFCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBdUIsQ0FBQyxDQUFBO1NBQ2pEO0lBQ0gsQ0FBQztJQUVELDRCQUFVLEdBQVY7UUFDRSxJQUFJO1lBQ0YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQTtTQUM3QjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsMEJBQTBCLENBQUMsQ0FBQTtTQUNwRDtRQUVELElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDN0IsQ0FBQztJQUVELHNCQUFJLGdDQUFXO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksK0JBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUE7UUFDL0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwyQkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFVO2FBQWQ7WUFDRSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFBO1FBQ3BDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksNEJBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUE7UUFDM0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxrQ0FBYTthQUFqQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUE7UUFDbkMsQ0FBQzs7O09BQUE7SUFFRCxpQkFBaUI7SUFFakIsNkJBQVcsR0FBWCxVQUFZLEtBQVksRUFBRSxPQUFlLEVBQUUsTUFBbUI7UUFBbkIsdUJBQUEsRUFBQSxXQUFtQjtRQUN0RCxJQUFBLFNBQTBDLEVBQXhDLDBCQUFVLEVBQUUsMEJBQVUsRUFBRSxvQkFBTyxDQUFTO1FBQ2hELE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsVUFBVSxZQUFBLEVBQUUsVUFBVSxZQUFBLEVBQUUsT0FBTyxTQUFBLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUNuRSxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBUyxPQUFTLEVBQUUsTUFBTSxDQUFDLENBQUE7SUFDakUsQ0FBQztJQUNILGNBQUM7QUFBRCxDQUFDLEFBdEVELElBc0VDIn0=","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @hidden */\nexport function blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: blessControllerConstructor(definition.controllerConstructor)\n    };\n}\nfunction blessControllerConstructor(controllerConstructor) {\n    var constructor = extend(controllerConstructor);\n    constructor.bless();\n    return constructor;\n}\nvar extend = (function () {\n    function extendWithReflect(constructor) {\n        function Controller() {\n            var _newTarget = this && this instanceof Controller ? this.constructor : void 0;\n            return Reflect.construct(constructor, arguments, _newTarget);\n        }\n        Controller.prototype = Object.create(constructor.prototype, {\n            constructor: { value: Controller }\n        });\n        Reflect.setPrototypeOf(Controller, constructor);\n        return Controller;\n    }\n    function testReflectExtension() {\n        var a = function () { this.a.call(this); };\n        var b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b;\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return function (constructor) { return /** @class */ (function (_super) {\n            __extends(Controller, _super);\n            function Controller() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            return Controller;\n        }(constructor)); };\n    }\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmaW5pdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZWZpbml0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFPQSxjQUFjO0FBQ2QsTUFBTSwwQkFBMEIsVUFBc0I7SUFDcEQsT0FBTztRQUNMLFVBQVUsRUFBRSxVQUFVLENBQUMsVUFBVTtRQUNqQyxxQkFBcUIsRUFBRSwwQkFBMEIsQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUM7S0FDcEYsQ0FBQTtBQUNILENBQUM7QUFFRCxvQ0FBb0MscUJBQTRDO0lBQzlFLElBQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBQ2pELFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUNuQixPQUFPLFdBQVcsQ0FBQTtBQUNwQixDQUFDO0FBRUQsSUFBTSxNQUFNLEdBQUcsQ0FBQztJQUdkLDJCQUFzRCxXQUFjO1FBQ2xFOztZQUNFLE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsU0FBUyxhQUFhLENBQUE7UUFDOUQsQ0FBQztRQUVELFVBQVUsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFO1lBQzFELFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUU7U0FDbkMsQ0FBQyxDQUFBO1FBRUYsT0FBTyxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLENBQUE7UUFDL0MsT0FBTyxVQUFpQixDQUFBO0lBQzFCLENBQUM7SUFFRDtRQUNFLElBQU0sQ0FBQyxHQUFHLGNBQXNCLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUMsQ0FBUSxDQUFBO1FBQzFELElBQU0sQ0FBQyxHQUFHLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzlCLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLGNBQVksQ0FBQyxDQUFBO1FBQzdCLE9BQU8sSUFBSSxDQUFDLENBQUE7SUFDZCxDQUFDO0lBRUQsSUFBSTtRQUNGLG9CQUFvQixFQUFFLENBQUE7UUFDdEIsT0FBTyxpQkFBaUIsQ0FBQTtLQUN6QjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxVQUE0QixXQUFjLElBQUs7WUFBeUIsOEJBQVc7WUFBcEM7O1lBQXNDLENBQUM7WUFBRCxpQkFBQztRQUFELENBQUMsQUFBdkMsQ0FBeUIsV0FBVyxJQUFwQyxDQUF1QyxDQUFBO0tBQzlGO0FBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FBQSJ9","import { Context } from \"./context\";\nimport { blessDefinition } from \"./definition\";\nvar Module = /** @class */ (function () {\n    function Module(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap;\n        this.connectedContexts = new Set;\n    }\n    Object.defineProperty(Module.prototype, \"identifier\", {\n        get: function () {\n            return this.definition.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"controllerConstructor\", {\n        get: function () {\n            return this.definition.controllerConstructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"contexts\", {\n        get: function () {\n            return Array.from(this.connectedContexts);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Module.prototype.connectContextForScope = function (scope) {\n        var context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    };\n    Module.prototype.disconnectContextForScope = function (scope) {\n        var context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    };\n    Module.prototype.fetchContextForScope = function (scope) {\n        var context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    };\n    return Module;\n}());\nexport { Module };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sV0FBVyxDQUFBO0FBRW5DLE9BQU8sRUFBYyxlQUFlLEVBQUUsTUFBTSxjQUFjLENBQUE7QUFHMUQ7SUFNRSxnQkFBWSxXQUF3QixFQUFFLFVBQXNCO1FBQzFELElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxVQUFVLEdBQUcsZUFBZSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzdDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxPQUFPLENBQUE7UUFDbEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksR0FBRyxDQUFBO0lBQ2xDLENBQUM7SUFFRCxzQkFBSSw4QkFBVTthQUFkO1lBQ0UsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQTtRQUNuQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHlDQUFxQjthQUF6QjtZQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQTtRQUM5QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFRO2FBQVo7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUE7UUFDM0MsQ0FBQzs7O09BQUE7SUFFRCx1Q0FBc0IsR0FBdEIsVUFBdUIsS0FBWTtRQUNqQyxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDaEQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUNuQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDbkIsQ0FBQztJQUVELDBDQUF5QixHQUF6QixVQUEwQixLQUFZO1FBQ3BDLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQy9DLElBQUksT0FBTyxFQUFFO1lBQ1gsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUN0QyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUE7U0FDckI7SUFDSCxDQUFDO0lBRU8scUNBQW9CLEdBQTVCLFVBQTZCLEtBQVk7UUFDdkMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDN0MsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNaLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUE7WUFDbEMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFBO1NBQ3pDO1FBQ0QsT0FBTyxPQUFPLENBQUE7SUFDaEIsQ0FBQztJQUNILGFBQUM7QUFBRCxDQUFDLEFBL0NELElBK0NDIn0=","var DataMap = /** @class */ (function () {\n    function DataMap(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(DataMap.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DataMap.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DataMap.prototype.get = function (key) {\n        key = this.getFormattedKey(key);\n        return this.element.getAttribute(key);\n    };\n    DataMap.prototype.set = function (key, value) {\n        key = this.getFormattedKey(key);\n        this.element.setAttribute(key, value);\n        return this.get(key);\n    };\n    DataMap.prototype.has = function (key) {\n        key = this.getFormattedKey(key);\n        return this.element.hasAttribute(key);\n    };\n    DataMap.prototype.delete = function (key) {\n        if (this.has(key)) {\n            key = this.getFormattedKey(key);\n            this.element.removeAttribute(key);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DataMap.prototype.getFormattedKey = function (key) {\n        return \"data-\" + this.identifier + \"-\" + dasherize(key);\n    };\n    return DataMap;\n}());\nexport { DataMap };\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, function (_, char) { return \"-\" + char.toLowerCase(); });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YV9tYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZGF0YV9tYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7SUFHRSxpQkFBWSxLQUFZO1FBQ3RCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO0lBQ3BCLENBQUM7SUFFRCxzQkFBSSw0QkFBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFVO2FBQWQ7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFBO1FBQzlCLENBQUM7OztPQUFBO0lBRUQscUJBQUcsR0FBSCxVQUFJLEdBQVc7UUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFFRCxxQkFBRyxHQUFILFVBQUksR0FBVyxFQUFFLEtBQWE7UUFDNUIsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3JDLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUN0QixDQUFDO0lBRUQscUJBQUcsR0FBSCxVQUFJLEdBQVc7UUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFFRCx3QkFBTSxHQUFOLFVBQU8sR0FBVztRQUNoQixJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDakIsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDakMsT0FBTyxJQUFJLENBQUE7U0FDWjthQUFNO1lBQ0wsT0FBTyxLQUFLLENBQUE7U0FDYjtJQUNILENBQUM7SUFFTyxpQ0FBZSxHQUF2QixVQUF3QixHQUFXO1FBQ2pDLE9BQU8sVUFBUSxJQUFJLENBQUMsVUFBVSxTQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUcsQ0FBQTtJQUNwRCxDQUFDO0lBQ0gsY0FBQztBQUFELENBQUMsQUE1Q0QsSUE0Q0M7O0FBRUQsbUJBQW1CLEtBQWE7SUFDOUIsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxVQUFDLENBQUMsRUFBRSxJQUFJLElBQUssT0FBQSxNQUFJLElBQUksQ0FBQyxXQUFXLEVBQUksRUFBeEIsQ0FBd0IsQ0FBQyxDQUFBO0FBQ3pFLENBQUMifQ==","/** @hidden */\nexport function attributeValueContainsToken(attributeName, token) {\n    return \"[\" + attributeName + \"~=\\\"\" + token + \"\\\"]\";\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0b3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NlbGVjdG9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxjQUFjO0FBQ2QsTUFBTSxzQ0FBc0MsYUFBcUIsRUFBRSxLQUFhO0lBQzlFLE9BQU8sTUFBSSxhQUFhLFlBQU0sS0FBSyxRQUFJLENBQUE7QUFDekMsQ0FBQyJ9","import { attributeValueContainsToken } from \"./selectors\";\nvar TargetSet = /** @class */ (function () {\n    function TargetSet(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(TargetSet.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"schema\", {\n        get: function () {\n            return this.scope.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TargetSet.prototype.has = function (targetName) {\n        return this.find(targetName) != null;\n    };\n    TargetSet.prototype.find = function () {\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        var selector = this.getSelectorForTargetNames(targetNames);\n        return this.scope.findElement(selector);\n    };\n    TargetSet.prototype.findAll = function () {\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        var selector = this.getSelectorForTargetNames(targetNames);\n        return this.scope.findAllElements(selector);\n    };\n    TargetSet.prototype.getSelectorForTargetNames = function (targetNames) {\n        var _this = this;\n        return targetNames.map(function (targetName) { return _this.getSelectorForTargetName(targetName); }).join(\", \");\n    };\n    TargetSet.prototype.getSelectorForTargetName = function (targetName) {\n        var targetDescriptor = this.identifier + \".\" + targetName;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    };\n    return TargetSet;\n}());\nexport { TargetSet };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFyZ2V0X3NldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90YXJnZXRfc2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGFBQWEsQ0FBQTtBQUV6RDtJQUdFLG1CQUFZLEtBQVk7UUFDdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7SUFDcEIsQ0FBQztJQUVELHNCQUFJLDhCQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksaUNBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUE7UUFDOUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw2QkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQTtRQUMxQixDQUFDOzs7T0FBQTtJQUVELHVCQUFHLEdBQUgsVUFBSSxVQUFrQjtRQUNwQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksSUFBSSxDQUFBO0lBQ3RDLENBQUM7SUFFRCx3QkFBSSxHQUFKO1FBQUsscUJBQXdCO2FBQXhCLFVBQXdCLEVBQXhCLHFCQUF3QixFQUF4QixJQUF3QjtZQUF4QixnQ0FBd0I7O1FBQzNCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUM1RCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQ3pDLENBQUM7SUFFRCwyQkFBTyxHQUFQO1FBQVEscUJBQXdCO2FBQXhCLFVBQXdCLEVBQXhCLHFCQUF3QixFQUF4QixJQUF3QjtZQUF4QixnQ0FBd0I7O1FBQzlCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUM1RCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQzdDLENBQUM7SUFFTyw2Q0FBeUIsR0FBakMsVUFBa0MsV0FBcUI7UUFBdkQsaUJBRUM7UUFEQyxPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBQSxVQUFVLElBQUksT0FBQSxLQUFJLENBQUMsd0JBQXdCLENBQUMsVUFBVSxDQUFDLEVBQXpDLENBQXlDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDNUYsQ0FBQztJQUVPLDRDQUF3QixHQUFoQyxVQUFpQyxVQUFrQjtRQUNqRCxJQUFNLGdCQUFnQixHQUFNLElBQUksQ0FBQyxVQUFVLFNBQUksVUFBWSxDQUFBO1FBQzNELE9BQU8sMkJBQTJCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQTtJQUNuRixDQUFDO0lBQ0gsZ0JBQUM7QUFBRCxDQUFDLEFBekNELElBeUNDIn0=","import { DataMap } from \"./data_map\";\nimport { TargetSet } from \"./target_set\";\nimport { attributeValueContainsToken } from \"./selectors\";\nvar Scope = /** @class */ (function () {\n    function Scope(schema, identifier, element) {\n        this.schema = schema;\n        this.identifier = identifier;\n        this.element = element;\n        this.targets = new TargetSet(this);\n        this.data = new DataMap(this);\n    }\n    Scope.prototype.findElement = function (selector) {\n        return this.findAllElements(selector)[0];\n    };\n    Scope.prototype.findAllElements = function (selector) {\n        var head = this.element.matches(selector) ? [this.element] : [];\n        var tail = this.filterElements(Array.from(this.element.querySelectorAll(selector)));\n        return head.concat(tail);\n    };\n    Scope.prototype.filterElements = function (elements) {\n        var _this = this;\n        return elements.filter(function (element) { return _this.containsElement(element); });\n    };\n    Scope.prototype.containsElement = function (element) {\n        return element.closest(this.controllerSelector) === this.element;\n    };\n    Object.defineProperty(Scope.prototype, \"controllerSelector\", {\n        get: function () {\n            return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Scope;\n}());\nexport { Scope };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NvcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQTtBQUVwQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFBO0FBQ3hDLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGFBQWEsQ0FBQTtBQUV6RDtJQU9FLGVBQVksTUFBYyxFQUFFLFVBQWtCLEVBQUUsT0FBZ0I7UUFDOUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7UUFDcEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUE7UUFDNUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQy9CLENBQUM7SUFFRCwyQkFBVyxHQUFYLFVBQVksUUFBZ0I7UUFDMUIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQzFDLENBQUM7SUFFRCwrQkFBZSxHQUFmLFVBQWdCLFFBQWdCO1FBQzlCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBO1FBQ2pFLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNyRixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDMUIsQ0FBQztJQUVELDhCQUFjLEdBQWQsVUFBZSxRQUFtQjtRQUFsQyxpQkFFQztRQURDLE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLEtBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLEVBQTdCLENBQTZCLENBQUMsQ0FBQTtJQUNsRSxDQUFDO0lBRUQsK0JBQWUsR0FBZixVQUFnQixPQUFnQjtRQUM5QixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQTtJQUNsRSxDQUFDO0lBRUQsc0JBQVkscUNBQWtCO2FBQTlCO1lBQ0UsT0FBTywyQkFBMkIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUN0RixDQUFDOzs7T0FBQTtJQUNILFlBQUM7QUFBRCxDQUFDLEFBcENELElBb0NDIn0=","import { Scope } from \"./scope\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\nvar ScopeObserver = /** @class */ (function () {\n    function ScopeObserver(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap;\n        this.scopeReferenceCounts = new WeakMap;\n    }\n    ScopeObserver.prototype.start = function () {\n        this.valueListObserver.start();\n    };\n    ScopeObserver.prototype.stop = function () {\n        this.valueListObserver.stop();\n    };\n    Object.defineProperty(ScopeObserver.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Value observer delegate\n    /** @hidden */\n    ScopeObserver.prototype.parseValueForToken = function (token) {\n        var element = token.element, identifier = token.content;\n        var scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        var scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = new Scope(this.schema, identifier, element);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    };\n    /** @hidden */\n    ScopeObserver.prototype.elementMatchedValue = function (element, value) {\n        var referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    };\n    /** @hidden */\n    ScopeObserver.prototype.elementUnmatchedValue = function (element, value) {\n        var referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    };\n    ScopeObserver.prototype.fetchScopesByIdentifierForElement = function (element) {\n        var scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map;\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    };\n    return ScopeObserver;\n}());\nexport { ScopeObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGVfb2JzZXJ2ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NvcGVfb2JzZXJ2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUMvQixPQUFPLEVBQVMsaUJBQWlCLEVBQTZCLE1BQU0sOEJBQThCLENBQUE7QUFPbEc7SUFRRSx1QkFBWSxPQUFnQixFQUFFLE1BQWMsRUFBRSxRQUErQjtRQUMzRSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQTtRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtRQUNwQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtRQUN4QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUM1RixJQUFJLENBQUMsMkJBQTJCLEdBQUcsSUFBSSxPQUFPLENBQUE7UUFDOUMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksT0FBTyxDQUFBO0lBQ3pDLENBQUM7SUFFRCw2QkFBSyxHQUFMO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFBO0lBQ2hDLENBQUM7SUFFRCw0QkFBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQy9CLENBQUM7SUFFRCxzQkFBSSw4Q0FBbUI7YUFBdkI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUE7UUFDeEMsQ0FBQzs7O09BQUE7SUFFRCwwQkFBMEI7SUFFMUIsY0FBYztJQUNkLDBDQUFrQixHQUFsQixVQUFtQixLQUFZO1FBQ3JCLElBQUEsdUJBQU8sRUFBRSwwQkFBbUIsQ0FBVTtRQUM5QyxJQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUUxRSxJQUFJLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDOUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQTtZQUNuRCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQzFDO1FBRUQsT0FBTyxLQUFLLENBQUE7SUFDZCxDQUFDO0lBRUQsY0FBYztJQUNkLDJDQUFtQixHQUFuQixVQUFvQixPQUFnQixFQUFFLEtBQVk7UUFDaEQsSUFBTSxjQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUN0RSxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQTtRQUNwRCxJQUFJLGNBQWMsSUFBSSxDQUFDLEVBQUU7WUFDdkIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUE7U0FDcEM7SUFDSCxDQUFDO0lBRUQsY0FBYztJQUNkLDZDQUFxQixHQUFyQixVQUFzQixPQUFnQixFQUFFLEtBQVk7UUFDbEQsSUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUMzRCxJQUFJLGNBQWMsRUFBRTtZQUNsQixJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxjQUFjLEdBQUcsQ0FBQyxDQUFDLENBQUE7WUFDeEQsSUFBSSxjQUFjLElBQUksQ0FBQyxFQUFFO2dCQUN2QixJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFBO2FBQ3ZDO1NBQ0Y7SUFDSCxDQUFDO0lBRU8seURBQWlDLEdBQXpDLFVBQTBDLE9BQWdCO1FBQ3hELElBQUksa0JBQWtCLEdBQUcsSUFBSSxDQUFDLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUN0RSxJQUFJLENBQUMsa0JBQWtCLEVBQUU7WUFDdkIsa0JBQWtCLEdBQUcsSUFBSSxHQUFHLENBQUE7WUFDNUIsSUFBSSxDQUFDLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLENBQUMsQ0FBQTtTQUNsRTtRQUNELE9BQU8sa0JBQWtCLENBQUE7SUFDM0IsQ0FBQztJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQXpFRCxJQXlFQyJ9","import { Module } from \"./module\";\nimport { Multimap } from \"@stimulus/multimap\";\nimport { ScopeObserver } from \"./scope_observer\";\nvar Router = /** @class */ (function () {\n    function Router(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap;\n        this.modulesByIdentifier = new Map;\n    }\n    Object.defineProperty(Router.prototype, \"element\", {\n        get: function () {\n            return this.application.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"modules\", {\n        get: function () {\n            return Array.from(this.modulesByIdentifier.values());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"contexts\", {\n        get: function () {\n            return this.modules.reduce(function (contexts, module) { return contexts.concat(module.contexts); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Router.prototype.start = function () {\n        this.scopeObserver.start();\n    };\n    Router.prototype.stop = function () {\n        this.scopeObserver.stop();\n    };\n    Router.prototype.loadDefinition = function (definition) {\n        this.unloadIdentifier(definition.identifier);\n        var module = new Module(this.application, definition);\n        this.connectModule(module);\n    };\n    Router.prototype.unloadIdentifier = function (identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    };\n    Router.prototype.getContextForElementAndIdentifier = function (element, identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find(function (context) { return context.element == element; });\n        }\n    };\n    // Error handler delegate\n    /** @hidden */\n    Router.prototype.handleError = function (error, message, detail) {\n        this.application.handleError(error, message, detail);\n    };\n    // Scope observer delegate\n    /** @hidden */\n    Router.prototype.scopeConnected = function (scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        var module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    };\n    /** @hidden */\n    Router.prototype.scopeDisconnected = function (scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        var module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    };\n    // Modules\n    Router.prototype.connectModule = function (module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(function (scope) { return module.connectContextForScope(scope); });\n    };\n    Router.prototype.disconnectModule = function (module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(function (scope) { return module.disconnectContextForScope(scope); });\n    };\n    return Router;\n}());\nexport { Router };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JvdXRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2pDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQUc3QyxPQUFPLEVBQUUsYUFBYSxFQUF5QixNQUFNLGtCQUFrQixDQUFBO0FBRXZFO0lBTUUsZ0JBQVksV0FBd0I7UUFDbEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUE7UUFDOUIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDdkUsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksUUFBUSxDQUFBO1FBQ3RDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNwQyxDQUFDO0lBRUQsc0JBQUksMkJBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUE7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwwQkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHVDQUFtQjthQUF2QjtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQTtRQUN4QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDJCQUFPO2FBQVg7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7UUFDdEQsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw0QkFBUTthQUFaO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FB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","export var defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\"\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NjaGVtYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNQSxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQVc7SUFDbkMsbUJBQW1CLEVBQUUsaUJBQWlCO0lBQ3RDLGVBQWUsRUFBRSxhQUFhO0lBQzlCLGVBQWUsRUFBRSxhQUFhO0NBQy9CLENBQUEifQ==","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Dispatcher } from \"./dispatcher\";\nimport { Router } from \"./router\";\nimport { defaultSchema } from \"./schema\";\nvar Application = /** @class */ (function () {\n    function Application(element, schema) {\n        if (element === void 0) { element = document.documentElement; }\n        if (schema === void 0) { schema = defaultSchema; }\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n    }\n    Application.start = function (element, schema) {\n        var application = new Application(element, schema);\n        application.start();\n        return application;\n    };\n    Application.prototype.start = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, domReady()];\n                    case 1:\n                        _a.sent();\n                        this.router.start();\n                        this.dispatcher.start();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Application.prototype.stop = function () {\n        this.router.stop();\n        this.dispatcher.stop();\n    };\n    Application.prototype.register = function (identifier, controllerConstructor) {\n        this.load({ identifier: identifier, controllerConstructor: controllerConstructor });\n    };\n    Application.prototype.load = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var definitions = Array.isArray(head) ? head : [head].concat(rest);\n        definitions.forEach(function (definition) { return _this.router.loadDefinition(definition); });\n    };\n    Application.prototype.unload = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var identifiers = Array.isArray(head) ? head : [head].concat(rest);\n        identifiers.forEach(function (identifier) { return _this.router.unloadIdentifier(identifier); });\n    };\n    Object.defineProperty(Application.prototype, \"controllers\", {\n        // Controllers\n        get: function () {\n            return this.router.contexts.map(function (context) { return context.controller; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Application.prototype.getControllerForElementAndIdentifier = function (element, identifier) {\n        var context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    };\n    // Error handling\n    Application.prototype.handleError = function (error, message, detail) {\n        console.error(\"%s\\n\\n%o\\n\\n%o\", message, error, detail);\n    };\n    return Application;\n}());\nexport { Application };\nfunction domReady() {\n    return new Promise(function (resolve) {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", resolve);\n        }\n        else {\n            resolve();\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwbGljYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYXBwbGljYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sY0FBYyxDQUFBO0FBRXpDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDakMsT0FBTyxFQUFVLGFBQWEsRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUVoRDtJQVlFLHFCQUFZLE9BQTJDLEVBQUUsTUFBOEI7UUFBM0Usd0JBQUEsRUFBQSxVQUFtQixRQUFRLENBQUMsZUFBZTtRQUFFLHVCQUFBLEVBQUEsc0JBQThCO1FBQ3JGLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDdEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUNoQyxDQUFDO0lBWE0saUJBQUssR0FBWixVQUFhLE9BQWlCLEVBQUUsTUFBZTtRQUM3QyxJQUFNLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDcEQsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFBO1FBQ25CLE9BQU8sV0FBVyxDQUFBO0lBQ3BCLENBQUM7SUFTSywyQkFBSyxHQUFYOzs7OzRCQUNFLHFCQUFNLFFBQVEsRUFBRSxFQUFBOzt3QkFBaEIsU0FBZ0IsQ0FBQTt3QkFDaEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQTt3QkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQTs7Ozs7S0FDeEI7SUFFRCwwQkFBSSxHQUFKO1FB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","/** @hidden */\nexport function defineTargetProperties(constructor) {\n    var prototype = constructor.prototype;\n    var targetNames = getTargetNamesForConstructor(constructor);\n    targetNames.forEach(function (name) {\n        var _a;\n        return defineLinkedProperties(prototype, (_a = {},\n            _a[name + \"Target\"] = {\n                get: function () {\n                    var target = this.targets.find(name);\n                    if (target) {\n                        return target;\n                    }\n                    else {\n                        throw new Error(\"Missing target element \\\"\" + this.identifier + \".\" + name + \"\\\"\");\n                    }\n                }\n            },\n            _a[name + \"Targets\"] = {\n                get: function () {\n                    return this.targets.findAll(name);\n                }\n            },\n            _a[\"has\" + capitalize(name) + \"Target\"] = {\n                get: function () {\n                    return this.targets.has(name);\n                }\n            },\n            _a));\n    });\n}\nfunction getTargetNamesForConstructor(constructor) {\n    var ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce(function (targetNames, constructor) {\n        getOwnTargetNamesForConstructor(constructor).forEach(function (name) { return targetNames.add(name); });\n        return targetNames;\n    }, new Set));\n}\nfunction getAncestorsForConstructor(constructor) {\n    var ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors;\n}\nfunction getOwnTargetNamesForConstructor(constructor) {\n    var definition = constructor[\"targets\"];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction defineLinkedProperties(object, properties) {\n    Object.keys(properties).forEach(function (name) {\n        if (!(name in object)) {\n            var descriptor = properties[name];\n            Object.defineProperty(object, name, descriptor);\n        }\n    });\n}\nfunction capitalize(name) {\n    return name.charAt(0).toUpperCase() + name.slice(1);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFyZ2V0X3Byb3BlcnRpZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdGFyZ2V0X3Byb3BlcnRpZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsY0FBYztBQUNkLE1BQU0saUNBQWlDLFdBQXFCO0lBQzFELElBQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUE7SUFDdkMsSUFBTSxXQUFXLEdBQUcsNEJBQTRCLENBQUMsV0FBVyxDQUFDLENBQUE7SUFDN0QsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUk7O1FBQUksT0FBQSxzQkFBc0IsQ0FBQyxTQUFTO1lBQzFELEdBQUksSUFBSSxXQUFRLElBQUc7Z0JBQ2pCLEdBQUc7b0JBQ0QsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7b0JBQ3RDLElBQUksTUFBTSxFQUFFO3dCQUNWLE9BQU8sTUFBTSxDQUFBO3FCQUNkO3lCQUFNO3dCQUNMLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQTJCLElBQUksQ0FBQyxVQUFVLFNBQUksSUFBSSxPQUFHLENBQUMsQ0FBQTtxQkFDdkU7Z0JBQ0gsQ0FBQzthQUNGO1lBQ0QsR0FBSSxJQUFJLFlBQVMsSUFBRztnQkFDbEIsR0FBRztvQkFDRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO2dCQUNuQyxDQUFDO2FBQ0Y7WUFDRCxHQUFDLFFBQU0sVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFRLElBQUc7Z0JBQ2hDLEdBQUc7b0JBQ0QsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDL0IsQ0FBQzthQUNGO2dCQUNEO0lBckIwQixDQXFCMUIsQ0FBQyxDQUFBO0FBQ0wsQ0FBQztBQUVELHNDQUFzQyxXQUFxQjtJQUN6RCxJQUFNLFNBQVMsR0FBRywwQkFBMEIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtJQUN6RCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFDLFdBQVcsRUFBRSxXQUFXO1FBQzFELCtCQUErQixDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUksSUFBSSxPQUFBLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQXJCLENBQXFCLENBQUMsQ0FBQTtRQUNuRixPQUFPLFdBQVcsQ0FBQTtJQUNwQixDQUFDLEVBQUUsSUFBSSxHQUFrQixDQUFDLENBQUMsQ0FBQTtBQUM3QixDQUFDO0FBRUQsb0NBQW9DLFdBQXFCO0lBQ3ZELElBQU0sU0FBUyxHQUFlLEVBQUUsQ0FBQTtJQUNoQyxPQUFPLFdBQVcsRUFBRTtRQUNsQixTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQzNCLFdBQVcsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0tBQ2pEO0lBQ0QsT0FBTyxTQUFTLENBQUE7QUFDbEIsQ0FBQztBQUVELHlDQUF5QyxXQUFxQjtJQUM1RCxJQUFNLFVBQVUsR0FBSSxXQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ2xELE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUE7QUFDcEQsQ0FBQztBQUVELGdDQUFnQyxNQUFXLEVBQUUsVUFBaUM7SUFDNUUsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFJO1FBQ25DLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxNQUFNLENBQUMsRUFBRTtZQUNyQixJQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDbkMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFBO1NBQ2hEO0lBQ0gsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDO0FBRUQsb0JBQW9CLElBQVk7SUFDOUIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDckQsQ0FBQyJ9","import { defineTargetProperties } from \"./target_properties\";\nvar Controller = /** @class */ (function () {\n    function Controller(context) {\n        this.context = context;\n    }\n    Controller.bless = function () {\n        defineTargetProperties(this);\n    };\n    Object.defineProperty(Controller.prototype, \"application\", {\n        get: function () {\n            return this.context.application;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"targets\", {\n        get: function () {\n            return this.scope.targets;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"data\", {\n        get: function () {\n            return this.scope.data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Controller.prototype.initialize = function () {\n        // Override in your subclass to set up initial controller state\n    };\n    Controller.prototype.connect = function () {\n        // Override in your subclass to respond when the controller is connected to the DOM\n    };\n    Controller.prototype.disconnect = function () {\n        // Override in your subclass to respond when the controller is disconnected from the DOM\n    };\n    Controller.targets = [];\n    return Controller;\n}());\nexport { Controller };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLHFCQUFxQixDQUFBO0FBTzVEO0lBU0Usb0JBQVksT0FBZ0I7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7SUFDeEIsQ0FBQztJQU5NLGdCQUFLLEdBQVo7UUFDRSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUM5QixDQUFDO0lBTUQsc0JBQUksbUNBQVc7YUFBZjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUE7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw2QkFBSzthQUFUO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksa0NBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUE7UUFDOUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwrQkFBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFJO2FBQVI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFBO1FBQ3hCLENBQUM7OztPQUFBO0lBRUQsK0JBQVUsR0FBVjtRQUNFLCtEQUErRDtJQUNqRSxDQUFDO0lBRUQsNEJBQU8sR0FBUDtRQUNFLG1GQUFtRjtJQUNyRixDQUFDO0lBRUQsK0JBQVUsR0FBVjtRQUNFLHdGQUF3RjtJQUMxRixDQUFDO0lBOUNNLGtCQUFPLEdBQWEsRUFBRSxDQUFBO0lBK0MvQixpQkFBQztDQUFBLEFBaERELElBZ0RDO1NBaERZLFVBQVUifQ==","export * from \"@stimulus/core\"\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","// Flickity main\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter',\n      'get-size/get-size',\n      'fizzy-ui-utils/utils',\n      './cell',\n      './slide',\n      './animate'\n    ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./cell'),\n      require('./slide'),\n      require('./animate')\n    );\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      _Flickity.Cell,\n      _Flickity.Slide,\n      _Flickity.animatePrototype\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize,\n  utils, Cell, Slide, animatePrototype ) {\n\n'use strict';\n\n// vars\nvar jQuery = window.jQuery;\nvar getComputedStyle = window.getComputedStyle;\nvar console = window.console;\n\nfunction moveElements( elems, toElem ) {\n  elems = utils.makeArray( elems );\n  while ( elems.length ) {\n    toElem.appendChild( elems.shift() );\n  }\n}\n\n// -------------------------- Flickity -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Flickity intances\nvar instances = {};\n\nfunction Flickity( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // do not initialize twice on same element\n  if ( this.element.flickityGUID ) {\n    var instance = instances[ this.element.flickityGUID ];\n    instance.option( options );\n    return instance;\n  }\n\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // kick things off\n  this._create();\n}\n\nFlickity.defaults = {\n  accessibility: true,\n  // adaptiveHeight: false,\n  cellAlign: 'center',\n  // cellSelector: undefined,\n  // contain: false,\n  freeScrollFriction: 0.075, // friction when free-scrolling\n  friction: 0.28, // friction when selecting\n  namespaceJQueryEvents: true,\n  // initialIndex: 0,\n  percentPosition: true,\n  resize: true,\n  selectedAttraction: 0.025,\n  setGallerySize: true\n  // watchCSS: false,\n  // wrapAround: false\n};\n\n// hash of methods triggered on _create()\nFlickity.createMethods = [];\n\nvar proto = Flickity.prototype;\n// inherit EventEmitter\nutils.extend( proto, EvEmitter.prototype );\n\nproto._create = function() {\n  // add id for Flickity.data\n  var id = this.guid = ++GUID;\n  this.element.flickityGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // initial properties\n  this.selectedIndex = 0;\n  // how many frames slider has been in same position\n  this.restingFrames = 0;\n  // initial physics properties\n  this.x = 0;\n  this.velocity = 0;\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\n  // create viewport & slider\n  this.viewport = document.createElement('div');\n  this.viewport.className = 'flickity-viewport';\n  this._createSlider();\n\n  if ( this.options.resize || this.options.watchCSS ) {\n    window.addEventListener( 'resize', this );\n  }\n\n  // add listeners from on option\n  for ( var eventName in this.options.on ) {\n    var listener = this.options.on[ eventName ];\n    this.on( eventName, listener );\n  }\n\n  Flickity.createMethods.forEach( function( method ) {\n    this[ method ]();\n  }, this );\n\n  if ( this.options.watchCSS ) {\n    this.watchCSS();\n  } else {\n    this.activate();\n  }\n\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nproto.activate = function() {\n  if ( this.isActive ) {\n    return;\n  }\n  this.isActive = true;\n  this.element.classList.add('flickity-enabled');\n  if ( this.options.rightToLeft ) {\n    this.element.classList.add('flickity-rtl');\n  }\n\n  this.getSize();\n  // move initial cell elements so they can be loaded as cells\n  var cellElems = this._filterFindCellElements( this.element.children );\n  moveElements( cellElems, this.slider );\n  this.viewport.appendChild( this.slider );\n  this.element.appendChild( this.viewport );\n  // get cells from children\n  this.reloadCells();\n\n  if ( this.options.accessibility ) {\n    // allow element to focusable\n    this.element.tabIndex = 0;\n    // listen for key presses\n    this.element.addEventListener( 'keydown', this );\n  }\n\n  this.emitEvent('activate');\n  this.selectInitialIndex();\n  // flag for initial activation, for using initialIndex\n  this.isInitActivated = true;\n  // ready event. #493\n  this.dispatchEvent('ready');\n};\n\n// slider positions the cells\nproto._createSlider = function() {\n  // slider element does all the positioning\n  var slider = document.createElement('div');\n  slider.className = 'flickity-slider';\n  slider.style[ this.originSide ] = 0;\n  this.slider = slider;\n};\n\nproto._filterFindCellElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.cellSelector );\n};\n\n// goes through all children\nproto.reloadCells = function() {\n  // collection of item elements\n  this.cells = this._makeCells( this.slider.children );\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n};\n\n/**\n * turn elements into Flickity.Cells\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Flickity Cells\n */\nproto._makeCells = function( elems ) {\n  var cellElems = this._filterFindCellElements( elems );\n\n  // create new Flickity for collection\n  var cells = cellElems.map( function( cellElem ) {\n    return new Cell( cellElem, this );\n  }, this );\n\n  return cells;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.getLastSlide = function() {\n  return this.slides[ this.slides.length - 1 ];\n};\n\n// positions all cells\nproto.positionCells = function() {\n  // size all cells\n  this._sizeCells( this.cells );\n  // position all cells\n  this._positionCells( 0 );\n};\n\n/**\n * position certain cells\n * @param {Integer} index - which cell to start with\n */\nproto._positionCells = function( index ) {\n  index = index || 0;\n  // also measure maxCellHeight\n  // start 0 if positioning all cells\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n  var cellX = 0;\n  // get cellX\n  if ( index > 0 ) {\n    var startCell = this.cells[ index - 1 ];\n    cellX = startCell.x + startCell.size.outerWidth;\n  }\n  var len = this.cells.length;\n  for ( var i=index; i < len; i++ ) {\n    var cell = this.cells[i];\n    cell.setPosition( cellX );\n    cellX += cell.size.outerWidth;\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n  }\n  // keep track of cellX for wrap-around\n  this.slideableWidth = cellX;\n  // slides\n  this.updateSlides();\n  // contain slides target\n  this._containSlides();\n  // update slidesWidth\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n};\n\n/**\n * cell.getSize() on multiple cells\n * @param {Array} cells\n */\nproto._sizeCells = function( cells ) {\n  cells.forEach( function( cell ) {\n    cell.getSize();\n  });\n};\n\n// --------------------------  -------------------------- //\n\nproto.updateSlides = function() {\n  this.slides = [];\n  if ( !this.cells.length ) {\n    return;\n  }\n\n  var slide = new Slide( this );\n  this.slides.push( slide );\n  var isOriginLeft = this.originSide == 'left';\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n  var canCellFit = this._getCanCellFit();\n\n  this.cells.forEach( function( cell, i ) {\n    // just add cell if first cell in slide\n    if ( !slide.cells.length ) {\n      slide.addCell( cell );\n      return;\n    }\n\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n    if ( canCellFit.call( this, i, slideWidth ) ) {\n      slide.addCell( cell );\n    } else {\n      // doesn't fit, new slide\n      slide.updateTarget();\n\n      slide = new Slide( this );\n      this.slides.push( slide );\n      slide.addCell( cell );\n    }\n  }, this );\n  // last slide\n  slide.updateTarget();\n  // update .selectedSlide\n  this.updateSelectedSlide();\n};\n\nproto._getCanCellFit = function() {\n  var groupCells = this.options.groupCells;\n  if ( !groupCells ) {\n    return function() {\n      return false;\n    };\n  } else if ( typeof groupCells == 'number' ) {\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\n    var number = parseInt( groupCells, 10 );\n    return function( i ) {\n      return ( i % number ) !== 0;\n    };\n  }\n  // default, group by width of slide\n  // parse '75%\n  var percentMatch = typeof groupCells == 'string' &&\n    groupCells.match(/^(\\d+)%$/);\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n  return function( i, slideWidth ) {\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n  };\n};\n\n// alias _init for jQuery plugin .flickity()\nproto._init =\nproto.reposition = function() {\n  this.positionCells();\n  this.positionSliderAtSelected();\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n  this.setCellAlign();\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\n};\n\nvar cellAlignShorthands = {\n  // cell align, then based on origin side\n  center: {\n    left: 0.5,\n    right: 0.5\n  },\n  left: {\n    left: 0,\n    right: 1\n  },\n  right: {\n    right: 0,\n    left: 1\n  }\n};\n\nproto.setCellAlign = function() {\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n};\n\nproto.setGallerySize = function() {\n  if ( this.options.setGallerySize ) {\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\n      this.selectedSlide.height : this.maxCellHeight;\n    this.viewport.style.height = height + 'px';\n  }\n};\n\nproto._getWrapShiftCells = function() {\n  // only for wrap-around\n  if ( !this.options.wrapAround ) {\n    return;\n  }\n  // unshift previous cells\n  this._unshiftCells( this.beforeShiftCells );\n  this._unshiftCells( this.afterShiftCells );\n  // get before cells\n  // initial gap\n  var gapX = this.cursorPosition;\n  var cellIndex = this.cells.length - 1;\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n  // get after cells\n  // ending gap between last cell and end of gallery viewport\n  gapX = this.size.innerWidth - this.cursorPosition;\n  // start cloning at first cell, working forwards\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n};\n\nproto._getGapCells = function( gapX, cellIndex, increment ) {\n  // keep adding cells until the cover the initial gap\n  var cells = [];\n  while ( gapX > 0 ) {\n    var cell = this.cells[ cellIndex ];\n    if ( !cell ) {\n      break;\n    }\n    cells.push( cell );\n    cellIndex += increment;\n    gapX -= cell.size.outerWidth;\n  }\n  return cells;\n};\n\n// ----- contain ----- //\n\n// contain cell targets so no excess sliding\nproto._containSlides = function() {\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n    return;\n  }\n  var isRightToLeft = this.options.rightToLeft;\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n  // content is less than gallery size\n  var isContentSmaller = contentWidth < this.size.innerWidth;\n  // bounds\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n  // contain each cell target\n  this.slides.forEach( function( slide ) {\n    if ( isContentSmaller ) {\n      // all cells fit inside gallery\n      slide.target = contentWidth * this.cellAlign;\n    } else {\n      // contain to bounds\n      slide.target = Math.max( slide.target, beginBound );\n      slide.target = Math.min( slide.target, endBound );\n    }\n  }, this );\n};\n\n// -----  ----- //\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery && this.$element ) {\n    // default trigger with type if no event\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n    var $event = type;\n    if ( event ) {\n      // create jQuery event\n      var jQEvent = jQuery.Event( event );\n      jQEvent.type = type;\n      $event = jQEvent;\n    }\n    this.$element.trigger( $event, args );\n  }\n};\n\n// -------------------------- select -------------------------- //\n\n/**\n * @param {Integer} index - index of the slide\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n * @param {Boolean} isInstant - will immediately set position at selected cell\n */\nproto.select = function( index, isWrap, isInstant ) {\n  if ( !this.isActive ) {\n    return;\n  }\n  index = parseInt( index, 10 );\n  this._wrapSelect( index );\n\n  if ( this.options.wrapAround || isWrap ) {\n    index = utils.modulo( index, this.slides.length );\n  }\n  // bail if invalid index\n  if ( !this.slides[ index ] ) {\n    return;\n  }\n  var prevIndex = this.selectedIndex;\n  this.selectedIndex = index;\n  this.updateSelectedSlide();\n  if ( isInstant ) {\n    this.positionSliderAtSelected();\n  } else {\n    this.startAnimation();\n  }\n  if ( this.options.adaptiveHeight ) {\n    this.setGallerySize();\n  }\n  // events\n  this.dispatchEvent( 'select', null, [ index ] );\n  // change event if new index\n  if ( index != prevIndex ) {\n    this.dispatchEvent( 'change', null, [ index ] );\n  }\n  // old v1 event name, remove in v3\n  this.dispatchEvent('cellSelect');\n};\n\n// wraps position for wrapAround, to move to closest slide. #113\nproto._wrapSelect = function( index ) {\n  var len = this.slides.length;\n  var isWrapping = this.options.wrapAround && len > 1;\n  if ( !isWrapping ) {\n    return index;\n  }\n  var wrapIndex = utils.modulo( index, len );\n  // go to shortest\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\n    index += len;\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n    index -= len;\n  }\n  // wrap position so slider is within normal area\n  if ( index < 0 ) {\n    this.x -= this.slideableWidth;\n  } else if ( index >= len ) {\n    this.x += this.slideableWidth;\n  }\n};\n\nproto.previous = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\n};\n\nproto.next = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\n};\n\nproto.updateSelectedSlide = function() {\n  var slide = this.slides[ this.selectedIndex ];\n  // selectedIndex could be outside of slides, if triggered before resize()\n  if ( !slide ) {\n    return;\n  }\n  // unselect previous selected slide\n  this.unselectSelectedSlide();\n  // update new selected slide\n  this.selectedSlide = slide;\n  slide.select();\n  this.selectedCells = slide.cells;\n  this.selectedElements = slide.getCellElements();\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n  // Remove in v3?\n  this.selectedCell = slide.cells[0];\n  this.selectedElement = this.selectedElements[0];\n};\n\nproto.unselectSelectedSlide = function() {\n  if ( this.selectedSlide ) {\n    this.selectedSlide.unselect();\n  }\n};\n\nproto.selectInitialIndex = function() {\n  var initialIndex = this.options.initialIndex;\n  // already activated, select previous selectedIndex\n  if ( this.isInitActivated ) {\n    this.select( this.selectedIndex, false, true );\n    return;\n  }\n  // select with selector string\n  if ( initialIndex && typeof initialIndex == 'string' ) {\n    var cell = this.queryCell( initialIndex );\n    if ( cell ) {\n      this.selectCell( initialIndex, false, true );\n      return;\n    }\n  }\n\n  var index = 0;\n  // select with number\n  if ( initialIndex && this.slides[ initialIndex ] ) {\n    index = initialIndex;\n  }\n  // select instantly\n  this.select( index, false, true );\n};\n\n/**\n * select slide from number or cell element\n * @param {Element or Number} elem\n */\nproto.selectCell = function( value, isWrap, isInstant ) {\n  // get cell\n  var cell = this.queryCell( value );\n  if ( !cell ) {\n    return;\n  }\n\n  var index = this.getCellSlideIndex( cell );\n  this.select( index, isWrap, isInstant );\n};\n\nproto.getCellSlideIndex = function( cell ) {\n  // get index of slides that has cell\n  for ( var i=0; i < this.slides.length; i++ ) {\n    var slide = this.slides[i];\n    var index = slide.cells.indexOf( cell );\n    if ( index != -1 ) {\n      return i;\n    }\n  }\n};\n\n// -------------------------- get cells -------------------------- //\n\n/**\n * get Flickity.Cell, given an Element\n * @param {Element} elem\n * @returns {Flickity.Cell} item\n */\nproto.getCell = function( elem ) {\n  // loop through cells to get the one that matches\n  for ( var i=0; i < this.cells.length; i++ ) {\n    var cell = this.cells[i];\n    if ( cell.element == elem ) {\n      return cell;\n    }\n  }\n};\n\n/**\n * get collection of Flickity.Cells, given Elements\n * @param {Element, Array, NodeList} elems\n * @returns {Array} cells - Flickity.Cells\n */\nproto.getCells = function( elems ) {\n  elems = utils.makeArray( elems );\n  var cells = [];\n  elems.forEach( function( elem ) {\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      cells.push( cell );\n    }\n  }, this );\n  return cells;\n};\n\n/**\n * get cell elements\n * @returns {Array} cellElems\n */\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\n/**\n * get parent cell from an element\n * @param {Element} elem\n * @returns {Flickit.Cell} cell\n */\nproto.getParentCell = function( elem ) {\n  // first check if elem is cell\n  var cell = this.getCell( elem );\n  if ( cell ) {\n    return cell;\n  }\n  // try to get parent cell elem\n  elem = utils.getParent( elem, '.flickity-slider > *' );\n  return this.getCell( elem );\n};\n\n/**\n * get cells adjacent to a slide\n * @param {Integer} adjCount - number of adjacent slides\n * @param {Integer} index - index of slide to start\n * @returns {Array} cells - array of Flickity.Cells\n */\nproto.getAdjacentCellElements = function( adjCount, index ) {\n  if ( !adjCount ) {\n    return this.selectedSlide.getCellElements();\n  }\n  index = index === undefined ? this.selectedIndex : index;\n\n  var len = this.slides.length;\n  if ( 1 + ( adjCount * 2 ) >= len ) {\n    return this.getCellElements();\n  }\n\n  var cellElems = [];\n  for ( var i = index - adjCount; i <= index + adjCount ; i++ ) {\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n    var slide = this.slides[ slideIndex ];\n    if ( slide ) {\n      cellElems = cellElems.concat( slide.getCellElements() );\n    }\n  }\n  return cellElems;\n};\n\n/**\n * select slide from number or cell element\n * @param {Element, Selector String, or Number} selector\n */\nproto.queryCell = function( selector ) {\n  if ( typeof selector == 'number' ) {\n    // use number as index\n    return this.cells[ selector ];\n  }\n  if ( typeof selector == 'string' ) {\n    // do not select invalid selectors from hash: #123, #/. #791\n    if ( selector.match(/^[#\\.]?[\\d\\/]/) ) {\n      return;\n    }\n    // use string as selector, get element\n    selector = this.element.querySelector( selector );\n  }\n  // get cell from element\n  return this.getCell( selector );\n};\n\n// -------------------------- events -------------------------- //\n\nproto.uiChange = function() {\n  this.emitEvent('uiChange');\n};\n\n// keep focus on element when child UI elements are clicked\nproto.childUIPointerDown = function( event ) {\n  // HACK iOS does not allow touch events to bubble up?!\n  if ( event.type != 'touchstart' ) {\n    event.preventDefault();\n  }\n  this.focus();\n};\n\n// ----- resize ----- //\n\nproto.onresize = function() {\n  this.watchCSS();\n  this.resize();\n};\n\nutils.debounceMethod( Flickity, 'onresize', 150 );\n\nproto.resize = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.getSize();\n  // wrap values\n  if ( this.options.wrapAround ) {\n    this.x = utils.modulo( this.x, this.slideableWidth );\n  }\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  this.emitEvent('resize');\n  // update selected index for group slides, instant\n  // TODO: position can be lost between groups of various numbers\n  var selectedElement = this.selectedElements && this.selectedElements[0];\n  this.selectCell( selectedElement, false, true );\n};\n\n// watches the :after property, activates/deactivates\nproto.watchCSS = function() {\n  var watchOption = this.options.watchCSS;\n  if ( !watchOption ) {\n    return;\n  }\n\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\n  // activate if :after { content: 'flickity' }\n  if ( afterContent.indexOf('flickity') != -1 ) {\n    this.activate();\n  } else {\n    this.deactivate();\n  }\n};\n\n// ----- keydown ----- //\n\n// go previous/next if left/right keys pressed\nproto.onkeydown = function( event ) {\n  // only work if element is in focus\n  var isNotFocused = document.activeElement && document.activeElement != this.element;\n  if ( !this.options.accessibility ||isNotFocused ) {\n    return;\n  }\n\n  var handler = Flickity.keyboardHandlers[ event.keyCode ];\n  if ( handler ) {\n    handler.call( this );\n  }\n};\n\nFlickity.keyboardHandlers = {\n  // left arrow\n  37: function() {\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n    this.uiChange();\n    this[ leftMethod ]();\n  },\n  // right arrow\n  39: function() {\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n    this.uiChange();\n    this[ rightMethod ]();\n  },\n};\n\n// ----- focus ----- //\n\nproto.focus = function() {\n  // TODO remove scrollTo once focus options gets more support\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus#Browser_compatibility\n  var prevScrollY = window.pageYOffset;\n  this.element.focus({ preventScroll: true });\n  // hack to fix scroll jump after focus, #76\n  if ( window.pageYOffset != prevScrollY ) {\n    window.scrollTo( window.pageXOffset, prevScrollY );\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\n// deactivate all Flickity functionality, but keep stuff available\nproto.deactivate = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.element.classList.remove('flickity-enabled');\n  this.element.classList.remove('flickity-rtl');\n  this.unselectSelectedSlide();\n  // destroy cells\n  this.cells.forEach( function( cell ) {\n    cell.destroy();\n  });\n  this.element.removeChild( this.viewport );\n  // move child elements back into element\n  moveElements( this.slider.children, this.element );\n  if ( this.options.accessibility ) {\n    this.element.removeAttribute('tabIndex');\n    this.element.removeEventListener( 'keydown', this );\n  }\n  // set flags\n  this.isActive = false;\n  this.emitEvent('deactivate');\n};\n\nproto.destroy = function() {\n  this.deactivate();\n  window.removeEventListener( 'resize', this );\n  this.allOff();\n  this.emitEvent('destroy');\n  if ( jQuery && this.$element ) {\n    jQuery.removeData( this.element, 'flickity' );\n  }\n  delete this.element.flickityGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- prototype -------------------------- //\n\nutils.extend( proto, animatePrototype );\n\n// -------------------------- extras -------------------------- //\n\n/**\n * get Flickity instance from element\n * @param {Element} elem\n * @returns {Flickity}\n */\nFlickity.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.flickityGUID;\n  return id && instances[ id ];\n};\n\nutils.htmlInit( Flickity, 'flickity' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'flickity', Flickity );\n}\n\n// set internal jQuery, for Webpack + jQuery v3, #478\nFlickity.setJQuery = function( jq ) {\n  jQuery = jq;\n};\n\nFlickity.Cell = Cell;\nFlickity.Slide = Slide;\n\nreturn Flickity;\n\n}));\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.4.2',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  'use strict';\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( EvEmitter, getSize, utils, Item ) {\n        return factory( window, EvEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n'use strict';\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  var isInitLayout = this._getOption('initLayout');\n  if ( isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  initLayout: true,\n  originLeft: true,\n  originTop: true,\n  resize: true,\n  resizeContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\nvar proto = Outlayer.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n/**\n * get backwards compatible option value, check old name\n */\nproto._getOption = function( option ) {\n  var oldOption = this.constructor.compatOptions[ option ];\n  return oldOption && this.options[ oldOption ] !== undefined ?\n    this.options[ oldOption ] : this.options[ option ];\n};\n\nOutlayer.compatOptions = {\n  // currentName: oldName\n  initLayout: 'isInitLayout',\n  horizontal: 'isHorizontal',\n  layoutInstant: 'isLayoutInstant',\n  originLeft: 'isOriginLeft',\n  originTop: 'isOriginTop',\n  resize: 'isResizeBound',\n  resizeContainer: 'isResizingContainer'\n};\n\nproto._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  var canBindResize = this._getOption('resize');\n  if ( canBindResize ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nproto.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nproto._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0; i < itemElems.length; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nproto._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nproto.getItemElements = function() {\n  return this.items.map( function( item ) {\n    return item.element;\n  });\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nproto.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var layoutInstant = this._getOption('layoutInstant');\n  var isInstant = layoutInstant !== undefined ?\n    layoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nproto._init = proto.layout;\n\n/**\n * logic before any new layout\n */\nproto._resetLayout = function() {\n  this.getSize();\n};\n\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nproto._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option == 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( option instanceof HTMLElement ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nproto.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nproto._getItemsForLayout = function( items ) {\n  return items.filter( function( item ) {\n    return !item.isIgnored;\n  });\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nproto._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  items.forEach( function( item ) {\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }, this );\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nproto._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nproto._processLayoutQueue = function( queue ) {\n  this.updateStagger();\n  queue.forEach( function( obj, i ) {\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n  }, this );\n};\n\n// set stagger from option in milliseconds number\nproto.updateStagger = function() {\n  var stagger = this.options.stagger;\n  if ( stagger === null || stagger === undefined ) {\n    this.stagger = 0;\n    return;\n  }\n  this.stagger = getMilliseconds( stagger );\n  return this.stagger;\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nproto._positionItem = function( item, x, y, isInstant, i ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.stagger( i * this.stagger );\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nproto._postLayout = function() {\n  this.resizeContainer();\n};\n\nproto.resizeContainer = function() {\n  var isResizingContainer = this._getOption('resizeContainer');\n  if ( !isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nproto._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nproto._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nproto._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount == count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  items.forEach( function( item ) {\n    item.once( eventName, tick );\n  });\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nproto.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nproto.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nproto.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  elems.forEach( this.ignore, this );\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nproto.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  elems.forEach( function( elem ) {\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }, this );\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nproto._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems == 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nproto._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  this.stamps.forEach( this._manageStamp, this );\n};\n\n// update boundingLeft / Top\nproto._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nproto._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nproto._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nproto.handleEvent = utils.handleEvent;\n\n/**\n * Bind layout to window resizing\n */\nproto.bindResize = function() {\n  window.addEventListener( 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nproto.unbindResize = function() {\n  window.removeEventListener( 'resize', this );\n  this.isResizeBound = false;\n};\n\nproto.onresize = function() {\n  this.resize();\n};\n\nutils.debounceMethod( Outlayer, 'onresize', 100 );\n\nproto.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nproto.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nproto.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nproto.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nproto.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.reveal();\n  });\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.hide();\n  });\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nproto.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0; i < this.items.length; i++ ) {\n    var item = this.items[i];\n    if ( item.element == elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nproto.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  elems.forEach( function( elem ) {\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }, this );\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nproto.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  removeItems.forEach( function( item ) {\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }, this );\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nproto.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  this.items.forEach( function( item ) {\n    item.destroy();\n  });\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  var Layout = subclass( Outlayer );\n  // apply new options and compatOptions\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  utils.extend( Layout.defaults, options );\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = subclass( Item );\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\nfunction subclass( Parent ) {\n  function SubClass() {\n    Parent.apply( this, arguments );\n  }\n\n  SubClass.prototype = Object.create( Parent.prototype );\n  SubClass.prototype.constructor = SubClass;\n\n  return SubClass;\n}\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\nvar msUnits = {\n  ms: 1,\n  s: 1000\n};\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\nfunction getMilliseconds( time ) {\n  if ( typeof time == 'number' ) {\n    return time;\n  }\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n  var num = matches && matches[1];\n  var unit = matches && matches[2];\n  if ( !num.length ) {\n    return 0;\n  }\n  num = parseFloat( num );\n  var mult = msUnits[ unit ] || 1;\n  return num * mult;\n}\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n","/**\n * Isotope LayoutMode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'get-size/get-size',\n        'outlayer/outlayer'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('get-size'),\n      require('outlayer')\n    );\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.LayoutMode = factory(\n      window.getSize,\n      window.Outlayer\n    );\n  }\n\n}( window, function factory( getSize, Outlayer ) {\n  'use strict';\n\n  // layout mode class\n  function LayoutMode( isotope ) {\n    this.isotope = isotope;\n    // link properties\n    if ( isotope ) {\n      this.options = isotope.options[ this.namespace ];\n      this.element = isotope.element;\n      this.items = isotope.filteredItems;\n      this.size = isotope.size;\n    }\n  }\n\n  var proto = LayoutMode.prototype;\n\n  /**\n   * some methods should just defer to default Outlayer method\n   * and reference the Isotope instance as `this`\n  **/\n  var facadeMethods = [\n    '_resetLayout',\n    '_getItemLayoutPosition',\n    '_manageStamp',\n    '_getContainerSize',\n    '_getElementOffset',\n    'needsResizeLayout',\n    '_getOption'\n  ];\n\n  facadeMethods.forEach( function( methodName ) {\n    proto[ methodName ] = function() {\n      return Outlayer.prototype[ methodName ].apply( this.isotope, arguments );\n    };\n  });\n\n  // -----  ----- //\n\n  // for horizontal layout modes, check vertical size\n  proto.needsVerticalResizeLayout = function() {\n    // don't trigger if size did not change\n    var size = getSize( this.isotope.element );\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var hasSizes = this.isotope.size && size;\n    return hasSizes && size.innerHeight != this.isotope.size.innerHeight;\n  };\n\n  // ----- measurements ----- //\n\n  proto._getMeasurement = function() {\n    this.isotope._getMeasurement.apply( this, arguments );\n  };\n\n  proto.getColumnWidth = function() {\n    this.getSegmentSize( 'column', 'Width' );\n  };\n\n  proto.getRowHeight = function() {\n    this.getSegmentSize( 'row', 'Height' );\n  };\n\n  /**\n   * get columnWidth or rowHeight\n   * segment: 'column' or 'row'\n   * size 'Width' or 'Height'\n  **/\n  proto.getSegmentSize = function( segment, size ) {\n    var segmentName = segment + size;\n    var outerSize = 'outer' + size;\n    // columnWidth / outerWidth // rowHeight / outerHeight\n    this._getMeasurement( segmentName, outerSize );\n    // got rowHeight or columnWidth, we can chill\n    if ( this[ segmentName ] ) {\n      return;\n    }\n    // fall back to item of first element\n    var firstItemSize = this.getFirstItemSize();\n    this[ segmentName ] = firstItemSize && firstItemSize[ outerSize ] ||\n      // or size of container\n      this.isotope.size[ 'inner' + size ];\n  };\n\n  proto.getFirstItemSize = function() {\n    var firstItem = this.isotope.filteredItems[0];\n    return firstItem && firstItem.element && getSize( firstItem.element );\n  };\n\n  // ----- methods that should reference isotope ----- //\n\n  proto.layout = function() {\n    this.isotope.layout.apply( this.isotope, arguments );\n  };\n\n  proto.getSize = function() {\n    this.isotope.getSize();\n    this.size = this.isotope.size;\n  };\n\n  // -------------------------- create -------------------------- //\n\n  LayoutMode.modes = {};\n\n  LayoutMode.create = function( namespace, options ) {\n\n    function Mode() {\n      LayoutMode.apply( this, arguments );\n    }\n\n    Mode.prototype = Object.create( proto );\n    Mode.prototype.constructor = Mode;\n\n    // default options\n    if ( options ) {\n      Mode.options = options;\n    }\n\n    Mode.prototype.namespace = namespace;\n    // register in Isotope\n    LayoutMode.modes[ namespace ] = Mode;\n\n    return Mode;\n  };\n\n  return LayoutMode;\n\n}));\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n'use strict';\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar nativeFunctionToString = require('../internals/function-to-string');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(nativeFunctionToString).split('toString');\n\nshared('inspectSource', function (it) {\n  return nativeFunctionToString.call(it);\n});\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || nativeFunctionToString.call(this);\n});\n","var shared = require('../internals/shared');\n\nmodule.exports = shared('native-function-to-string', Function.toString);\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","module.exports = {};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","/*\nTurbolinks 5.2.0\nCopyright  2018 Basecamp, LLC\n */\n(function(){var t=this;(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(t,r){return e.controller.visit(t,r)},clearCache:function(){return e.controller.clearCache()},setProgressBarDelay:function(t){return e.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var e=t.Turbolinks;(function(){(function(){var t,r,n,o=[].slice;e.copyObject=function(t){var e,r,n;r={};for(e in t)n=t[e],r[e]=n;return r},e.closest=function(e,r){return t.call(e,r)},t=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&r.call(e,t))return e;e=e.parentNode}}}(),e.defer=function(t){return setTimeout(t,1)},e.throttle=function(t){var e;return e=null,function(){var r;return r=1<=arguments.length?o.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(n){return function(){return e=null,t.apply(n,r)}}(this))}},e.dispatch=function(t,e){var r,o,i,s,a,u;return a=null!=e?e:{},u=a.target,r=a.cancelable,o=a.data,i=document.createEvent(\"Events\"),i.initEvent(t,!0,r===!0),i.data=null!=o?o:{},i.cancelable&&!n&&(s=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,\"defaultPrevented\",{get:function(){return!0}}),s.call(this)}),(null!=u?u:document).dispatchEvent(i),i},n=function(){var t;return t=document.createEvent(\"Events\"),t.initEvent(\"test\",!0,!0),t.preventDefault(),t.defaultPrevented}(),e.match=function(t,e){return r.call(t,e)},r=function(){var t,e,r,n;return t=document.documentElement,null!=(e=null!=(r=null!=(n=t.matchesSelector)?n:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector}(),e.uuid=function(){var t,e,r;for(r=\"\",t=e=1;36>=e;t=++e)r+=9===t||14===t||19===t||24===t?\"-\":15===t?\"4\":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return r}}).call(this),function(){e.Location=function(){function t(t){var e,r;null==t&&(t=\"\"),r=document.createElement(\"a\"),r.href=t.toString(),this.absoluteURL=r.href,e=r.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=r.hash.slice(1))}var e,r,n,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split(\"/\",3).join(\"/\")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\\/\\/[^\\/]*(\\/[^?;]*)/))?e[1]:void 0)?t:\"/\"},t.prototype.getPathComponents=function(){return this.getPath().split(\"/\").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\\.[^.]*$/))?e[0]:void 0)?t:\"\"},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=r(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},r=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return n(t,\"/\")?t:t+\"/\"},o=function(t,e){return t.slice(0,e.length)===e},n=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.HttpRequest=function(){function r(r,n,o){this.delegate=r,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=e.Location.wrap(n).requestURL,this.referrer=e.Location.wrap(o).absoluteURL,this.createXHR()}return r.NETWORK_FAILURE=0,r.TIMEOUT_FAILURE=-1,r.timeout=60,r.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,\"function\"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},r.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},r.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},r.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader(\"Turbolinks-Location\")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},r.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},r.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},r.prototype.requestCanceled=function(){return this.endRequest()},r.prototype.notifyApplicationBeforeRequestStart=function(){return e.dispatch(\"turbolinks:request-start\",{data:{url:this.url,xhr:this.xhr}})},r.prototype.notifyApplicationAfterRequestEnd=function(){return e.dispatch(\"turbolinks:request-end\",{data:{url:this.url,xhr:this.xhr}})},r.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open(\"GET\",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader(\"Accept\",\"text/html, application/xhtml+xml\"),this.xhr.setRequestHeader(\"Turbolinks-Referrer\",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},r.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},r.prototype.setProgress=function(t){var e;return this.progress=t,\"function\"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},r.prototype.destroy=function(){var t;return this.setProgress(1),\"function\"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},r}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ProgressBar=function(){function e(){this.trickle=t(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var r;return r=300,e.defaultCSS=\".turbolinks-progress-bar {\\n  position: fixed;\\n  display: block;\\n  top: 0;\\n  left: 0;\\n  height: 3px;\\n  background: #0076ff;\\n  z-index: 9999;\\n  transition: width \"+r+\"ms ease-out, opacity \"+r/2+\"ms \"+r/2+\"ms ease-in;\\n  transform: translate3d(0, 0, 0);\\n}\",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},e.prototype.setValue=function(t){return this.value=t,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*r)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,r)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+\"%\"}}(this))},e.prototype.createStylesheetElement=function(){var t;return t=document.createElement(\"style\"),t.type=\"text/css\",t.textContent=this.constructor.defaultCSS,t},e.prototype.createProgressElement=function(){var t;return t=document.createElement(\"div\"),t.className=\"turbolinks-progress-bar\",t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.BrowserAdapter=function(){function r(r){this.controller=r,this.showProgressBar=t(this.showProgressBar,this),this.progressBar=new e.ProgressBar}var n,o,i;return i=e.HttpRequest,n=i.NETWORK_FAILURE,o=i.TIMEOUT_FAILURE,r.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},r.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},r.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||\"restore\"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},r.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},r.prototype.visitRequestCompleted=function(t){return t.loadResponse()},r.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case o:return this.reload();default:return t.loadResponse()}},r.prototype.visitRequestFinished=function(t){return this.hideProgressBar()},r.prototype.visitCompleted=function(t){return t.followRedirect()},r.prototype.pageInvalidated=function(){return this.reload()},r.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},r.prototype.showProgressBar=function(){return this.progressBar.show()},r.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},r.prototype.reload=function(){return window.location.reload()},r}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.History=function(){function r(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return r.prototype.start=function(){return this.started?void 0:(addEventListener(\"popstate\",this.onPopState,!1),addEventListener(\"load\",this.onPageLoad,!1),this.started=!0)},r.prototype.stop=function(){return this.started?(removeEventListener(\"popstate\",this.onPopState,!1),removeEventListener(\"load\",this.onPageLoad,!1),this.started=!1):void 0},r.prototype.push=function(t,r){return t=e.Location.wrap(t),this.update(\"push\",t,r)},r.prototype.replace=function(t,r){return t=e.Location.wrap(t),this.update(\"replace\",t,r)},r.prototype.onPopState=function(t){var r,n,o,i;return this.shouldHandlePopState()&&(i=null!=(n=t.state)?n.turbolinks:void 0)?(r=e.Location.wrap(window.location),o=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(r,o)):void 0},r.prototype.onPageLoad=function(t){return e.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},r.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},r.prototype.pageIsLoaded=function(){return this.pageLoaded||\"complete\"===document.readyState},r.prototype.update=function(t,e,r){var n;return n={turbolinks:{restorationIdentifier:r}},history[t+\"State\"](n,null,e)},r}()}.call(this),function(){e.HeadDetails=function(){function t(t){var e,r,n,s,a,u;for(this.elements={},n=0,a=t.length;a>n;n++)u=t[n],u.nodeType===Node.ELEMENT_NODE&&(s=u.outerHTML,r=null!=(e=this.elements)[s]?e[s]:e[s]={type:i(u),tracked:o(u),elements:[]},r.elements.push(u))}var e,r,n,o,i;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var r,n;r=this.elements,n=[];for(t in r)e=r[t].tracked,e&&n.push(t);return n}.call(this).join(\"\")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails(\"script\",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails(\"stylesheet\",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var r,n,o,i,s,a;o=this.elements,s=[];for(n in o)i=o[n],a=i.type,r=i.elements,a!==t||e.hasElementWithKey(n)||s.push(r[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,r,n,o,i,s;r=[],n=this.elements;for(e in n)o=n[e],s=o.type,i=o.tracked,t=o.elements,null!=s||i?t.length>1&&r.push.apply(r,t.slice(1)):r.push.apply(r,t);return r},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute(\"content\"):void 0},t.prototype.findMetaElementByName=function(t){var r,n,o,i;r=void 0,i=this.elements;for(o in i)n=i[o].elements,e(n[0],t)&&(r=n[0]);return r},i=function(t){return r(t)?\"script\":n(t)?\"stylesheet\":void 0},o=function(t){return\"reload\"===t.getAttribute(\"data-turbolinks-track\")},r=function(t){var e;return e=t.tagName.toLowerCase(),\"script\"===e},n=function(t){var e;return e=t.tagName.toLowerCase(),\"style\"===e||\"link\"===e&&\"stylesheet\"===t.getAttribute(\"rel\")},e=function(t,e){var r;return r=t.tagName.toLowerCase(),\"meta\"===r&&t.getAttribute(\"name\")===e},t}()}.call(this),function(){e.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:\"string\"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return e=document.createElement(\"html\"),e.innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var r,n,o,i;return o=t.querySelector(\"head\"),r=null!=(i=t.querySelector(\"body\"))?i:document.createElement(\"body\"),n=e.HeadDetails.fromHeadElement(o),new this(n,r)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,r;return r=null!=(t=this.getSetting(\"root\"))?t:\"/\",new e.Location(r)},t.prototype.getCacheControlValue=function(){return this.getSetting(\"cache-control\")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector(\"[id='\"+t+\"'], a[name='\"+t+\"']\")}catch(e){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll(\"[id][data-turbolinks-permanent]\")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector(\"#\"+t+\"[data-turbolinks-permanent]\")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,r,n,o,i;for(o=this.getPermanentElements(),i=[],r=0,n=o.length;n>r;r++)e=o[r],t.getPermanentElementById(e.id)&&i.push(e);return i},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector(\"[autofocus]\")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return\"no-preview\"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return\"no-cache\"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return\"reload\"!==this.getSetting(\"visit-control\")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue(\"turbolinks-\"+t)},t}()}.call(this),function(){var t=[].slice;e.Renderer=function(){function e(){}var r;return e.render=function(){var e,r,n,o;return n=arguments[0],r=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],o=function(t,e,r){r.prototype=t.prototype;var n=new r,o=t.apply(n,e);return Object(o)===o?o:n}(this,e,function(){}),o.delegate=n,o.render(r),o},e.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(t){var e;return\"false\"===t.getAttribute(\"data-turbolinks-eval\")?t:(e=document.createElement(\"script\"),e.textContent=t.textContent,e.async=!1,r(e,t),e)},r=function(t,e){var r,n,o,i,s,a,u;for(i=e.attributes,a=[],r=0,n=i.length;n>r;r++)s=i[r],o=s.name,u=s.value,a.push(t.setAttribute(o,u));return a},e}()}.call(this),function(){var t,r,n=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.SnapshotRenderer=function(e){function o(t,e,r){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=r,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(o,e),o.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},o.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},o.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},o.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},o.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},o.prototype.copyNewHeadStylesheetElements=function(){var t,e,r,n,o;for(n=this.getNewHeadStylesheetElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},o.prototype.copyNewHeadScriptElements=function(){var t,e,r,n,o;for(n=this.getNewHeadScriptElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},o.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,r,n,o;for(n=this.getCurrentHeadProvisionalElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.removeChild(t));return o},o.prototype.copyNewHeadProvisionalElements=function(){var t,e,r,n,o;for(n=this.getNewHeadProvisionalElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},o.prototype.relocateCurrentBodyPermanentElements=function(){var e,n,o,i,s,a,u;for(a=this.getCurrentBodyPermanentElements(),u=[],e=0,n=a.length;n>e;e++)i=a[e],s=t(i),o=this.newSnapshot.getPermanentElementById(i.id),r(i,s.element),r(o,i),u.push(s);return u},o.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,o,i,s,a,u;for(u=[],o=0,i=t.length;i>o;o++)a=t[o],n=a.element,s=a.permanentElement,e=s.cloneNode(!0),u.push(r(n,e));return u},o.prototype.activateNewBodyScriptElements=function(){var t,e,n,o,i,s;for(i=this.getNewBodyScriptElements(),s=[],e=0,o=i.length;o>e;e++)n=i[e],t=this.createScriptElement(n),s.push(r(n,t));return s},o.prototype.assignNewBody=function(){return document.body=this.newBody},o.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},o.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},o.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},o.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},o.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},o.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},o.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll(\"script\")},o}(e.Renderer),t=function(t){var e;return e=document.createElement(\"meta\"),e.setAttribute(\"name\",\"turbolinks-permanent-placeholder\"),e.setAttribute(\"content\",t.id),{element:e,permanentElement:t}},r=function(t,e){var r;return(r=t.parentNode)?r.replaceChild(e,t):void 0}}.call(this),function(){var t=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.ErrorRenderer=function(e){function r(t){var e;e=document.createElement(\"html\"),e.innerHTML=t,this.newHead=e.querySelector(\"head\"),this.newBody=e.querySelector(\"body\")}return t(r,e),r.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}}(this))},r.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},r.prototype.activateBodyScriptElements=function(){var t,e,r,n,o,i;for(n=this.getScriptElements(),i=[],e=0,r=n.length;r>e;e++)o=n[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},r.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll(\"script\")},r}(e.Renderer)}.call(this),function(){e.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return e.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var r,n,o;return o=t.snapshot,r=t.error,n=t.isPreview,this.markAsPreview(n),null!=o?this.renderSnapshot(o,n,e):this.renderError(r,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute(\"data-turbolinks-preview\",\"\"):this.htmlElement.removeAttribute(\"data-turbolinks-preview\")},t.prototype.renderSnapshot=function(t,r,n){return e.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),e.Snapshot.wrap(t),r)},t.prototype.renderError=function(t,r){return e.ErrorRenderer.render(this.delegate,r,t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ScrollManager=function(){function r(r){this.delegate=r,this.onScroll=t(this.onScroll,this),this.onScroll=e.throttle(this.onScroll)}return r.prototype.start=function(){return this.started?void 0:(addEventListener(\"scroll\",this.onScroll,!1),this.onScroll(),this.started=!0)},r.prototype.stop=function(){return this.started?(removeEventListener(\"scroll\",this.onScroll,!1),this.started=!1):void 0},r.prototype.scrollToElement=function(t){return t.scrollIntoView()},r.prototype.scrollToPosition=function(t){var e,r;return e=t.x,r=t.y,window.scrollTo(e,r)},r.prototype.onScroll=function(t){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},r.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},r}()}.call(this),function(){e.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var r;return t.prototype.has=function(t){var e;return e=r(t),e in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=r(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=r(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=r(t),e=this.keys.indexOf(n),e>-1&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,r,n,o;for(n=this.keys.splice(this.size),o=[],t=0,r=n.length;r>t;t++)e=n[t],o.push(delete this.snapshots[e]);return o},r=function(t){return e.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Visit=function(){function r(r,n,o){this.controller=r,this.action=o,this.performScroll=t(this.performScroll,this),this.identifier=e.uuid(),this.location=e.Location.wrap(n),this.adapter=this.controller.adapter,this.state=\"initialized\",this.timingMetrics={}}var n;return r.prototype.start=function(){return\"initialized\"===this.state?(this.recordTimingMetric(\"visitStart\"),this.state=\"started\",this.adapter.visitStarted(this)):void 0},r.prototype.cancel=function(){var t;return\"started\"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state=\"canceled\"):void 0},r.prototype.complete=function(){var t;return\"started\"===this.state?(this.recordTimingMetric(\"visitEnd\"),this.state=\"completed\",\"function\"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},r.prototype.fail=function(){var t;return\"started\"===this.state?(this.state=\"failed\",\"function\"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},r.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?\"replace\":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},r.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new e.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},r.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||\"restore\"!==this.action&&!t.isPreviewable()?void 0:t},r.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},r.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var r;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),\"function\"==typeof(r=this.adapter).visitRendered&&r.visitRendered(this),t?void 0:this.complete()})):void 0},r.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),\"function\"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),\"function\"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},r.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},r.prototype.requestStarted=function(){var t;return this.recordTimingMetric(\"requestStart\"),\"function\"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},r.prototype.requestProgressed=function(t){var e;return this.progress=t,\"function\"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},r.prototype.requestCompletedWithResponse=function(t,r){return this.response=t,null!=r&&(this.redirectedToLocation=e.Location.wrap(r)),this.adapter.visitRequestCompleted(this)},r.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},r.prototype.requestFinished=function(){var t;return this.recordTimingMetric(\"requestEnd\"),\"function\"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},r.prototype.performScroll=function(){return this.scrolled?void 0:(\"restore\"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},r.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},r.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},r.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},r.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},r.prototype.getTimingMetrics=function(){return e.copyObject(this.timingMetrics)},n=function(t){switch(t){case\"replace\":return\"replaceHistoryWithLocationAndRestorationIdentifier\";case\"advance\":case\"restore\":return\"pushHistoryWithLocationAndRestorationIdentifier\"}},r.prototype.shouldIssueRequest=function(){return\"restore\"===this.action?!this.hasCachedSnapshot():!0},r.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},r.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},r.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},r}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Controller=function(){function r(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new e.History(this),this.view=new e.View(this),this.scrollManager=new e.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return r.prototype.start=function(){return e.supported&&!this.started?(addEventListener(\"click\",this.clickCaptured,!0),addEventListener(\"DOMContentLoaded\",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},r.prototype.disable=function(){return this.enabled=!1},r.prototype.stop=function(){return this.started?(removeEventListener(\"click\",this.clickCaptured,!0),removeEventListener(\"DOMContentLoaded\",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},r.prototype.clearCache=function(){return this.cache=new e.SnapshotCache(10)},r.prototype.visit=function(t,r){var n,o;return null==r&&(r={}),t=e.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(o=r.action)?o:\"advance\",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},r.prototype.startVisitToLocationWithAction=function(t,r,n){var o;return e.supported?(o=this.getRestorationDataForIdentifier(n),this.startVisit(t,r,{restorationData:o})):window.location=t},r.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},r.prototype.startHistory=function(){return this.location=e.Location.wrap(window.location),this.restorationIdentifier=e.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.stopHistory=function(){return this.history.stop()},r.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,r){return this.restorationIdentifier=r,this.location=e.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},r.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,r){return this.restorationIdentifier=r,this.location=e.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,r){var n;return this.restorationIdentifier=r,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,\"restore\",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=e.Location.wrap(t)):this.adapter.pageInvalidated()},r.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},r.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable();\n},r.prototype.cacheSnapshot=function(){var t,r;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),r=this.view.getSnapshot(),t=this.lastRenderedLocation,e.defer(function(e){return function(){return e.cache.put(t,r.clone())}}(this))):void 0},r.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},r.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},r.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},r.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},r.prototype.render=function(t,e){return this.view.render(t,e)},r.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},r.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},r.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},r.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},r.prototype.clickCaptured=function(){return removeEventListener(\"click\",this.clickBubbled,!1),addEventListener(\"click\",this.clickBubbled,!1)},r.prototype.clickBubbled=function(t){var e,r,n;return this.enabled&&this.clickEventIsSignificant(t)&&(r=this.getVisitableLinkForNode(t.target))&&(n=this.getVisitableLocationForLink(r))&&this.applicationAllowsFollowingLinkToLocation(r,n)?(t.preventDefault(),e=this.getActionForLink(r),this.visit(n,{action:e})):void 0},r.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var r;return r=this.notifyApplicationAfterClickingLinkToLocation(t,e),!r.defaultPrevented},r.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},r.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,r){return e.dispatch(\"turbolinks:click\",{target:t,data:{url:r.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationBeforeVisitingLocation=function(t){return e.dispatch(\"turbolinks:before-visit\",{data:{url:t.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationAfterVisitingLocation=function(t){return e.dispatch(\"turbolinks:visit\",{data:{url:t.absoluteURL}})},r.prototype.notifyApplicationBeforeCachingSnapshot=function(){return e.dispatch(\"turbolinks:before-cache\")},r.prototype.notifyApplicationBeforeRender=function(t){return e.dispatch(\"turbolinks:before-render\",{data:{newBody:t}})},r.prototype.notifyApplicationAfterRender=function(){return e.dispatch(\"turbolinks:render\")},r.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),e.dispatch(\"turbolinks:load\",{data:{url:this.location.absoluteURL,timing:t}})},r.prototype.startVisit=function(t,e,r){var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(t,e,r),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},r.prototype.createVisit=function(t,r,n){var o,i,s,a,u;return i=null!=n?n:{},a=i.restorationIdentifier,s=i.restorationData,o=i.historyChanged,u=new e.Visit(this,t,r),u.restorationIdentifier=null!=a?a:e.uuid(),u.restorationData=e.copyObject(s),u.historyChanged=o,u.referrer=this.location,u},r.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},r.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},r.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?e.closest(t,\"a[href]:not([target]):not([download])\"):void 0},r.prototype.getVisitableLocationForLink=function(t){var r;return r=new e.Location(t.getAttribute(\"href\")),this.locationIsVisitable(r)?r:void 0},r.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute(\"data-turbolinks-action\"))?e:\"advance\"},r.prototype.nodeIsVisitable=function(t){var r;return(r=e.closest(t,\"[data-turbolinks]\"))?\"false\"!==r.getAttribute(\"data-turbolinks\"):!0},r.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},r.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},r.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},r}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute(\"data-turbolinks-suppress-warning\"))for(;t=t.parentNode;)if(t===document.body)return console.warn(\"You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\\n\\nLoad your application\\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\\n\\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\\n\\n\\u2014\\u2014\\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s\",e.outerHTML)}()}.call(this),function(){var t,r,n;e.start=function(){return r()?(null==e.controller&&(e.controller=t()),e.controller.start()):void 0},r=function(){return null==window.Turbolinks&&(window.Turbolinks=e),n()},t=function(){var t;return t=new e.Controller,t.adapter=new e.BrowserAdapter(t),t},n=function(){return window.Turbolinks===e},n()&&e.start()}.call(this)}).call(this),\"object\"==typeof module&&module.exports?module.exports=e:\"function\"==typeof define&&define.amd&&define(e)}).call(this);","/** handorgel v0.4.9, @license MIT */\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar evEmitter = createCommonjsModule(function (module) {\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : commonjsGlobal, function() {\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i];\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n});\n\n/**\n * Request animation frame polyfill method.\n *\n * @see https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n * @see https://developer.mozilla.org/de/docs/Web/API/window/requestAnimationFrame\n */\nvar rAF = function () {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n}();\n/**\n * Check if given value is undefined.\n *\n * @param   {*} value - Value to check.\n * @returns {Boolean}\n */\n\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n/**\n * Check if an object's property could be overridden.\n *\n * @source riot.js\n * @see https://github.com/riot/riot/blob/master/lib/browser/common/util/check.js\n *\n * @param   {Object} obj -\n * @param   {String} key -\n * @returns {Boolean}\n */\n\nfunction isWritable(obj, key) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, key);\n  return isUndefined(obj[key]) || descriptor && descriptor.writable;\n}\n/**\n * Extend any object with other properties.\n *\n * @source riot.js\n * @see https://github.com/riot/riot/blob/master/lib/browser/common/util/misc.js\n *\n * @param   {Object} src - Source object.\n * @returns {Object} The resulting extended object.\n *\n * @example\n * let obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\n\nfunction extend(src) {\n  var obj;\n  var args = arguments;\n\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key)) src[key] = obj[key];\n      }\n    }\n  }\n\n  return src;\n}\n\nvar ID_COUNTER = {};\nvar ARIA_ATTRIBUTES = {\n  button: {\n    'aria-controls': function ariaControls() {\n      return this.id + '-content';\n    },\n    'aria-expanded': function ariaExpanded() {\n      return this.expanded ? 'true' : 'false';\n    },\n    'aria-disabled': function ariaDisabled() {\n      return this.disabled ? 'true' : 'false';\n    }\n  },\n  content: {\n    role: function role() {\n      return 'region';\n    },\n    'aria-labelledby': function ariaLabelledby() {\n      return this.id + '-header';\n    }\n  }\n};\nvar KEYS = {\n  arrowDown: 40,\n  arrowUp: 38,\n  pageUp: 33,\n  pageDown: 34,\n  end: 35,\n  home: 36\n};\n\nvar HandorgelFold =\n/*#__PURE__*/\nfunction () {\n  function HandorgelFold(handorgel, header, content) {\n    _classCallCheck(this, HandorgelFold);\n\n    if (header.handorgelFold) {\n      return;\n    }\n\n    this.handorgel = handorgel;\n    this.header = header;\n    this.button = header.firstElementChild;\n    this.content = content;\n    this.header.handorgelFold = this;\n    this.content.handorgelFold = this;\n\n    if (!ID_COUNTER[this.handorgel.id]) {\n      ID_COUNTER[this.handorgel.id] = 0;\n    }\n\n    this.id = \"\".concat(this.handorgel.id, \"-fold\").concat(++ID_COUNTER[this.handorgel.id]);\n    this.header.setAttribute('id', this.id + '-header');\n    this.content.setAttribute('id', this.id + '-content');\n    this.focused = false;\n    this.expanded = false;\n    this.disabled = false;\n    this._listeners = {};\n\n    this._bindEvents();\n\n    this._initAria();\n\n    this._initialOpen();\n\n    this._initialFocus();\n  }\n\n  _createClass(HandorgelFold, [{\n    key: \"open\",\n    value: function open() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.expanded) {\n        return;\n      }\n\n      this.handorgel.emitEvent('fold:open', [this]);\n      this.expanded = true;\n\n      if (!this.handorgel.options.collapsible) {\n        this.disable();\n      }\n\n      this._updateAria('button', 'aria-expanded');\n\n      this.header.classList.add(this.handorgel.options.headerOpenClass);\n      this.content.classList.add(this.handorgel.options.contentOpenClass);\n      this.resize(transition);\n\n      if (!transition) {\n        this._opened();\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (!this.expanded) {\n        return;\n      }\n\n      this.handorgel.emitEvent('fold:close', [this]);\n      this.expanded = false;\n\n      if (!this.handorgel.options.collapsible) {\n        this.enable();\n      }\n\n      this._updateAria('button', 'aria-expanded');\n\n      this.header.classList.remove(this.handorgel.options.headerOpenedClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenedClass);\n      this.resize(transition);\n\n      if (!transition) {\n        this._closed();\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.disabled = true;\n\n      this._updateAria('button', 'aria-disabled');\n\n      this.header.classList.add(this.handorgel.options.headerDisabledClass);\n      this.content.classList.add(this.handorgel.options.contentDisabledClass);\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.disabled = false;\n\n      this._updateAria('button', 'aria-disabled');\n\n      this.header.classList.remove(this.handorgel.options.headerDisabledClass);\n      this.content.classList.remove(this.handorgel.options.contentDisabledClass);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.button.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.button.blur();\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.expanded) {\n        this.close(transition);\n      } else {\n        this.open(transition);\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this = this;\n\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var height = 0;\n\n      if (!transition) {\n        this.header.classList.add(this.handorgel.options.headerNoTransitionClass);\n        this.content.classList.add(this.handorgel.options.contentNoTransitionClass);\n      }\n\n      if (this.expanded) {\n        height = this.content.firstElementChild.offsetHeight;\n      }\n\n      this.content.style.height = height + 'px';\n\n      if (!transition) {\n        rAF(function () {\n          _this.header.classList.remove(_this.handorgel.options.headerNoTransitionClass);\n\n          _this.content.classList.remove(_this.handorgel.options.contentNoTransitionClass);\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindEvents();\n\n      this._cleanAria(); // clean classes\n\n\n      this.header.classList.remove(this.handorgel.options.headerOpenClass);\n      this.header.classList.remove(this.handorgel.options.headerOpenedClass);\n      this.header.classList.remove(this.handorgel.options.headerFocusClass);\n      this.header.classList.remove(this.handorgel.options.headerNoTransitionClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenedClass);\n      this.content.classList.remove(this.handorgel.options.contentFocusClass);\n      this.content.classList.remove(this.handorgel.options.contentNoTransitionClass); // hide content\n\n      this.content.style.height = '0px'; // clean reference to this instance\n\n      this.header.handorgelFold = null;\n      this.content.handorgelFold = null; // remove ids\n\n      this.header.removeAttribute('id');\n      this.content.removeAttribute('id'); // clean reference to handorgel instance\n\n      this.handorgel = null;\n    }\n  }, {\n    key: \"_opened\",\n    value: function _opened() {\n      this.header.classList.add(this.handorgel.options.headerOpenedClass);\n      this.content.classList.add(this.handorgel.options.contentOpenedClass);\n      this.handorgel.emitEvent('fold:opened', [this]);\n    }\n  }, {\n    key: \"_closed\",\n    value: function _closed() {\n      this.header.classList.remove(this.handorgel.options.headerOpenClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenClass);\n      this.handorgel.emitEvent('fold:closed', [this]);\n    }\n  }, {\n    key: \"_initialOpen\",\n    value: function _initialOpen() {\n      var _this2 = this;\n\n      if (this.header.getAttribute(this.handorgel.options.initialOpenAttribute) !== null || this.content.getAttribute(this.handorgel.options.initialOpenAttribute) !== null) {\n        if (this.handorgel.options.initialOpenTransition) {\n          window.setTimeout(function () {\n            _this2.open();\n          }, this.handorgel.options.initialOpenTransitionDelay);\n        } else {\n          this.open(false);\n        }\n      }\n    }\n  }, {\n    key: \"_initialFocus\",\n    value: function _initialFocus() {\n      if (this.button.getAttribute('autofocus') === null) {\n        return;\n      } // to ensure focus styles if autofocus was applied\n      // before focus listener was added\n\n\n      this._handleFocus();\n    }\n  }, {\n    key: \"_initAria\",\n    value: function _initAria() {\n      this._updateAria('button');\n\n      this._updateAria('content');\n    }\n  }, {\n    key: \"_cleanAria\",\n    value: function _cleanAria() {\n      this._updateAria('button', null, true);\n\n      this._updateAria('content', null, true);\n    }\n  }, {\n    key: \"_updateAria\",\n    value: function _updateAria(element) {\n      var property = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var remove = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (!this.handorgel.options.ariaEnabled) {\n        return;\n      }\n\n      if (property) {\n        var newValue = ARIA_ATTRIBUTES[element][property].call(this);\n        this[element].setAttribute(property, newValue);\n      } else {\n        for (var _property in ARIA_ATTRIBUTES[element]) {\n          if (ARIA_ATTRIBUTES[element].hasOwnProperty(_property)) {\n            if (remove) {\n              this[element].removeAttribute(_property);\n            } else {\n              var _newValue = ARIA_ATTRIBUTES[element][_property].call(this);\n\n              this[element].setAttribute(_property, _newValue);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_handleContentTransitionEnd\",\n    value: function _handleContentTransitionEnd(e) {\n      if (e.target === e.currentTarget && e.propertyName === 'height') {\n        this.handorgel.resize(true);\n\n        if (this.expanded) {\n          this._opened();\n        } else {\n          this._closed();\n        }\n      }\n    }\n  }, {\n    key: \"_handleFocus\",\n    value: function _handleFocus() {\n      this.focused = true;\n      this.header.classList.add(this.handorgel.options.headerFocusClass);\n      this.content.classList.add(this.handorgel.options.contentFocusClass);\n      this.handorgel.emitEvent('fold:focus', [this]);\n    }\n  }, {\n    key: \"_handleBlur\",\n    value: function _handleBlur() {\n      this.focused = false;\n      this.header.classList.remove(this.handorgel.options.headerFocusClass);\n      this.content.classList.remove(this.handorgel.options.contentFocusClass);\n      this.handorgel.emitEvent('fold:blur', [this]);\n    }\n  }, {\n    key: \"_handleButtonClick\",\n    value: function _handleButtonClick(e) {\n      // ensure focus is on button (click is not seting focus on firefox mac)\n      this.focus();\n\n      if (this.disabled) {\n        return;\n      }\n\n      this.toggle();\n    }\n  }, {\n    key: \"_handleButtonKeydown\",\n    value: function _handleButtonKeydown(e) {\n      if (!this.handorgel.options.keyboardInteraction) {\n        return;\n      }\n\n      var action = null;\n\n      switch (e.which) {\n        case KEYS.arrowDown:\n          action = 'next';\n          break;\n\n        case KEYS.arrowUp:\n          action = 'prev';\n          break;\n\n        case KEYS.home:\n          action = 'first';\n          break;\n\n        case KEYS.end:\n          action = 'last';\n          break;\n\n        case KEYS.pageDown:\n          if (e.ctrlKey) {\n            action = 'next';\n          }\n\n          break;\n\n        case KEYS.pageUp:\n          if (e.ctrlKey) {\n            action = 'prev';\n          }\n\n          break;\n      }\n\n      if (action) {\n        e.preventDefault();\n        this.handorgel.focus(action);\n      }\n    }\n  }, {\n    key: \"_handleContentKeydown\",\n    value: function _handleContentKeydown(e) {\n      if (!this.handorgel.options.keyboardInteraction || !e.ctrlKey) {\n        return;\n      }\n\n      var action = null;\n\n      switch (e.which) {\n        case KEYS.pageDown:\n          action = 'next';\n          break;\n\n        case KEYS.pageUp:\n          action = 'prev';\n          break;\n      }\n\n      if (action) {\n        e.preventDefault();\n        this.handorgel.focus(action);\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      this._listeners = {\n        // button listeners\n        bFocus: ['focus', this.button, this._handleFocus.bind(this)],\n        bBlur: ['blur', this.button, this._handleBlur.bind(this)],\n        bClick: ['click', this.button, this._handleButtonClick.bind(this)],\n        bKeydown: ['keydown', this.button, this._handleButtonKeydown.bind(this)],\n        // content listeners\n        cKeydown: ['keydown', this.content, this._handleContentKeydown.bind(this)],\n        cTransition: ['transitionend', this.content, this._handleContentTransitionEnd.bind(this)]\n      };\n\n      for (var key in this._listeners) {\n        if (this._listeners.hasOwnProperty(key)) {\n          var listener = this._listeners[key];\n          listener[1].addEventListener(listener[0], listener[2]);\n        }\n      }\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      for (var key in this._listeners) {\n        if (this._listeners.hasOwnProperty(key)) {\n          var listener = this._listeners[key];\n          listener[1].removeEventListener(listener[0], listener[2]);\n        }\n      }\n    }\n  }]);\n\n  return HandorgelFold;\n}();\n\nvar ID_COUNTER$1 = 0;\n\nvar Handorgel =\n/*#__PURE__*/\nfunction () {\n  function Handorgel(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Handorgel);\n\n    if (element.handorgel) {\n      return;\n    }\n\n    this.element = element;\n    this.element.handorgel = this;\n    this.id = \"handorgel\".concat(++ID_COUNTER$1);\n    this.element.setAttribute('id', this.id);\n    this.folds = [];\n    this.options = extend({}, Handorgel.defaultOptions, options);\n    this._listeners = {};\n    this._resizing = false;\n\n    this._bindEvents();\n\n    this._initAria();\n\n    this.update();\n  }\n\n  _createClass(Handorgel, [{\n    key: \"update\",\n    value: function update() {\n      this.folds = [];\n      var children = this.element.children;\n\n      for (var i = 0, childrenLength = children.length; i < childrenLength; i = i + 2) {\n        var header = children[i];\n        var content = children[i + 1]; // get fold instance if there is already one\n\n        var fold = header.handorgelFold; // create new one when header and content exist\n\n        if (!fold && header && content) {\n          fold = new HandorgelFold(this, header, content);\n        }\n\n        if (fold) {\n          this.folds.push(fold);\n        }\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      // resize each fold\n      this.folds.forEach(function (fold) {\n        fold.resize(transition);\n      });\n      this._resizing = false;\n    }\n  }, {\n    key: \"focus\",\n    value: function focus(target) {\n      var foldsLength = this.folds.length;\n      var currentFocusedIndex = null;\n\n      for (var i = 0; i < foldsLength && currentFocusedIndex === null; i++) {\n        if (this.folds[i].focused) currentFocusedIndex = i;\n      }\n\n      if ((target === 'prev' || target === 'next') && currentFocusedIndex === null) {\n        target = target === 'prev' ? 'last' : 'first';\n      }\n\n      if (target === 'prev' && currentFocusedIndex === 0) {\n        if (!this.options.carouselFocus) return;\n        target = 'last';\n      }\n\n      if (target === 'next' && currentFocusedIndex === foldsLength - 1) {\n        if (!this.options.carouselFocus) return;\n        target = 'first';\n      }\n\n      switch (target) {\n        case 'prev':\n          this.folds[--currentFocusedIndex].focus();\n          break;\n\n        case 'next':\n          this.folds[++currentFocusedIndex].focus();\n          break;\n\n        case 'last':\n          this.folds[foldsLength - 1].focus();\n          break;\n\n        case 'first':\n        default:\n          this.folds[0].focus();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.emitEvent('destroy');\n      this.element.removeAttribute('id');\n      this.folds.forEach(function (fold) {\n        fold.destroy();\n      });\n\n      this._unbindEvents();\n\n      this._cleanAria(); // clean reference to handorgel instance\n\n\n      this.element.handorgel = null;\n      this.emitEvent('destroyed');\n    }\n  }, {\n    key: \"_handleFoldOpen\",\n    value: function _handleFoldOpen(openFold) {\n      if (this.options.multiSelectable) {\n        return;\n      }\n\n      this.folds.forEach(function (fold) {\n        if (openFold !== fold) {\n          fold.close();\n        }\n      });\n    }\n  }, {\n    key: \"_handleResize\",\n    value: function _handleResize() {\n      var _this = this;\n\n      if (!this._resizing) {\n        this._resizing = true;\n        rAF(function () {\n          _this.resize();\n        });\n      }\n    }\n  }, {\n    key: \"_initAria\",\n    value: function _initAria() {\n      if (!this.options.ariaEnabled) {\n        return;\n      }\n\n      if (this.options.multiSelectable) {\n        this.element.setAttribute('aria-multiselectable', 'true');\n      }\n    }\n  }, {\n    key: \"_cleanAria\",\n    value: function _cleanAria() {\n      this.element.removeAttribute('aria-multiselectable');\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      this._listeners.resize = this._handleResize.bind(this);\n      window.addEventListener('resize', this._listeners.resize);\n      this._listeners.foldOpen = this._handleFoldOpen.bind(this);\n      this.on('fold:open', this._listeners.foldOpen);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      window.removeEventListener('resize', this._listeners.resize);\n      this.off('fold:open', this._listeners.foldOpen);\n    }\n  }]);\n\n  return Handorgel;\n}(); // extend the prototype manually to fix IE10\nextend(Handorgel.prototype, evEmitter.prototype);\nHandorgel.defaultOptions = {\n  keyboardInteraction: true,\n  multiSelectable: true,\n  ariaEnabled: true,\n  collapsible: true,\n  carouselFocus: true,\n  initialOpenAttribute: 'data-open',\n  initialOpenTransition: true,\n  initialOpenTransitionDelay: 200,\n  headerOpenClass: 'handorgel__header--open',\n  contentOpenClass: 'handorgel__content--open',\n  headerOpenedClass: 'handorgel__header--opened',\n  contentOpenedClass: 'handorgel__content--opened',\n  headerDisabledClass: 'handorgel__header--disabled',\n  contentDisabledClass: 'handorgel__content--disabled',\n  headerFocusClass: 'handorgel__header--focus',\n  contentFocusClass: 'handorgel__content--focus',\n  headerNoTransitionClass: 'handorgel__header--notransition',\n  contentNoTransitionClass: 'handorgel__content--notransition'\n};\n\nexport default Handorgel;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./loader\"));\n//# sourceMappingURL=index.js.map","/*!\n * Flickity v2.2.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2019 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      './drag',\n      './prev-next-button',\n      './page-dots',\n      './player',\n      './add-remove-cell',\n      './lazyload'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('./flickity'),\n      require('./drag'),\n      require('./prev-next-button'),\n      require('./page-dots'),\n      require('./player'),\n      require('./add-remove-cell'),\n      require('./lazyload')\n    );\n  }\n\n})( window, function factory( Flickity ) {\n  /*jshint strict: false*/\n  return Flickity;\n});\n","/*!\n * Isotope v3.0.6\n *\n * Licensed GPLv3 for open source use\n * or Isotope Commercial License for commercial use\n *\n * https://isotope.metafizzy.co\n * Copyright 2010-2018 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size',\n        'desandro-matches-selector/matches-selector',\n        'fizzy-ui-utils/utils',\n        './item',\n        './layout-mode',\n        // include default layout modes\n        './layout-modes/masonry',\n        './layout-modes/fit-rows',\n        './layout-modes/vertical'\n      ],\n      function( Outlayer, getSize, matchesSelector, utils, Item, LayoutMode ) {\n        return factory( window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode );\n      });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('outlayer'),\n      require('get-size'),\n      require('desandro-matches-selector'),\n      require('fizzy-ui-utils'),\n      require('./item'),\n      require('./layout-mode'),\n      // include default layout modes\n      require('./layout-modes/masonry'),\n      require('./layout-modes/fit-rows'),\n      require('./layout-modes/vertical')\n    );\n  } else {\n    // browser global\n    window.Isotope = factory(\n      window,\n      window.Outlayer,\n      window.getSize,\n      window.matchesSelector,\n      window.fizzyUIUtils,\n      window.Isotope.Item,\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( window, Outlayer, getSize, matchesSelector, utils,\n  Item, LayoutMode ) {\n\n'use strict';\n\n// -------------------------- vars -------------------------- //\n\nvar jQuery = window.jQuery;\n\n// -------------------------- helpers -------------------------- //\n\nvar trim = String.prototype.trim ?\n  function( str ) {\n    return str.trim();\n  } :\n  function( str ) {\n    return str.replace( /^\\s+|\\s+$/g, '' );\n  };\n\n// -------------------------- isotopeDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Isotope = Outlayer.create( 'isotope', {\n    layoutMode: 'masonry',\n    isJQueryFiltering: true,\n    sortAscending: true\n  });\n\n  Isotope.Item = Item;\n  Isotope.LayoutMode = LayoutMode;\n\n  var proto = Isotope.prototype;\n\n  proto._create = function() {\n    this.itemGUID = 0;\n    // functions that sort items\n    this._sorters = {};\n    this._getSorters();\n    // call super\n    Outlayer.prototype._create.call( this );\n\n    // create layout modes\n    this.modes = {};\n    // start filteredItems with all items\n    this.filteredItems = this.items;\n    // keep of track of sortBys\n    this.sortHistory = [ 'original-order' ];\n    // create from registered layout modes\n    for ( var name in LayoutMode.modes ) {\n      this._initLayoutMode( name );\n    }\n  };\n\n  proto.reloadItems = function() {\n    // reset item ID counter\n    this.itemGUID = 0;\n    // call super\n    Outlayer.prototype.reloadItems.call( this );\n  };\n\n  proto._itemize = function() {\n    var items = Outlayer.prototype._itemize.apply( this, arguments );\n    // assign ID for original-order\n    for ( var i=0; i < items.length; i++ ) {\n      var item = items[i];\n      item.id = this.itemGUID++;\n    }\n    this._updateItemsSortData( items );\n    return items;\n  };\n\n\n  // -------------------------- layout -------------------------- //\n\n  proto._initLayoutMode = function( name ) {\n    var Mode = LayoutMode.modes[ name ];\n    // set mode options\n    // HACK extend initial options, back-fill in default options\n    var initialOpts = this.options[ name ] || {};\n    this.options[ name ] = Mode.options ?\n      utils.extend( Mode.options, initialOpts ) : initialOpts;\n    // init layout mode instance\n    this.modes[ name ] = new Mode( this );\n  };\n\n\n  proto.layout = function() {\n    // if first time doing layout, do all magic\n    if ( !this._isLayoutInited && this._getOption('initLayout') ) {\n      this.arrange();\n      return;\n    }\n    this._layout();\n  };\n\n  // private method to be used in layout() & magic()\n  proto._layout = function() {\n    // don't animate first layout\n    var isInstant = this._getIsInstant();\n    // layout flow\n    this._resetLayout();\n    this._manageStamps();\n    this.layoutItems( this.filteredItems, isInstant );\n\n    // flag for initalized\n    this._isLayoutInited = true;\n  };\n\n  // filter + sort + layout\n  proto.arrange = function( opts ) {\n    // set any options pass\n    this.option( opts );\n    this._getIsInstant();\n    // filter, sort, and layout\n\n    // filter\n    var filtered = this._filter( this.items );\n    this.filteredItems = filtered.matches;\n\n    this._bindArrangeComplete();\n\n    if ( this._isInstant ) {\n      this._noTransition( this._hideReveal, [ filtered ] );\n    } else {\n      this._hideReveal( filtered );\n    }\n\n    this._sort();\n    this._layout();\n  };\n  // alias to _init for main plugin method\n  proto._init = proto.arrange;\n\n  proto._hideReveal = function( filtered ) {\n    this.reveal( filtered.needReveal );\n    this.hide( filtered.needHide );\n  };\n\n  // HACK\n  // Don't animate/transition first layout\n  // Or don't animate/transition other layouts\n  proto._getIsInstant = function() {\n    var isLayoutInstant = this._getOption('layoutInstant');\n    var isInstant = isLayoutInstant !== undefined ? isLayoutInstant :\n      !this._isLayoutInited;\n    this._isInstant = isInstant;\n    return isInstant;\n  };\n\n  // listen for layoutComplete, hideComplete and revealComplete\n  // to trigger arrangeComplete\n  proto._bindArrangeComplete = function() {\n    // listen for 3 events to trigger arrangeComplete\n    var isLayoutComplete, isHideComplete, isRevealComplete;\n    var _this = this;\n    function arrangeParallelCallback() {\n      if ( isLayoutComplete && isHideComplete && isRevealComplete ) {\n        _this.dispatchEvent( 'arrangeComplete', null, [ _this.filteredItems ] );\n      }\n    }\n    this.once( 'layoutComplete', function() {\n      isLayoutComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once( 'hideComplete', function() {\n      isHideComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once( 'revealComplete', function() {\n      isRevealComplete = true;\n      arrangeParallelCallback();\n    });\n  };\n\n  // -------------------------- filter -------------------------- //\n\n  proto._filter = function( items ) {\n    var filter = this.options.filter;\n    filter = filter || '*';\n    var matches = [];\n    var hiddenMatched = [];\n    var visibleUnmatched = [];\n\n    var test = this._getFilterTest( filter );\n\n    // test each item\n    for ( var i=0; i < items.length; i++ ) {\n      var item = items[i];\n      if ( item.isIgnored ) {\n        continue;\n      }\n      // add item to either matched or unmatched group\n      var isMatched = test( item );\n      // item.isFilterMatched = isMatched;\n      // add to matches if its a match\n      if ( isMatched ) {\n        matches.push( item );\n      }\n      // add to additional group if item needs to be hidden or revealed\n      if ( isMatched && item.isHidden ) {\n        hiddenMatched.push( item );\n      } else if ( !isMatched && !item.isHidden ) {\n        visibleUnmatched.push( item );\n      }\n    }\n\n    // return collections of items to be manipulated\n    return {\n      matches: matches,\n      needReveal: hiddenMatched,\n      needHide: visibleUnmatched\n    };\n  };\n\n  // get a jQuery, function, or a matchesSelector test given the filter\n  proto._getFilterTest = function( filter ) {\n    if ( jQuery && this.options.isJQueryFiltering ) {\n      // use jQuery\n      return function( item ) {\n        return jQuery( item.element ).is( filter );\n      };\n    }\n    if ( typeof filter == 'function' ) {\n      // use filter as function\n      return function( item ) {\n        return filter( item.element );\n      };\n    }\n    // default, use filter as selector string\n    return function( item ) {\n      return matchesSelector( item.element, filter );\n    };\n  };\n\n  // -------------------------- sorting -------------------------- //\n\n  /**\n   * @params {Array} elems\n   * @public\n   */\n  proto.updateSortData = function( elems ) {\n    // get items\n    var items;\n    if ( elems ) {\n      elems = utils.makeArray( elems );\n      items = this.getItems( elems );\n    } else {\n      // update all items if no elems provided\n      items = this.items;\n    }\n\n    this._getSorters();\n    this._updateItemsSortData( items );\n  };\n\n  proto._getSorters = function() {\n    var getSortData = this.options.getSortData;\n    for ( var key in getSortData ) {\n      var sorter = getSortData[ key ];\n      this._sorters[ key ] = mungeSorter( sorter );\n    }\n  };\n\n  /**\n   * @params {Array} items - of Isotope.Items\n   * @private\n   */\n  proto._updateItemsSortData = function( items ) {\n    // do not update if no items\n    var len = items && items.length;\n\n    for ( var i=0; len && i < len; i++ ) {\n      var item = items[i];\n      item.updateSortData();\n    }\n  };\n\n  // ----- munge sorter ----- //\n\n  // encapsulate this, as we just need mungeSorter\n  // other functions in here are just for munging\n  var mungeSorter = ( function() {\n    // add a magic layer to sorters for convienent shorthands\n    // `.foo-bar` will use the text of .foo-bar querySelector\n    // `[foo-bar]` will use attribute\n    // you can also add parser\n    // `.foo-bar parseInt` will parse that as a number\n    function mungeSorter( sorter ) {\n      // if not a string, return function or whatever it is\n      if ( typeof sorter != 'string' ) {\n        return sorter;\n      }\n      // parse the sorter string\n      var args = trim( sorter ).split(' ');\n      var query = args[0];\n      // check if query looks like [an-attribute]\n      var attrMatch = query.match( /^\\[(.+)\\]$/ );\n      var attr = attrMatch && attrMatch[1];\n      var getValue = getValueGetter( attr, query );\n      // use second argument as a parser\n      var parser = Isotope.sortDataParsers[ args[1] ];\n      // parse the value, if there was a parser\n      sorter = parser ? function( elem ) {\n        return elem && parser( getValue( elem ) );\n      } :\n      // otherwise just return value\n      function( elem ) {\n        return elem && getValue( elem );\n      };\n\n      return sorter;\n    }\n\n    // get an attribute getter, or get text of the querySelector\n    function getValueGetter( attr, query ) {\n      // if query looks like [foo-bar], get attribute\n      if ( attr ) {\n        return function getAttribute( elem ) {\n          return elem.getAttribute( attr );\n        };\n      }\n\n      // otherwise, assume its a querySelector, and get its text\n      return function getChildText( elem ) {\n        var child = elem.querySelector( query );\n        return child && child.textContent;\n      };\n    }\n\n    return mungeSorter;\n  })();\n\n  // parsers used in getSortData shortcut strings\n  Isotope.sortDataParsers = {\n    'parseInt': function( val ) {\n      return parseInt( val, 10 );\n    },\n    'parseFloat': function( val ) {\n      return parseFloat( val );\n    }\n  };\n\n  // ----- sort method ----- //\n\n  // sort filteredItem order\n  proto._sort = function() {\n    if ( !this.options.sortBy ) {\n      return;\n    }\n    // keep track of sortBy History\n    var sortBys = utils.makeArray( this.options.sortBy );\n    if ( !this._getIsSameSortBy( sortBys ) ) {\n      // concat all sortBy and sortHistory, add to front, oldest goes in last\n      this.sortHistory = sortBys.concat( this.sortHistory );\n    }\n    // sort magic\n    var itemSorter = getItemSorter( this.sortHistory, this.options.sortAscending );\n    this.filteredItems.sort( itemSorter );\n  };\n\n  // check if sortBys is same as start of sortHistory\n  proto._getIsSameSortBy = function( sortBys ) {\n    for ( var i=0; i < sortBys.length; i++ ) {\n      if ( sortBys[i] != this.sortHistory[i] ) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  // returns a function used for sorting\n  function getItemSorter( sortBys, sortAsc ) {\n    return function sorter( itemA, itemB ) {\n      // cycle through all sortKeys\n      for ( var i = 0; i < sortBys.length; i++ ) {\n        var sortBy = sortBys[i];\n        var a = itemA.sortData[ sortBy ];\n        var b = itemB.sortData[ sortBy ];\n        if ( a > b || a < b ) {\n          // if sortAsc is an object, use the value given the sortBy key\n          var isAscending = sortAsc[ sortBy ] !== undefined ? sortAsc[ sortBy ] : sortAsc;\n          var direction = isAscending ? 1 : -1;\n          return ( a > b ? 1 : -1 ) * direction;\n        }\n      }\n      return 0;\n    };\n  }\n\n  // -------------------------- methods -------------------------- //\n\n  // get layout mode\n  proto._mode = function() {\n    var layoutMode = this.options.layoutMode;\n    var mode = this.modes[ layoutMode ];\n    if ( !mode ) {\n      // TODO console.error\n      throw new Error( 'No layout mode: ' + layoutMode );\n    }\n    // HACK sync mode's options\n    // any options set after init for layout mode need to be synced\n    mode.options = this.options[ layoutMode ];\n    return mode;\n  };\n\n  proto._resetLayout = function() {\n    // trigger original reset layout\n    Outlayer.prototype._resetLayout.call( this );\n    this._mode()._resetLayout();\n  };\n\n  proto._getItemLayoutPosition = function( item  ) {\n    return this._mode()._getItemLayoutPosition( item );\n  };\n\n  proto._manageStamp = function( stamp ) {\n    this._mode()._manageStamp( stamp );\n  };\n\n  proto._getContainerSize = function() {\n    return this._mode()._getContainerSize();\n  };\n\n  proto.needsResizeLayout = function() {\n    return this._mode().needsResizeLayout();\n  };\n\n  // -------------------------- adding & removing -------------------------- //\n\n  // HEADS UP overwrites default Outlayer appended\n  proto.appended = function( elems ) {\n    var items = this.addItems( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // filter, layout, reveal new items\n    var filteredItems = this._filterRevealAdded( items );\n    // add to filteredItems\n    this.filteredItems = this.filteredItems.concat( filteredItems );\n  };\n\n  // HEADS UP overwrites default Outlayer prepended\n  proto.prepended = function( elems ) {\n    var items = this._itemize( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // start new layout\n    this._resetLayout();\n    this._manageStamps();\n    // filter, layout, reveal new items\n    var filteredItems = this._filterRevealAdded( items );\n    // layout previous items\n    this.layoutItems( this.filteredItems );\n    // add to items and filteredItems\n    this.filteredItems = filteredItems.concat( this.filteredItems );\n    this.items = items.concat( this.items );\n  };\n\n  proto._filterRevealAdded = function( items ) {\n    var filtered = this._filter( items );\n    this.hide( filtered.needHide );\n    // reveal all new items\n    this.reveal( filtered.matches );\n    // layout new items, no transition\n    this.layoutItems( filtered.matches, true );\n    return filtered.matches;\n  };\n\n  /**\n   * Filter, sort, and layout newly-appended item elements\n   * @param {Array or NodeList or Element} elems\n   */\n  proto.insert = function( elems ) {\n    var items = this.addItems( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // append item elements\n    var i, item;\n    var len = items.length;\n    for ( i=0; i < len; i++ ) {\n      item = items[i];\n      this.element.appendChild( item.element );\n    }\n    // filter new stuff\n    var filteredInsertItems = this._filter( items ).matches;\n    // set flag\n    for ( i=0; i < len; i++ ) {\n      items[i].isLayoutInstant = true;\n    }\n    this.arrange();\n    // reset flag\n    for ( i=0; i < len; i++ ) {\n      delete items[i].isLayoutInstant;\n    }\n    this.reveal( filteredInsertItems );\n  };\n\n  var _remove = proto.remove;\n  proto.remove = function( elems ) {\n    elems = utils.makeArray( elems );\n    var removeItems = this.getItems( elems );\n    // do regular thing\n    _remove.call( this, elems );\n    // bail if no items to remove\n    var len = removeItems && removeItems.length;\n    // remove elems from filteredItems\n    for ( var i=0; len && i < len; i++ ) {\n      var item = removeItems[i];\n      // remove item from collection\n      utils.removeFrom( this.filteredItems, item );\n    }\n  };\n\n  proto.shuffle = function() {\n    // update random sortData\n    for ( var i=0; i < this.items.length; i++ ) {\n      var item = this.items[i];\n      item.sortData.random = Math.random();\n    }\n    this.options.sortBy = 'random';\n    this._sort();\n    this._layout();\n  };\n\n  /**\n   * trigger fn without transition\n   * kind of hacky to have this in the first place\n   * @param {Function} fn\n   * @param {Array} args\n   * @returns ret\n   * @private\n   */\n  proto._noTransition = function( fn, args ) {\n    // save transitionDuration before disabling\n    var transitionDuration = this.options.transitionDuration;\n    // disable transition\n    this.options.transitionDuration = 0;\n    // do it\n    var returnValue = fn.apply( this, args );\n    // re-enable transition for reveal\n    this.options.transitionDuration = transitionDuration;\n    return returnValue;\n  };\n\n  // ----- helper methods ----- //\n\n  /**\n   * getter method for getting filtered item elements\n   * @returns {Array} elems - collection of item elements\n   */\n  proto.getFilteredItemElements = function() {\n    return this.filteredItems.map( function( item ) {\n      return item.element;\n    });\n  };\n\n  // -----  ----- //\n\n  return Isotope;\n\n}));\n","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document, Date);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(typeof window != 'undefined' ?\n      window : {}, function l(window, document, Date) { // Pass in the windoe Date function also for SSR because the Date class can be lost\n\t'use strict';\n\t/*jshint eqnull:true */\n\n\tvar lazysizes, lazySizesCfg;\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesCfg)){\n\t\t\t\tlazySizesCfg[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tif (!document || !document.getElementsByClassName) {\n\t\treturn {\n\t\t\tinit: function () {},\n\t\t\tcfg: lazySizesCfg,\n\t\t\tnoSupport: true,\n\t\t};\n\t}\n\n\tvar docElem = document.documentElement;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\t/**\n\t * Update to bind to window because 'this' becomes null during SSR\n\t * builds.\n\t */\n\tvar addEventListener = window[_addEventListener].bind(window);\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesCfg.throttleDelay;\n\t\tvar rICTimeout = lazySizesCfg.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesCfg.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesCfg.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isVisible = function (elem) {\n\t\t\tif (isBodyHidden == null) {\n\t\t\t\tisBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n\t\t\t}\n\n\t\t\treturn isBodyHidden || !(getCSS(elem.parentNode, 'visibility') == 'hidden' && getCSS(elem, 'visibility') == 'hidden');\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = isVisible(elem);\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!defaultExpand) {\n\t\t\t\t\t\tdefaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?\n\t\t\t\t\t\t\tdocElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :\n\t\t\t\t\t\t\tlazySizesCfg.expand;\n\n\t\t\t\t\t\tlazysizes._defEx = defaultExpand;\n\n\t\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesCfg.expFactor;\n\t\t\t\t\t\thFac = lazySizesCfg.hFac;\n\t\t\t\t\t\tisBodyHidden = null;\n\n\t\t\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\t\t\tlowRuns = 0;\n\t\t\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\tvar elem = e.target;\n\n\t\t\tif (elem._lazyCache) {\n\t\t\t\tdelete elem._lazyCache;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresetPreloading(e);\n\t\t\taddClass(elem, lazySizesCfg.loadedClass);\n\t\t\tremoveClass(elem, lazySizesCfg.loadingClass);\n\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(elem, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\taddClass(elem, lazySizesCfg.loadingClass);\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesCfg.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\t// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n\t\t\t\tvar isLoaded = elem.complete && elem.naturalWidth > 1;\n\n\t\t\t\tif( !firesLoad || isLoaded){\n\t\t\t\t\tif (isLoaded) {\n\t\t\t\t\t\taddClass(elem, 'ls-is-cached');\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t\telem._lazyCache = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tif ('_lazyCache' in elem) {\n\t\t\t\t\t\t\tdelete elem._lazyCache;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9);\n\t\t\t\t}\n\t\t\t\tif (elem.loading == 'lazy') {\n\t\t\t\t\tisLoading--;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tif (elem._lazyRace) {return;}\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar afterScroll = debounce(function(){\n\t\t\tlazySizesCfg.loadMode = 3;\n\t\t\tthrottledCheckElements();\n\t\t});\n\n\t\tvar altLoadmodeScrollListner = function(){\n\t\t\tif(lazySizesCfg.loadMode == 3){\n\t\t\t\tlazySizesCfg.loadMode = 2;\n\t\t\t}\n\t\t\tafterScroll();\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesCfg.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', altLoadmodeScrollListner, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('pageshow', function (e) {\n\t\t\t\t\tif (e.persisted) {\n\t\t\t\t\t\tvar loadingElements = document.querySelectorAll('.' + lazySizesCfg.loadingClass);\n\n\t\t\t\t\t\tif (loadingElements.length && loadingElements.forEach) {\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tloadingElements.forEach( function (img) {\n\t\t\t\t\t\t\t\t\tif (img.complete) {\n\t\t\t\t\t\t\t\t\t\tunveilElement(img);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement,\n\t\t\t_aLSL: altLoadmodeScrollListner,\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i && document.getElementsByClassName){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tsetTimeout(function(){\n\t\tif(lazySizesCfg.init){\n\t\t\tinit();\n\t\t}\n\t});\n\n\tlazysizes = {\n\t\tcfg: lazySizesCfg,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","'use strict';\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  }\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","module.exports = false;\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar nativeFunctionToString = require('../internals/function-to-string');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(nativeFunctionToString.call(WeakMap));\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol() == 'symbol';\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","var map = {\n\t\"./carousel_controller.js\": 61,\n\t\"./faq_controller.js\": 62,\n\t\"./map_controller.js\": 63,\n\t\"./menu_controller.js\": 65,\n\t\"./newsSlider_controller.js\": 66,\n\t\"./programmeGrid_controller.js\": 77\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 60;","import { Controller } from 'stimulus'\nimport handorgel from 'handorgel'\n\nexport default class extends Controller {\n  static targets = [ 'content' ]  \n\n  connect () {\n      console.log('error')\n      this.accordion = new handorgel(this.element, {\n        multiSelectable: true,\n        collapsible: true,   \n        ariaEnabled: true,\n        keyboardInteraction: true,\n        carouselFocus: true,\n        initialOpenAttribute: 'data-open',\n        initialOpenTransition: true,\n        initialOpenTransitionDelay: 200,\n        headerOpenClass: 'handorgel__header--open',\n        contentOpenClass: 'handorgel__content--open',\n        headerOpenedClass: 'handorgel__header--opened',\n        contentOpenedClass: 'handorgel__content--opened',\n        headerFocusClass: 'handorgel__header--focus',\n        contentFocusClass: 'handorgel__content--focus',\n        headerDisabledClass: 'handorgel__header--disabled',\n        contentDisabledClass: 'handorgel__content--disabled',\n        headerNoTransitionClass: 'handorgel__header--notransition',\n        contentNoTransitionClass: 'handorgel__content--notransition'      \n    })\n  }\n\n  disconnect() {\n    this.accordion.destroy()\n  }\n\n}\n","import { Controller } from 'stimulus'\nimport { Loader } from 'google-maps'\n\nexport default class extends Controller {\n  static targets = []\n  \n  initialize() {\n    if (typeof google === 'object' && typeof google.maps === 'object') {\n        console.log('Loaded')\n        this.initMap()\n    } else {\n        const key = 'AIzaSyAAQjKP3LggEnQ5GefQii-Zrv05SIVtlG8'\n        let loader = new Loader(key)\n        loader.load()\n        .then((google) => {\n            this.initMap('')\n        })\n    }\n  }\n\n  connect () {\n\n  }\n\n  initMap() {\n        const el = document.querySelector('.map')\n        console.log(el)\n        const locations = document.querySelectorAll('.visit-locations-location')\n        const mapOptions = {\n            zoom: 14,\n            center: new google.maps.LatLng(52.368346, 4.8933812),\n            mapTypeId: google.maps.MapTypeId.ROADMAP,\n            streetViewControl: false,\n            mapTypeControl: false\n        }\n\n        const map = new google.maps.Map(el, mapOptions)\n        locations.forEach((location) => {\n            const lat = location.querySelector('.visit-location-lat').innerHTML\n            const long = location.querySelector('.visit-location-long').innerHTML\n            const label = location.querySelector('.visit-location-label').innerHTML\n            let marker = new google.maps.Marker({\n                position: new google.maps.LatLng(parseFloat(lat), parseFloat(long)),\n                map: map,\n                label: label,\n                title: ''\n            })\n        })\n    }\n}\n\n// GoogleMapsLoader.load(function(google) {\n// \tnew google.maps.Map(el, options);\n// });","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Loader = /** @class */ (function () {\n    function Loader(apiKey, options) {\n        if (apiKey === void 0) { apiKey = null; }\n        if (options === void 0) { options = {}; }\n        this.apiKey = apiKey;\n        this.options = options;\n        if (typeof window === 'undefined') {\n            throw new Error('google-maps is supported only in browser environment');\n        }\n    }\n    Loader.prototype.load = function () {\n        var _this = this;\n        if (typeof this.api !== 'undefined') {\n            return Promise.resolve(this.api);\n        }\n        if (typeof this.loader !== 'undefined') {\n            return this.loader;\n        }\n        window[Loader.CALLBACK_NAME] = function () {\n            _this.api = window['google'];\n            if (typeof _this.resolve === 'undefined') {\n                throw new Error('Should not happen');\n            }\n            _this.resolve(_this.api);\n        };\n        window['gm_authFailure'] = function () {\n            if (typeof _this.reject === 'undefined') {\n                throw new Error('Should not happen');\n            }\n            _this.reject(new Error('google-maps: authentication error'));\n        };\n        return this.loader = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n            var script = document.createElement('script');\n            script.src = _this.createUrl();\n            script.async = true;\n            script.onerror = function (e) { return reject(e); };\n            document.head.appendChild(script);\n        });\n    };\n    Loader.prototype.createUrl = function () {\n        var parameters = [\n            \"callback=\" + Loader.CALLBACK_NAME,\n        ];\n        if (this.apiKey) {\n            parameters.push(\"key=\" + this.apiKey);\n        }\n        for (var name_1 in this.options) {\n            if (this.options.hasOwnProperty(name_1)) {\n                var value = this.options[name_1];\n                if (name_1 === 'version') {\n                    name_1 = 'v';\n                }\n                if (name_1 === 'libraries') {\n                    value = value.join(',');\n                }\n                parameters.push(name_1 + \"=\" + value);\n            }\n        }\n        return \"//maps.googleapis.com/maps/api/js?\" + parameters.join('&');\n    };\n    Loader.CALLBACK_NAME = '_dk_google_maps_loader_cb';\n    return Loader;\n}());\nexports.Loader = Loader;\n//# sourceMappingURL=loader.js.map","import { Controller } from 'stimulus'\n\nexport default class extends Controller {\n  static targets = [ 'content' ]  \n\n  connect () {\n  }\n\n  clickHandlerOpen () {\n    console.log('Menu open')\n    this.contentTarget.classList.remove('js-menu-hiden')\n    document.body.classList.toggle('js-body-noscroll')\n  }\n\n  clickHandlerClose () {\n    console.log('Menu close')\n    this.contentTarget.classList.add('js-menu-hiden')\n    document.body.classList.toggle('js-body-noscroll')\n  }\n}\n","import { Controller } from 'stimulus'\nimport Flickity from 'flickity'\n\nexport default class extends Controller {\n    static targets = ['carousel']  \n\n    initialize() {\n      this.flkty = new Flickity( this.carouselTarget, {\n        cellAlign: 'left',\n        contain: true,\n        groupCells: true,\n        pageDots: true,\n        wrapAround: true,\n        prevNextButtons: false,\n        autoPlay: 5000,\n        selectedAttraction: 0.0045,\n        friction: 0.1 \n      })\n    }\n\n    connect () {\n    }\n\n    disconnect () {\n      this.flkty.destroy()\n    }\n\n  }","// Flickity.Cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'get-size/get-size'\n    ], function( getSize ) {\n      return factory( window, getSize );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(\n      window,\n      window.getSize\n    );\n  }\n\n}( window, function factory( window, getSize ) {\n\n'use strict';\n\nfunction Cell( elem, parent ) {\n  this.element = elem;\n  this.parent = parent;\n\n  this.create();\n}\n\nvar proto = Cell.prototype;\n\nproto.create = function() {\n  this.element.style.position = 'absolute';\n  this.element.setAttribute( 'aria-hidden', 'true' );\n  this.x = 0;\n  this.shift = 0;\n};\n\nproto.destroy = function() {\n  // reset style\n  this.unselect();\n  this.element.style.position = '';\n  var side = this.parent.originSide;\n  this.element.style[ side ] = '';\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\nproto.setPosition = function( x ) {\n  this.x = x;\n  this.updateTarget();\n  this.renderPosition( x );\n};\n\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\nproto.updateTarget = proto.setDefaultTarget = function() {\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n  this.target = this.x + this.size[ marginProperty ] +\n    this.size.width * this.parent.cellAlign;\n};\n\nproto.renderPosition = function( x ) {\n  // render position of cell with in slider\n  var side = this.parent.originSide;\n  this.element.style[ side ] = this.parent.getPositionValue( x );\n};\n\nproto.select = function() {\n  this.element.classList.add('is-selected');\n  this.element.removeAttribute('aria-hidden');\n};\n\nproto.unselect = function() {\n  this.element.classList.remove('is-selected');\n  this.element.setAttribute( 'aria-hidden', 'true' );\n};\n\n/**\n * @param {Integer} factor - 0, 1, or -1\n**/\nproto.wrapShift = function( shift ) {\n  this.shift = shift;\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\n};\n\nproto.remove = function() {\n  this.element.parentNode.removeChild( this.element );\n};\n\nreturn Cell;\n\n}));\n","// slide\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n\n}( window, function factory() {\n'use strict';\n\nfunction Slide( parent ) {\n  this.parent = parent;\n  this.isOriginLeft = parent.originSide == 'left';\n  this.cells = [];\n  this.outerWidth = 0;\n  this.height = 0;\n}\n\nvar proto = Slide.prototype;\n\nproto.addCell = function( cell ) {\n  this.cells.push( cell );\n  this.outerWidth += cell.size.outerWidth;\n  this.height = Math.max( cell.size.outerHeight, this.height );\n  // first cell stuff\n  if ( this.cells.length == 1 ) {\n    this.x = cell.x; // x comes from first cell\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n    this.firstMargin = cell.size[ beginMargin ];\n  }\n};\n\nproto.updateTarget = function() {\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n  var lastCell = this.getLastCell();\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.select = function() {\n  this.cells.forEach( function( cell ) {\n    cell.select();\n  });\n};\n\nproto.unselect = function() {\n  this.cells.forEach( function( cell ) {\n    cell.unselect();\n  });\n};\n\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\nreturn Slide;\n\n}));\n","// animate\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'fizzy-ui-utils/utils'\n    ], function( utils ) {\n      return factory( window, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(\n      window,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, utils ) {\n\n'use strict';\n\n// -------------------------- animate -------------------------- //\n\nvar proto = {};\n\nproto.startAnimation = function() {\n  if ( this.isAnimating ) {\n    return;\n  }\n\n  this.isAnimating = true;\n  this.restingFrames = 0;\n  this.animate();\n};\n\nproto.animate = function() {\n  this.applyDragForce();\n  this.applySelectedAttraction();\n\n  var previousX = this.x;\n\n  this.integratePhysics();\n  this.positionSlider();\n  this.settle( previousX );\n  // animate next frame\n  if ( this.isAnimating ) {\n    var _this = this;\n    requestAnimationFrame( function animateFrame() {\n      _this.animate();\n    });\n  }\n};\n\nproto.positionSlider = function() {\n  var x = this.x;\n  // wrap position around\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\n    x = utils.modulo( x, this.slideableWidth );\n    x = x - this.slideableWidth;\n    this.shiftWrapCells( x );\n  }\n\n  this.setTranslateX( x, this.isAnimating );\n  this.dispatchScrollEvent();\n};\n\nproto.setTranslateX = function( x, is3d ) {\n  x += this.cursorPosition;\n  // reverse if right-to-left and using transform\n  x = this.options.rightToLeft ? -x : x;\n  var translateX = this.getPositionValue( x );\n  // use 3D tranforms for hardware acceleration on iOS\n  // but use 2D when settled, for better font-rendering\n  this.slider.style.transform = is3d ?\n    'translate3d(' + translateX + ',0,0)' : 'translateX(' + translateX + ')';\n};\n\nproto.dispatchScrollEvent = function() {\n  var firstSlide = this.slides[0];\n  if ( !firstSlide ) {\n    return;\n  }\n  var positionX = -this.x - firstSlide.target;\n  var progress = positionX / this.slidesWidth;\n  this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n};\n\nproto.positionSliderAtSelected = function() {\n  if ( !this.cells.length ) {\n    return;\n  }\n  this.x = -this.selectedSlide.target;\n  this.velocity = 0; // stop wobble\n  this.positionSlider();\n};\n\nproto.getPositionValue = function( position ) {\n  if ( this.options.percentPosition ) {\n    // percent position, round to 2 digits, like 12.34%\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 )+ '%';\n  } else {\n    // pixel positioning\n    return Math.round( position ) + 'px';\n  }\n};\n\nproto.settle = function( previousX ) {\n  // keep track of frames where x hasn't moved\n  if ( !this.isPointerDown && Math.round( this.x * 100 ) == Math.round( previousX * 100 ) ) {\n    this.restingFrames++;\n  }\n  // stop animating if resting for 3 or more frames\n  if ( this.restingFrames > 2 ) {\n    this.isAnimating = false;\n    delete this.isFreeScrolling;\n    // render position with translateX when settled\n    this.positionSlider();\n    this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n  }\n};\n\nproto.shiftWrapCells = function( x ) {\n  // shift before cells\n  var beforeGap = this.cursorPosition + x;\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n  // shift after cells\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\n};\n\nproto._shiftCells = function( cells, gap, shift ) {\n  for ( var i=0; i < cells.length; i++ ) {\n    var cell = cells[i];\n    var cellShift = gap > 0 ? shift : 0;\n    cell.wrapShift( cellShift );\n    gap -= cell.size.outerWidth;\n  }\n};\n\nproto._unshiftCells = function( cells ) {\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  for ( var i=0; i < cells.length; i++ ) {\n    cells[i].wrapShift( 0 );\n  }\n};\n\n// -------------------------- physics -------------------------- //\n\nproto.integratePhysics = function() {\n  this.x += this.velocity;\n  this.velocity *= this.getFrictionFactor();\n};\n\nproto.applyForce = function( force ) {\n  this.velocity += force;\n};\n\nproto.getFrictionFactor = function() {\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n};\n\nproto.getRestingPosition = function() {\n  // my thanks to Steven Wittens, who simplified this math greatly\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n};\n\nproto.applyDragForce = function() {\n  if ( !this.isDraggable || !this.isPointerDown ) {\n    return;\n  }\n  // change the position to drag position by applying force\n  var dragVelocity = this.dragX - this.x;\n  var dragForce = dragVelocity - this.velocity;\n  this.applyForce( dragForce );\n};\n\nproto.applySelectedAttraction = function() {\n  // do not attract if pointer down or no slides\n  var dragDown = this.isDraggable && this.isPointerDown;\n  if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n    return;\n  }\n  var distance = this.selectedSlide.target * -1 - this.x;\n  var force = distance * this.options.selectedAttraction;\n  this.applyForce( force );\n};\n\nreturn proto;\n\n}));\n","// drag\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unidragger/unidragger',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unidragger, utils ) {\n      return factory( window, Flickity, Unidragger, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unidragger'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.Unidragger,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unidragger, utils ) {\n\n'use strict';\n\n// ----- defaults ----- //\n\nutils.extend( Flickity.defaults, {\n  draggable: '>1',\n  dragThreshold: 3,\n});\n\n// ----- create ----- //\n\nFlickity.createMethods.push('_createDrag');\n\n// -------------------------- drag prototype -------------------------- //\n\nvar proto = Flickity.prototype;\nutils.extend( proto, Unidragger.prototype );\nproto._touchActionValue = 'pan-y';\n\n// --------------------------  -------------------------- //\n\nvar isTouch = 'createTouch' in document;\nvar isTouchmoveScrollCanceled = false;\n\nproto._createDrag = function() {\n  this.on( 'activate', this.onActivateDrag );\n  this.on( 'uiChange', this._uiChangeDrag );\n  this.on( 'deactivate', this.onDeactivateDrag );\n  this.on( 'cellChange', this.updateDraggable );\n  // TODO updateDraggable on resize? if groupCells & slides change\n  // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\n  // #457, RubaXa/Sortable#973\n  if ( isTouch && !isTouchmoveScrollCanceled ) {\n    window.addEventListener( 'touchmove', function() {});\n    isTouchmoveScrollCanceled = true;\n  }\n};\n\nproto.onActivateDrag = function() {\n  this.handles = [ this.viewport ];\n  this.bindHandles();\n  this.updateDraggable();\n};\n\nproto.onDeactivateDrag = function() {\n  this.unbindHandles();\n  this.element.classList.remove('is-draggable');\n};\n\nproto.updateDraggable = function() {\n  // disable dragging if less than 2 slides. #278\n  if ( this.options.draggable == '>1' ) {\n    this.isDraggable = this.slides.length > 1;\n  } else {\n    this.isDraggable = this.options.draggable;\n  }\n  if ( this.isDraggable ) {\n    this.element.classList.add('is-draggable');\n  } else {\n    this.element.classList.remove('is-draggable');\n  }\n};\n\n// backwards compatibility\nproto.bindDrag = function() {\n  this.options.draggable = true;\n  this.updateDraggable();\n};\n\nproto.unbindDrag = function() {\n  this.options.draggable = false;\n  this.updateDraggable();\n};\n\nproto._uiChangeDrag = function() {\n  delete this.isFreeScrolling;\n};\n\n// -------------------------- pointer events -------------------------- //\n\nproto.pointerDown = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    this._pointerDownDefault( event, pointer );\n    return;\n  }\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n\n  this._pointerDownPreventDefault( event );\n  this.pointerDownFocus( event );\n  // blur\n  if ( document.activeElement != this.element ) {\n    // do not blur if already focused\n    this.pointerDownBlur();\n  }\n\n  // stop if it was moving\n  this.dragX = this.x;\n  this.viewport.classList.add('is-pointer-down');\n  // track scrolling\n  this.pointerDownScroll = getScrollPosition();\n  window.addEventListener( 'scroll', this );\n\n  this._pointerDownDefault( event, pointer );\n};\n\n// default pointerDown logic, used for staticClick\nproto._pointerDownDefault = function( event, pointer ) {\n  // track start event position\n  // Safari 9 overrides pageX and pageY. These values needs to be copied. #779\n  this.pointerDownPointer = {\n    pageX: pointer.pageX,\n    pageY: pointer.pageY,\n  };\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\nvar focusNodes = {\n  INPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n};\n\nproto.pointerDownFocus = function( event ) {\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isFocusNode ) {\n    this.focus();\n  }\n};\n\nproto._pointerDownPreventDefault = function( event ) {\n  var isTouchStart = event.type == 'touchstart';\n  var isTouchPointer = event.pointerType == 'touch';\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n    event.preventDefault();\n  }\n};\n\n// ----- move ----- //\n\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\n};\n\n// ----- up ----- //\n\nproto.pointerUp = function( event, pointer ) {\n  delete this.isTouchScrolling;\n  this.viewport.classList.remove('is-pointer-down');\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto.pointerDone = function() {\n  window.removeEventListener( 'scroll', this );\n  delete this.pointerDownScroll;\n};\n\n// -------------------------- dragging -------------------------- //\n\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  this.dragStartPosition = this.x;\n  this.startAnimation();\n  window.removeEventListener( 'scroll', this );\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n};\n\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  event.preventDefault();\n\n  this.previousDragX = this.dragX;\n  // reverse if right-to-left\n  var direction = this.options.rightToLeft ? -1 : 1;\n  if ( this.options.wrapAround ) {\n    // wrap around move. #589\n    moveVector.x = moveVector.x % this.slideableWidth;\n  }\n  var dragX = this.dragStartPosition + moveVector.x * direction;\n\n  if ( !this.options.wrapAround && this.slides.length ) {\n    // slow drag\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n  }\n\n  this.dragX = dragX;\n\n  this.dragMoveTime = new Date();\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  if ( this.options.freeScroll ) {\n    this.isFreeScrolling = true;\n  }\n  // set selectedIndex based on where flick will end up\n  var index = this.dragEndRestingSelect();\n\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\n    // if free-scroll & not wrap around\n    // do not free-scroll if going outside of bounding slides\n    // so bounding slides can attract slider, and keep it in bounds\n    var restingX = this.getRestingPosition();\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\n      -restingX < this.getLastSlide().target;\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n    // boost selection if selected index has not changed\n    index += this.dragEndBoostSelect();\n  }\n  delete this.previousDragX;\n  // apply selection\n  // TODO refactor this, selecting here feels weird\n  // HACK, set flag so dragging stays in correct direction\n  this.isDragSelect = this.options.wrapAround;\n  this.select( index );\n  delete this.isDragSelect;\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\nproto.dragEndRestingSelect = function() {\n  var restingX = this.getRestingPosition();\n  // how far away from selected slide\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n  // get closet resting going up and going down\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\n  // use closer resting for wrap-around\n  var index = positiveResting.distance < negativeResting.distance ?\n    positiveResting.index : negativeResting.index;\n  return index;\n};\n\n/**\n * given resting X and distance to selected cell\n * get the distance and index of the closest cell\n * @param {Number} restingX - estimated post-flick resting position\n * @param {Number} distance - distance to selected cell\n * @param {Integer} increment - +1 or -1, going up or down\n * @returns {Object} - { distance: {Number}, index: {Integer} }\n */\nproto._getClosestResting = function( restingX, distance, increment ) {\n  var index = this.selectedIndex;\n  var minDistance = Infinity;\n  var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function( d, md ) { return d <= md; } : function( d, md ) { return d < md; };\n  while ( condition( distance, minDistance ) ) {\n    // measure distance to next cell\n    index += increment;\n    minDistance = distance;\n    distance = this.getSlideDistance( -restingX, index );\n    if ( distance === null ) {\n      break;\n    }\n    distance = Math.abs( distance );\n  }\n  return {\n    distance: minDistance,\n    // selected was previous index\n    index: index - increment\n  };\n};\n\n/**\n * measure distance between x and a slide target\n * @param {Number} x\n * @param {Integer} index - slide index\n */\nproto.getSlideDistance = function( x, index ) {\n  var len = this.slides.length;\n  // wrap around if at least 2 slides\n  var isWrapAround = this.options.wrapAround && len > 1;\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n  var slide = this.slides[ slideIndex ];\n  if ( !slide ) {\n    return null;\n  }\n  // add distance for wrap-around slides\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index / len ) : 0;\n  return x - ( slide.target + wrap );\n};\n\nproto.dragEndBoostSelect = function() {\n  // do not boost if no previousDragX or dragMoveTime\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100 ) {\n    return 0;\n  }\n\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n  var delta = this.previousDragX - this.dragX;\n  if ( distance > 0 && delta > 0 ) {\n    // boost to next if moving towards the right, and positive velocity\n    return 1;\n  } else if ( distance < 0 && delta < 0 ) {\n    // boost to previous if moving towards the left, and negative velocity\n    return -1;\n  }\n  return 0;\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  // get clickedCell, if cell was clicked\n  var clickedCell = this.getParentCell( event.target );\n  var cellElem = clickedCell && clickedCell.element;\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n};\n\n// ----- scroll ----- //\n\nproto.onscroll = function() {\n  var scroll = getScrollPosition();\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n  // cancel click/tap if scroll is too much\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n    this._pointerDone();\n  }\n};\n\n// ----- utils ----- //\n\nfunction getScrollPosition() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n","/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n'use strict';\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n","// prev/next buttons\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unipointer/unipointer',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unipointer'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.Unipointer,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n'use strict';\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\n// -------------------------- PrevNextButton -------------------------- //\n\nfunction PrevNextButton( direction, parent ) {\n  this.direction = direction;\n  this.parent = parent;\n  this._create();\n}\n\nPrevNextButton.prototype = Object.create( Unipointer.prototype );\n\nPrevNextButton.prototype._create = function() {\n  // properties\n  this.isEnabled = true;\n  this.isPrevious = this.direction == -1;\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n  this.isLeft = this.direction == leftDirection;\n\n  var element = this.element = document.createElement('button');\n  element.className = 'flickity-button flickity-prev-next-button';\n  element.className += this.isPrevious ? ' previous' : ' next';\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n  element.setAttribute( 'type', 'button' );\n  // init as disabled\n  this.disable();\n\n  element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n  // create arrow\n  var svg = this.createSVG();\n  element.appendChild( svg );\n  // events\n  this.parent.on( 'select', this.update.bind( this ) );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPrevNextButton.prototype.activate = function() {\n  this.bindStartEvent( this.element );\n  this.element.addEventListener( 'click', this );\n  // add to DOM\n  this.parent.element.appendChild( this.element );\n};\n\nPrevNextButton.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.element );\n  // click events\n  this.unbindStartEvent( this.element );\n  this.element.removeEventListener( 'click', this );\n};\n\nPrevNextButton.prototype.createSVG = function() {\n  var svg = document.createElementNS( svgURI, 'svg');\n  svg.setAttribute( 'class', 'flickity-button-icon' );\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\n  var path = document.createElementNS( svgURI, 'path');\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n  path.setAttribute( 'd', pathMovements );\n  path.setAttribute( 'class', 'arrow' );\n  // rotate arrow\n  if ( !this.isLeft ) {\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n  }\n  svg.appendChild( path );\n  return svg;\n};\n\n// get SVG path movmement\nfunction getArrowMovements( shape ) {\n  // use shape as movement if string\n  if ( typeof shape == 'string' ) {\n    return shape;\n  }\n  // create movement string\n  return 'M ' + shape.x0 + ',50' +\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n    ' L ' + shape.x3 + ',50 ' +\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n    ' Z';\n}\n\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\n\nPrevNextButton.prototype.onclick = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.parent.uiChange();\n  var method = this.isPrevious ? 'previous' : 'next';\n  this.parent[ method ]();\n};\n\n// -----  ----- //\n\nPrevNextButton.prototype.enable = function() {\n  if ( this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = false;\n  this.isEnabled = true;\n};\n\nPrevNextButton.prototype.disable = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = true;\n  this.isEnabled = false;\n};\n\nPrevNextButton.prototype.update = function() {\n  // index of first or last slide, if previous or next\n  var slides = this.parent.slides;\n  // enable is wrapAround and at least 2 slides\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\n    this.enable();\n    return;\n  }\n  var lastIndex = slides.length ? slides.length - 1 : 0;\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n  this[ method ]();\n};\n\nPrevNextButton.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\n// -------------------------- Flickity prototype -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  prevNextButtons: true,\n  arrowShape: {\n    x0: 10,\n    x1: 60, y1: 50,\n    x2: 70, y2: 40,\n    x3: 30\n  }\n});\n\nFlickity.createMethods.push('_createPrevNextButtons');\nvar proto = Flickity.prototype;\n\nproto._createPrevNextButtons = function() {\n  if ( !this.options.prevNextButtons ) {\n    return;\n  }\n\n  this.prevButton = new PrevNextButton( -1, this );\n  this.nextButton = new PrevNextButton( 1, this );\n\n  this.on( 'activate', this.activatePrevNextButtons );\n};\n\nproto.activatePrevNextButtons = function() {\n  this.prevButton.activate();\n  this.nextButton.activate();\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\n};\n\nproto.deactivatePrevNextButtons = function() {\n  this.prevButton.deactivate();\n  this.nextButton.deactivate();\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\n};\n\n// --------------------------  -------------------------- //\n\nFlickity.PrevNextButton = PrevNextButton;\n\nreturn Flickity;\n\n}));\n","// page dots\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unipointer/unipointer',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unipointer'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.Unipointer,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n\n// -------------------------- PageDots -------------------------- //\n\n'use strict';\n\nfunction PageDots( parent ) {\n  this.parent = parent;\n  this._create();\n}\n\nPageDots.prototype = Object.create( Unipointer.prototype );\n\nPageDots.prototype._create = function() {\n  // create holder element\n  this.holder = document.createElement('ol');\n  this.holder.className = 'flickity-page-dots';\n  // create dots, array of elements\n  this.dots = [];\n  // events\n  this.handleClick = this.onClick.bind( this );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPageDots.prototype.activate = function() {\n  this.setDots();\n  this.holder.addEventListener( 'click', this.handleClick );\n  this.bindStartEvent( this.holder );\n  // add to DOM\n  this.parent.element.appendChild( this.holder );\n};\n\nPageDots.prototype.deactivate = function() {\n  this.holder.removeEventListener( 'click', this.handleClick );\n  this.unbindStartEvent( this.holder );\n  // remove from DOM\n  this.parent.element.removeChild( this.holder );\n};\n\nPageDots.prototype.setDots = function() {\n  // get difference between number of slides and number of dots\n  var delta = this.parent.slides.length - this.dots.length;\n  if ( delta > 0 ) {\n    this.addDots( delta );\n  } else if ( delta < 0 ) {\n    this.removeDots( -delta );\n  }\n};\n\nPageDots.prototype.addDots = function( count ) {\n  var fragment = document.createDocumentFragment();\n  var newDots = [];\n  var length = this.dots.length;\n  var max = length + count;\n\n  for ( var i = length; i < max; i++ ) {\n    var dot = document.createElement('li');\n    dot.className = 'dot';\n    dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n    fragment.appendChild( dot );\n    newDots.push( dot );\n  }\n\n  this.holder.appendChild( fragment );\n  this.dots = this.dots.concat( newDots );\n};\n\nPageDots.prototype.removeDots = function( count ) {\n  // remove from this.dots collection\n  var removeDots = this.dots.splice( this.dots.length - count, count );\n  // remove from DOM\n  removeDots.forEach( function( dot ) {\n    this.holder.removeChild( dot );\n  }, this );\n};\n\nPageDots.prototype.updateSelected = function() {\n  // remove selected class on previous\n  if ( this.selectedDot ) {\n    this.selectedDot.className = 'dot';\n    this.selectedDot.removeAttribute('aria-current');\n  }\n  // don't proceed if no dots\n  if ( !this.dots.length ) {\n    return;\n  }\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\n  this.selectedDot.className = 'dot is-selected';\n  this.selectedDot.setAttribute( 'aria-current', 'step' );\n};\n\nPageDots.prototype.onTap = // old method name, backwards-compatible\nPageDots.prototype.onClick = function( event ) {\n  var target = event.target;\n  // only care about dot clicks\n  if ( target.nodeName != 'LI' ) {\n    return;\n  }\n\n  this.parent.uiChange();\n  var index = this.dots.indexOf( target );\n  this.parent.select( index );\n};\n\nPageDots.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\nFlickity.PageDots = PageDots;\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pageDots: true\n});\n\nFlickity.createMethods.push('_createPageDots');\n\nvar proto = Flickity.prototype;\n\nproto._createPageDots = function() {\n  if ( !this.options.pageDots ) {\n    return;\n  }\n  this.pageDots = new PageDots( this );\n  // events\n  this.on( 'activate', this.activatePageDots );\n  this.on( 'select', this.updateSelectedPageDots );\n  this.on( 'cellChange', this.updatePageDots );\n  this.on( 'resize', this.updatePageDots );\n  this.on( 'deactivate', this.deactivatePageDots );\n};\n\nproto.activatePageDots = function() {\n  this.pageDots.activate();\n};\n\nproto.updateSelectedPageDots = function() {\n  this.pageDots.updateSelected();\n};\n\nproto.updatePageDots = function() {\n  this.pageDots.setDots();\n};\n\nproto.deactivatePageDots = function() {\n  this.pageDots.deactivate();\n};\n\n// -----  ----- //\n\nFlickity.PageDots = PageDots;\n\nreturn Flickity;\n\n}));\n","// player & autoPlay\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter',\n      'fizzy-ui-utils/utils',\n      './flickity'\n    ], function( EvEmitter, utils, Flickity ) {\n      return factory( EvEmitter, utils, Flickity );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('ev-emitter'),\n      require('fizzy-ui-utils'),\n      require('./flickity')\n    );\n  } else {\n    // browser global\n    factory(\n      window.EvEmitter,\n      window.fizzyUIUtils,\n      window.Flickity\n    );\n  }\n\n}( window, function factory( EvEmitter, utils, Flickity ) {\n\n'use strict';\n\n// -------------------------- Player -------------------------- //\n\nfunction Player( parent ) {\n  this.parent = parent;\n  this.state = 'stopped';\n  // visibility change event handler\n  this.onVisibilityChange = this.visibilityChange.bind( this );\n  this.onVisibilityPlay = this.visibilityPlay.bind( this );\n}\n\nPlayer.prototype = Object.create( EvEmitter.prototype );\n\n// start play\nPlayer.prototype.play = function() {\n  if ( this.state == 'playing' ) {\n    return;\n  }\n  // do not play if page is hidden, start playing when page is visible\n  var isPageHidden = document.hidden;\n  if ( isPageHidden ) {\n    document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n    return;\n  }\n\n  this.state = 'playing';\n  // listen to visibility change\n  document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n  // start ticking\n  this.tick();\n};\n\nPlayer.prototype.tick = function() {\n  // do not tick if not playing\n  if ( this.state != 'playing' ) {\n    return;\n  }\n\n  var time = this.parent.options.autoPlay;\n  // default to 3 seconds\n  time = typeof time == 'number' ? time : 3000;\n  var _this = this;\n  // HACK: reset ticks if stopped and started within interval\n  this.clear();\n  this.timeout = setTimeout( function() {\n    _this.parent.next( true );\n    _this.tick();\n  }, time );\n};\n\nPlayer.prototype.stop = function() {\n  this.state = 'stopped';\n  this.clear();\n  // remove visibility change event\n  document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n};\n\nPlayer.prototype.clear = function() {\n  clearTimeout( this.timeout );\n};\n\nPlayer.prototype.pause = function() {\n  if ( this.state == 'playing' ) {\n    this.state = 'paused';\n    this.clear();\n  }\n};\n\nPlayer.prototype.unpause = function() {\n  // re-start play if paused\n  if ( this.state == 'paused' ) {\n    this.play();\n  }\n};\n\n// pause if page visibility is hidden, unpause if visible\nPlayer.prototype.visibilityChange = function() {\n  var isPageHidden = document.hidden;\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\n};\n\nPlayer.prototype.visibilityPlay = function() {\n  this.play();\n  document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n};\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pauseAutoPlayOnHover: true\n});\n\nFlickity.createMethods.push('_createPlayer');\nvar proto = Flickity.prototype;\n\nproto._createPlayer = function() {\n  this.player = new Player( this );\n\n  this.on( 'activate', this.activatePlayer );\n  this.on( 'uiChange', this.stopPlayer );\n  this.on( 'pointerDown', this.stopPlayer );\n  this.on( 'deactivate', this.deactivatePlayer );\n};\n\nproto.activatePlayer = function() {\n  if ( !this.options.autoPlay ) {\n    return;\n  }\n  this.player.play();\n  this.element.addEventListener( 'mouseenter', this );\n};\n\n// Player API, don't hate the ... thanks I know where the door is\n\nproto.playPlayer = function() {\n  this.player.play();\n};\n\nproto.stopPlayer = function() {\n  this.player.stop();\n};\n\nproto.pausePlayer = function() {\n  this.player.pause();\n};\n\nproto.unpausePlayer = function() {\n  this.player.unpause();\n};\n\nproto.deactivatePlayer = function() {\n  this.player.stop();\n  this.element.removeEventListener( 'mouseenter', this );\n};\n\n// ----- mouseenter/leave ----- //\n\n// pause auto-play on hover\nproto.onmouseenter = function() {\n  if ( !this.options.pauseAutoPlayOnHover ) {\n    return;\n  }\n  this.player.pause();\n  this.element.addEventListener( 'mouseleave', this );\n};\n\n// resume auto-play on hover off\nproto.onmouseleave = function() {\n  this.player.unpause();\n  this.element.removeEventListener( 'mouseleave', this );\n};\n\n// -----  ----- //\n\nFlickity.Player = Player;\n\nreturn Flickity;\n\n}));\n","// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n\n'use strict';\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  });\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {Element, Array, NodeList} elems\n * @param {Integer} index\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {Element, Array, NodeList} elems\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n","// lazyload\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n'use strict';\n\nFlickity.createMethods.push('_createLazyload');\nvar proto = Flickity.prototype;\n\nproto._createLazyload = function() {\n  this.on( 'select', this.lazyLoad );\n};\n\nproto.lazyLoad = function() {\n  var lazyLoad = this.options.lazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n  // get lazy images in those cells\n  var lazyImages = [];\n  cellElems.forEach( function( cellElem ) {\n    var lazyCellImages = getCellLazyImages( cellElem );\n    lazyImages = lazyImages.concat( lazyCellImages );\n  });\n  // load lazy images\n  lazyImages.forEach( function( img ) {\n    new LazyLoader( img, this );\n  }, this );\n};\n\nfunction getCellLazyImages( cellElem ) {\n  // check if cell element is lazy image\n  if ( cellElem.nodeName == 'IMG' ) {\n    var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n    var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n    var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n    if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n      return [ cellElem ];\n    }\n  }\n  // select lazy images in cell\n  var lazySelector = 'img[data-flickity-lazyload], ' +\n    'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n  var imgs = cellElem.querySelectorAll( lazySelector );\n  return utils.makeArray( imgs );\n}\n\n// -------------------------- LazyLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction LazyLoader( img, flickity ) {\n  this.img = img;\n  this.flickity = flickity;\n  this.load();\n}\n\nLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // get src & srcset\n  var src = this.img.getAttribute('data-flickity-lazyload') ||\n    this.img.getAttribute('data-flickity-lazyload-src');\n  var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n  // set src & serset\n  this.img.src = src;\n  if ( srcset ) {\n    this.img.setAttribute( 'srcset', srcset );\n  }\n  // remove attr\n  this.img.removeAttribute('data-flickity-lazyload');\n  this.img.removeAttribute('data-flickity-lazyload-src');\n  this.img.removeAttribute('data-flickity-lazyload-srcset');\n};\n\nLazyLoader.prototype.onload = function( event ) {\n  this.complete( event, 'flickity-lazyloaded' );\n};\n\nLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-lazyerror' );\n};\n\nLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  var cell = this.flickity.getParentCell( this.img );\n  var cellElem = cell && cell.element;\n  this.flickity.cellSizeChange( cellElem );\n\n  this.img.classList.add( className );\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n};\n\n// -----  ----- //\n\nFlickity.LazyLoader = LazyLoader;\n\nreturn Flickity;\n\n}));\n","import { Controller } from 'stimulus'\nimport Isotope from 'isotope-layout'\n\nexport default class extends Controller {\n\n    static targets = [ 'container', 'filterEventType', 'sort', 'filterDate', 'location' ]\n    initialize() {\n        console.log('Init grid')\n    }\n\n    connect () {\n        this.iso = new Isotope(this.containerTarget, {\n            itemSelector: '.programme-grid-item',\n            layoutMode: 'masonry',\n            getSortData: {\n                az: '[data-az]',\n                highlights: '[data-highlights]',\n                location: '[data-location]',\n                lastadded: 'original-order',         \n            },\n            sortBy: 'highlights' \n        })\n        this.filterData = { \n            date: '*', \n            event: '*',\n            location: '*'\n        }\n\n        this.filterEventTypeTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                this.filter = {\n                    location: this.filterData.location,\n                    date: this.filterData.date,\n                    event: element.getAttribute('data-filter').toLowerCase()\n                }\n                this.filterEventTypeTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            })        \n        })\n\n        // Date buttons\n        this.filterDateTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                this.filter = { \n                    location: this.filterData.location,\n                    date: element.getAttribute('data-filter').toLowerCase(), \n                    event: this.filterData.event\n                }\n                this.filterDateTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            })        \n        })\n\n        // Location buttons\n        this.locationTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                this.filter = { \n                    location: element.getAttribute('data-filter').toLowerCase(), \n                    date: this.filterData.date, \n                    event: this.filterData.event \n                }\n                this.locationTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            })        \n        })\n        \n        // Sorting buttons\n        this.sortTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                let sortOption = element.getAttribute('data-filter').toLowerCase()\n                this.sort = sortOption\n                this.sortTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            }) \n        })\n\n    }\n    \n    disconnect() {\n        this.iso.destroy()\n    }\n\n    set filter (value) {\n        this.filterData = value\n        this.iso.arrange({\n            filter: ( gridItemElem ) =>  {\n                let query = value\n\n                let conditionEvent = gridItemElem.classList.contains(query.event)\n                if (query.event === '*' ) conditionEvent = true \n\n                let conditionDate = gridItemElem.classList.contains(query.date)\n                if (query.date === '*' ) conditionDate= true \n\n                let location = gridItemElem.getAttribute('data-location')\n                let conditionLocation = location.includes(query.location)\n                if (query.location === '*' ) conditionLocation = true \n\n                let condition = conditionEvent && conditionDate && conditionLocation\n                return condition\n            }\n        })\n    }\n    set sort (value) {\n        this.iso.arrange({ sortBy: value })\n    }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","module.exports = require('../internals/global');\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","exports.f = Object.getOwnPropertySymbols;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size'\n      ],\n      factory\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      require('ev-emitter'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window.EvEmitter,\n      window.getSize\n    );\n  }\n\n}( window, function factory( EvEmitter, getSize ) {\n'use strict';\n\n// ----- helpers ----- //\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\n\nvar docElemStyle = document.documentElement.style;\n\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\n  'transition' : 'WebkitTransition';\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\n  'transform' : 'WebkitTransform';\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\nvar vendorProperties = {\n  transform: transformProperty,\n  transition: transitionProperty,\n  transitionDuration: transitionProperty + 'Duration',\n  transitionProperty: transitionProperty + 'Property',\n  transitionDelay: transitionProperty + 'Delay'\n};\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EvEmitter\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\nproto.constructor = Item;\n\nproto._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nproto.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nproto.getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  var x = parseFloat( xValue );\n  var y = parseFloat( yValue );\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  if ( xValue.indexOf('%') != -1 ) {\n    x = ( x / 100 ) * layoutSize.width;\n  }\n  if ( yValue.indexOf('%') != -1 ) {\n    y = ( y / 100 ) * layoutSize.height;\n  }\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nproto.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var style = {};\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n\n  // x\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = isOriginLeft ? 'left' : 'right';\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nproto.getXValue = function( x ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && !isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nproto.getYValue = function( y ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\nproto._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var didNotMove = x == this.position.x && y == this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nproto.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  x = isOriginLeft ? x : -x;\n  y = isOriginTop ? y : -y;\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n};\n\n// non transition + transform support\nproto.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\nproto.moveTo = proto._transitionTo;\n\nproto.setPosition = function( x, y ) {\n  this.position.x = parseFloat( x );\n  this.position.y = parseFloat( y );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nproto._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nproto.transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\nproto.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // munge number to millisecond, to match stagger\n  var duration = this.layout.options.transitionDuration;\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: duration,\n    transitionDelay: this.staggerDelay || 0\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\n// ----- events ----- //\n\nproto.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nproto.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform'\n};\n\nproto.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nproto.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nproto._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: '',\n  transitionDelay: ''\n};\n\nproto.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- stagger ----- //\n\nproto.stagger = function( delay ) {\n  delay = isNaN( delay ) ? 0 : delay;\n  this.staggerDelay = delay + 'ms';\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nproto.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nproto.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  this.once( 'transitionEnd', function() {\n    this.removeElem();\n  });\n  this.hide();\n};\n\nproto.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nproto.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nproto.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/**\n * Isotope Item\n**/\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer')\n    );\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.Item = factory(\n      window.Outlayer\n    );\n  }\n\n}( window, function factory( Outlayer ) {\n'use strict';\n\n// -------------------------- Item -------------------------- //\n\n// sub-class Outlayer Item\nfunction Item() {\n  Outlayer.Item.apply( this, arguments );\n}\n\nvar proto = Item.prototype = Object.create( Outlayer.Item.prototype );\n\nvar _create = proto._create;\nproto._create = function() {\n  // assign id, used for original-order sorting\n  this.id = this.layout.itemGUID++;\n  _create.call( this );\n  this.sortData = {};\n};\n\nproto.updateSortData = function() {\n  if ( this.isIgnored ) {\n    return;\n  }\n  // default sorters\n  this.sortData.id = this.id;\n  // for backward compatibility\n  this.sortData['original-order'] = this.id;\n  this.sortData.random = Math.random();\n  // go thru getSortData obj and apply the sorters\n  var getSortData = this.layout.options.getSortData;\n  var sorters = this.layout._sorters;\n  for ( var key in getSortData ) {\n    var sorter = sorters[ key ];\n    this.sortData[ key ] = sorter( this.element, this );\n  }\n};\n\nvar _destroy = proto.destroy;\nproto.destroy = function() {\n  // call super\n  _destroy.apply( this, arguments );\n  // reset display, #741\n  this.css({\n    display: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/*!\n * Masonry layout mode\n * sub-classes Masonry\n * https://masonry.desandro.com\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        '../layout-mode',\n        'masonry-layout/masonry'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode'),\n      require('masonry-layout')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode,\n      window.Masonry\n    );\n  }\n\n}( window, function factory( LayoutMode, Masonry ) {\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var MasonryMode = LayoutMode.create('masonry');\n\n  var proto = MasonryMode.prototype;\n\n  var keepModeMethods = {\n    _getElementOffset: true,\n    layout: true,\n    _getMeasurement: true\n  };\n\n  // inherit Masonry prototype\n  for ( var method in Masonry.prototype ) {\n    // do not inherit mode methods\n    if ( !keepModeMethods[ method ] ) {\n      proto[ method ] = Masonry.prototype[ method ];\n    }\n  }\n\n  var measureColumns = proto.measureColumns;\n  proto.measureColumns = function() {\n    // set items, used if measuring first item\n    this.items = this.isotope.filteredItems;\n    measureColumns.call( this );\n  };\n\n  // point to mode options for fitWidth\n  var _getOption = proto._getOption;\n  proto._getOption = function( option ) {\n    if ( option == 'fitWidth' ) {\n      return this.options.isFitWidth !== undefined ?\n        this.options.isFitWidth : this.options.fitWidth;\n    }\n    return _getOption.apply( this.isotope, arguments );\n  };\n\n  return MasonryMode;\n\n}));\n","/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Masonry = factory(\n      window.Outlayer,\n      window.getSize\n    );\n  }\n\n}( window, function factory( Outlayer, getSize ) {\n\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Masonry = Outlayer.create('masonry');\n  // isFitWidth -> fitWidth\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function() {\n    this.getSize();\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\n    this._getMeasurement( 'gutter', 'outerWidth' );\n    this.measureColumns();\n\n    // reset column Y\n    this.colYs = [];\n    for ( var i=0; i < this.cols; i++ ) {\n      this.colYs.push( 0 );\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function() {\n    this.getContainerWidth();\n    // if columnWidth is 0, default to outerWidth of first item\n    if ( !this.columnWidth ) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element;\n      // columnWidth fall back to item of first element\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n        // if first elem has no width, default to size of container\n        this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter;\n\n    // calculate columns\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth;\n    // fix rounding errors, typically with gutters\n    var excess = columnWidth - containerWidth % columnWidth;\n    // if overshoot is less than a pixel, round up, otherwise floor it\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[ mathMethod ]( cols );\n    this.cols = Math.max( cols, 1 );\n  };\n\n  proto.getContainerWidth = function() {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n    var container = isFitWidth ? this.element.parentNode : this.element;\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var size = getSize( container );\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function( item ) {\n    item.getSize();\n    // how many columns does this brick span\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n    // round if off by 1 pixel, otherwise use ceil\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n    colSpan = Math.min( colSpan, this.cols );\n    // use horizontal or top column position\n    var colPosMethod = this.options.horizontalOrder ?\n      '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[ colPosMethod ]( colSpan, item );\n    // position the brick\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    };\n    // apply setHeight to necessary columns\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n    for ( var i = colPosition.col; i < setMax; i++ ) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function( colSpan ) {\n    var colGroup = this._getTopColGroup( colSpan );\n    // get the minimum Y value from the columns\n    var minimumY = Math.min.apply( Math, colGroup );\n\n    return {\n      col: colGroup.indexOf( minimumY ),\n      y: minimumY,\n    };\n  };\n\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n  proto._getTopColGroup = function( colSpan ) {\n    if ( colSpan < 2 ) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = [];\n    // how many different places could this brick fit horizontally\n    var groupCount = this.cols + 1 - colSpan;\n    // for each group potential horizontal position\n    for ( var i = 0; i < groupCount; i++ ) {\n      colGroup[i] = this._getColGroupY( i, colSpan );\n    }\n    return colGroup;\n  };\n\n  proto._getColGroupY = function( col, colSpan ) {\n    if ( colSpan < 2 ) {\n      return this.colYs[ col ];\n    }\n    // make an array of colY values for that one group\n    var groupColYs = this.colYs.slice( col, col + colSpan );\n    // and get the max value of the array\n    return Math.max.apply( Math, groupColYs );\n  };\n\n  // get column position based on horizontal index. #873\n  proto._getHorizontalColPosition = function( colSpan, item ) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\n    // shift to next row if item can't fit on current row\n    col = isOver ? 0 : col;\n    // don't let zero-size items take up space\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n    return {\n      col: col,\n      y: this._getColGroupY( col, colSpan ),\n    };\n  };\n\n  proto._manageStamp = function( stamp ) {\n    var stampSize = getSize( stamp );\n    var offset = this._getElementOffset( stamp );\n    // get the columns that this stamp affects\n    var isOriginLeft = this._getOption('originLeft');\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor( firstX / this.columnWidth );\n    firstCol = Math.max( 0, firstCol );\n    var lastCol = Math.floor( lastX / this.columnWidth );\n    // lastCol should not go over if multiple of columnWidth #425\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min( this.cols - 1, lastCol );\n    // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n      stampSize.outerHeight;\n    for ( var i = firstCol; i <= lastCol; i++ ) {\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n    }\n  };\n\n  proto._getContainerSize = function() {\n    this.maxY = Math.max.apply( Math, this.colYs );\n    var size = {\n      height: this.maxY\n    };\n\n    if ( this._getOption('fitWidth') ) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function() {\n    var unusedCols = 0;\n    // count unused columns\n    var i = this.cols;\n    while ( --i ) {\n      if ( this.colYs[i] !== 0 ) {\n        break;\n      }\n      unusedCols++;\n    }\n    // fit container to columns that have been used\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function() {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n\n}));\n","/**\n * fitRows layout mode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        '../layout-mode'\n      ],\n      factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( LayoutMode ) {\n'use strict';\n\nvar FitRows = LayoutMode.create('fitRows');\n\nvar proto = FitRows.prototype;\n\nproto._resetLayout = function() {\n  this.x = 0;\n  this.y = 0;\n  this.maxY = 0;\n  this._getMeasurement( 'gutter', 'outerWidth' );\n};\n\nproto._getItemLayoutPosition = function( item ) {\n  item.getSize();\n\n  var itemWidth = item.size.outerWidth + this.gutter;\n  // if this element cannot fit in the current row\n  var containerWidth = this.isotope.size.innerWidth + this.gutter;\n  if ( this.x !== 0 && itemWidth + this.x > containerWidth ) {\n    this.x = 0;\n    this.y = this.maxY;\n  }\n\n  var position = {\n    x: this.x,\n    y: this.y\n  };\n\n  this.maxY = Math.max( this.maxY, this.y + item.size.outerHeight );\n  this.x += itemWidth;\n\n  return position;\n};\n\nproto._getContainerSize = function() {\n  return { height: this.maxY };\n};\n\nreturn FitRows;\n\n}));\n","/**\n * vertical layout mode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        '../layout-mode'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( LayoutMode ) {\n'use strict';\n\nvar Vertical = LayoutMode.create( 'vertical', {\n  horizontalAlignment: 0\n});\n\nvar proto = Vertical.prototype;\n\nproto._resetLayout = function() {\n  this.y = 0;\n};\n\nproto._getItemLayoutPosition = function( item ) {\n  item.getSize();\n  var x = ( this.isotope.size.innerWidth - item.size.outerWidth ) *\n    this.options.horizontalAlignment;\n  var y = this.y;\n  this.y += item.size.outerHeight;\n  return { x: x, y: y };\n};\n\nproto._getContainerSize = function() {\n  return { height: this.y };\n};\n\nreturn Vertical;\n\n}));\n","const languages = {\n    de: {\n      title: 'Cookie-Richtlinie',\n      content: 'Unsere Website verwendet Cookies, um zu analysieren, wie die Site verwendet wird, und um sicherzustellen, dass Ihre Benutzererfahrung bei nachfolgenden Besuchen konsistent ist.',\n      accept: 'Zustimmen',\n      learnMore: 'Mehr erfahren',\n    },\n    en: {\n      title: 'Cookies policy',\n      content: 'Our website uses cookies to analyse how the site is used and to ensure your experience is consistent between visits.',\n      accept: 'Accept',\n      learnMore: 'Learn more',\n    },\n    it: {\n      title: 'Polizza cookie',\n      content: 'Il nostro sito utilizza cookie per analizzare le tue abitudini e per assicurarsi che la tua esperienza sia consistente tra le visite.',\n      accept: 'Accetta',\n      learnMore: 'Altre informazioni',\n    },\n    fr: {\n      title: 'Politiques d\\'utilisation des cookies',\n      content: 'Notre site web utilise des cookies pour analyser son utilisation et vous permettre ainsi d\\'obtenir une exprience de qualit.',\n      accept: 'Accepter',\n      learnMore: 'En apprendre plus',\n    },\n    pt: {\n      title: 'Poltica de Cookies',\n      content: 'O nosso website utiliza Cookies para analisar a forma como o mesmo  utilizado e garantir uma experincia consistente e de qualidade para todos os visitantes.',\n      accept: 'Aceitar',\n      learnMore: 'Saber mais',\n    },\n    pl: {\n      title: 'Polityka cookies',\n      content: 'Nasza strona uywa ciasteczek do analizy statystyk i zapewnienia takiego samego dziaania pomidzi wizytami.',\n      accept: 'Akceptuj',\n      learnMore: 'Czytaj wicej',\n    },\n    ro: {\n      title: 'Politica de utilizare Cookie-uri',\n      content: 'Site-ul nostru utilizeaz module cookie i alte tehnologii similare pentru a optimiza funcionalitatea si a mbunti experiena de navigare.',\n      accept: 'Accept',\n      learnMore: 'Afl mai multe',\n    },\n  };\n  \n  export default languages;","const createCookie = (name, value, days, domain) => {\n    let expires;\n  \n    if (days) {\n      const date = new Date();\n      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n      expires = `; expires=${date.toGMTString()}`;\n    } else {\n      expires = '';\n    }\n  \n    document.cookie = `${name}=${value}${expires}; path=/; domain=${domain}`;\n  };\n  \n  const readCookie = (name) => {\n    const nameQuery = `${name}=`;\n    const cookies = document.cookie.split(';');\n    for (let i = 0; i < cookies.length; i += 1) {\n      let cookie = cookies[i];\n  \n      while (cookie.charAt(0) === ' ') {\n        cookie = cookie.substring(1, cookie.length);\n      }\n  \n      if (cookie.indexOf(nameQuery) === 0) {\n        return cookie.substring(nameQuery.length, cookie.length);\n      }\n    }\n  \n    return null;\n  };\n  \n  export { createCookie, readCookie };","import languages from './languages';\nimport { createCookie, readCookie } from './cookies.js';\n\nlet COOKIE_BOX_INITIALIZED = false;\n\nexport default class CookieBox {\n  constructor(params) {\n    COOKIE_BOX_INITIALIZED = true;\n    const userSettings = window.CookieBoxConfig || params || {};\n\n    this.box = document.createElement('div');\n    this.box.className = 'cookie-box';\n    this.settings = {\n      backgroundColor: userSettings.backgroundColor || '#3ea25f',\n      textColor: userSettings.textColor || '#fff',\n      language: userSettings.language || 'en',\n      containerWidth: userSettings.containerWidth || 1140,\n      url: userSettings.url || null,\n      linkTarget: userSettings.linkTarget || '_blank',\n      cookieKey: userSettings.cookieKey || 'cookie-box',\n      cookieDomain: userSettings.cookieDomain || document.location.host,\n      cookieExpireInDays: userSettings.cookieExpireInDays || 365,\n      content: userSettings.content || {},\n    };\n    this.dictionary = languages[this.settings.language];\n  }\n\n  init() {\n    if (!this.dictionary) {\n      console.error(`${this.settings.language} language is not supported`);\n\n      return;\n    }\n\n    if (readCookie(this.settings.cookieKey)) {\n      return;\n    }\n\n    this.show();\n\n    document.querySelector('.cookie-box__button').addEventListener('click', () => this.hide());\n  }\n\n  render() {\n    const { settings } = this;\n\n    return `\n    <div>\n      <div class=\"cookie-box__inner\" style=\"\">\n        <div class=\"cookie-box__content\">\n            This website stores data such as cookies to enable important site functionality including analytics, targeting, and personalization.\n            <a href=\"https://2020.sonicacts.com/privacy\">Data Storage Policy</a>\n        </div>\n        <div class=\"cookie-box__buttons\">\n            <button class=\"cookie-box__button\">\n                Accept\n            </button>\n        </div>\n      </div>\n    </div>\n    `;\n  }\n\n  show() {\n    this.box.innerHTML = this.render();\n    document.body.appendChild(this.box);\n  }\n\n  hide() {\n    this.box.classList.add('hidden');\n    createCookie(\n      this.settings.cookieKey,\n      true,\n      this.settings.cookieExpireInDays,\n      this.settings.cookieDomain,\n    );\n\n    setTimeout(() => {\n      this.box.remove();\n    }, 800);\n  }\n}\n\nif (typeof window !== 'undefined') {\n  const initBox = setInterval(() => {\n    if (document.readyState === 'complete') {\n      clearInterval(initBox);\n      if (!COOKIE_BOX_INITIALIZED) {\n        new CookieBox().init();\n      }\n    }\n  }, 50);\n}","import styles from '../css/app.scss'\nimport Turbolinks from 'turbolinks'\nimport lazysizes from 'lazysizes'\nimport CookieBox from './cookies/';\n\nimport { Application } from \"stimulus\"\nimport { definitionsFromContext } from \"stimulus/webpack-helpers\"\n\nTurbolinks.start()\nconst application = Application.start()\nconst context = require.context(\"./controllers\", true, /\\.js$/)\napplication.load(definitionsFromContext(context))\n\nnew CookieBox({backgroundColor: '#ec008c', url: '/privacy-policy'}).init();","export function definitionsFromContext(context) {\n    return context.keys()\n        .map(function (key) { return definitionForModuleWithContextAndKey(context, key); })\n        .filter(function (value) { return value; });\n}\nfunction definitionForModuleWithContextAndKey(context, key) {\n    var identifier = identifierForContextKey(key);\n    if (identifier) {\n        return definitionForModuleAndIdentifier(context(key), identifier);\n    }\n}\nfunction definitionForModuleAndIdentifier(module, identifier) {\n    var controllerConstructor = module.default;\n    if (typeof controllerConstructor == \"function\") {\n        return { identifier: identifier, controllerConstructor: controllerConstructor };\n    }\n}\nexport function identifierForContextKey(key) {\n    var logicalName = (key.match(/^(?:\\.\\/)?(.+)(?:[_-]controller\\..+?)$/) || [])[1];\n    if (logicalName) {\n        return logicalName.replace(/_/g, \"-\").replace(/\\//g, \"--\");\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQSxNQUFNLGlDQUFpQyxPQUEwQztJQUMvRSxPQUFPLE9BQU8sQ0FBQyxJQUFJLEVBQUU7U0FDbEIsR0FBRyxDQUFDLFVBQUEsR0FBRyxJQUFJLE9BQUEsb0NBQW9DLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxFQUFsRCxDQUFrRCxDQUFDO1NBQzlELE1BQU0sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssRUFBTCxDQUFLLENBQWlCLENBQUE7QUFDM0MsQ0FBQztBQUVELDhDQUE4QyxPQUEwQyxFQUFFLEdBQVc7SUFDbkcsSUFBTSxVQUFVLEdBQUcsdUJBQXVCLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDL0MsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLGdDQUFnQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQTtLQUNsRTtBQUNILENBQUM7QUFFRCwwQ0FBMEMsTUFBd0IsRUFBRSxVQUFrQjtJQUNwRixJQUFNLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUE7SUFDNUMsSUFBSSxPQUFPLHFCQUFxQixJQUFJLFVBQVUsRUFBRTtRQUM5QyxPQUFPLEVBQUUsVUFBVSxZQUFBLEVBQUUscUJBQXFCLHVCQUFBLEVBQUUsQ0FBQTtLQUM3QztBQUNILENBQUM7QUFFRCxNQUFNLGtDQUFrQyxHQUFXO0lBQ2pELElBQU0sV0FBVyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyx3Q0FBd0MsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ2xGLElBQUksV0FBVyxFQUFFO1FBQ2YsT0FBTyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFBO0tBQzNEO0FBQ0gsQ0FBQyJ9"],"sourceRoot":""}