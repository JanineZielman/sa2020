{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@stimulus/core/dist/src/event_listener.js","webpack:///./node_modules/@stimulus/core/dist/src/dispatcher.js","webpack:///./node_modules/@stimulus/core/dist/src/action_descriptor.js","webpack:///./node_modules/@stimulus/core/dist/src/action.js","webpack:///./node_modules/@stimulus/core/dist/src/binding.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/element_observer.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/attribute_observer.js","webpack:///./node_modules/@stimulus/multimap/dist/src/set_operations.js","webpack:///./node_modules/@stimulus/multimap/dist/src/multimap.js","webpack:///./node_modules/@stimulus/multimap/dist/src/indexed_multimap.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/token_list_observer.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/src/value_list_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/binding_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/context.js","webpack:///./node_modules/@stimulus/core/dist/src/definition.js","webpack:///./node_modules/@stimulus/core/dist/src/module.js","webpack:///./node_modules/@stimulus/core/dist/src/data_map.js","webpack:///./node_modules/@stimulus/core/dist/src/selectors.js","webpack:///./node_modules/@stimulus/core/dist/src/target_set.js","webpack:///./node_modules/@stimulus/core/dist/src/scope.js","webpack:///./node_modules/@stimulus/core/dist/src/scope_observer.js","webpack:///./node_modules/@stimulus/core/dist/src/router.js","webpack:///./node_modules/@stimulus/core/dist/src/schema.js","webpack:///./node_modules/@stimulus/core/dist/src/application.js","webpack:///./node_modules/@stimulus/core/dist/src/target_properties.js","webpack:///./node_modules/@stimulus/core/dist/src/controller.js","webpack:///./node_modules/stimulus/index.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/fizzy-ui-utils/utils.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/flickity/js/flickity.js","webpack:///./node_modules/get-size/get-size.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/ev-emitter/ev-emitter.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/outlayer/outlayer.js","webpack:///./node_modules/isotope-layout/js/layout-mode.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/unipointer/unipointer.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/core-js/internals/function-to-string.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/core-js/internals/v8-version.js","webpack:///./node_modules/core-js/internals/sloppy-array-method.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/desandro-matches-selector/matches-selector.js","webpack:///./node_modules/turbolinks/dist/turbolinks.js","webpack:///./node_modules/handorgel/lib/js/esm/handorgel.js","webpack:///./node_modules/google-maps/lib/index.js","webpack:///./node_modules/flickity/js/index.js","webpack:///./node_modules/isotope-layout/js/isotope.js","webpack:///./node_modules/lazysizes/lazysizes.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/user-agent.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./app/js/controllers sync \\.js$","webpack:///./app/js/controllers/faq_controller.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./app/js/controllers/map_controller.js","webpack:///./node_modules/core-js/internals/bind-context.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/google-maps/lib/loader.js","webpack:///./app/js/controllers/menu_controller.js","webpack:///./app/js/controllers/newsSlider_controller.js","webpack:///./node_modules/flickity/js/cell.js","webpack:///./node_modules/flickity/js/slide.js","webpack:///./node_modules/flickity/js/animate.js","webpack:///./node_modules/flickity/js/drag.js","webpack:///./node_modules/unidragger/unidragger.js","webpack:///./node_modules/flickity/js/prev-next-button.js","webpack:///./node_modules/flickity/js/page-dots.js","webpack:///./node_modules/flickity/js/player.js","webpack:///./node_modules/flickity/js/add-remove-cell.js","webpack:///./node_modules/flickity/js/lazyload.js","webpack:///./app/js/controllers/programmeGrid_controller.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/outlayer/item.js","webpack:///./node_modules/isotope-layout/js/item.js","webpack:///./node_modules/isotope-layout/js/layout-modes/masonry.js","webpack:///./node_modules/masonry-layout/masonry.js","webpack:///./node_modules/isotope-layout/js/layout-modes/fit-rows.js","webpack:///./node_modules/isotope-layout/js/layout-modes/vertical.js","webpack:///./app/js/cookies/languages.js","webpack:///./app/js/cookies/index.js","webpack:///./app/js/cookies/cookies.js","webpack:///./app/js/app.js","webpack:///./node_modules/@stimulus/webpack-helpers/dist/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","it","Math","check","globalThis","self","global","Function","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","configurable","writable","protoProps","staticProps","EventListener","eventTarget","eventName","this","unorderedBindings","Set","connect","addEventListener","disconnect","removeEventListener","bindingConnected","binding","add","bindingDisconnected","delete","handleEvent","event","extendedEvent","stopImmediatePropagation_1","stopImmediatePropagation","assign","immediatePropagationStopped","extendEvent","_i","_a","bindings","Array","from","sort","left","right","leftIndex","index","rightIndex","Dispatcher","application","eventListenerMaps","Map","started","start","eventListeners","forEach","eventListener","stop","values","reduce","listeners","map","concat","fetchEventListenerForBinding","handleError","error","message","detail","fetchEventListener","eventListenerMap","fetchEventListenerMapForEventTarget","createEventListener","set","descriptorPattern","Action","element","tagName","toLowerCase","defaultEventNames","getDefaultEventNameForElement","identifier","methodName","forToken","token","descriptorString","content","matches","trim","match","eventTargetName","document","toString","eventNameSuffix","e","getAttribute","Error","Binding","context","action","willBeInvokedByEvent","invokeWithEvent","method","controller","Element","contains","scope","containsElement","ElementObserver","delegate","_this","elements","mutationObserver","MutationObserver","mutations","processMutations","observe","attributes","childList","subtree","refresh","takeRecords","matchElementsInTree","has","removeElement","_b","_c","addElement","mutations_1","mutation","processMutation","type","processAttributeChange","attributeName","processRemovedNodes","removedNodes","processAddedNodes","addedNodes","node","elementAttributeChanged","matchElement","nodes","elementFromNode","processTree","elementIsActive","tree","processor","nodeType","Node","ELEMENT_NODE","isConnected","elementMatched","elementUnmatched","AttributeObserver","elementObserver","hasAttribute","querySelectorAll","selector","elementMatchedAttribute","elementUnmatchedAttribute","elementAttributeValueChanged","fetch","del","size","prune","extendStatics","Multimap","valuesByKey","hasKey","hasValue","some","getValuesForKey","getKeysForValue","filter","__extends","setPrototypeOf","__proto__","b","__","constructor","_super","IndexedMultimap","keysByValue","keys","TokenListObserver","attributeObserver","tokensByElement","tokensMatched","readTokensForElement","refreshTokensForElement","unmatchedTokens","matchedTokens","tokensUnmatched","tokens","tokenMatched","tokenUnmatched","previousTokens","currentTokens","firstDifferingIndex","max","_","findIndex","tokensAreEqual","tokenString","split","parseTokenString","ValueListObserver","tokenListObserver","parseResultsByToken","WeakMap","valuesByTokenByElement","fetchParseResultForToken","fetchValuesByTokenForElement","elementMatchedValue","elementUnmatchedValue","parseResult","parseToken","valuesByToken","parseValueForToken","BindingObserver","bindingsByAction","valueListObserver","actionAttribute","disconnectAllActions","schema","connectAction","disconnectAction","clear","Context","controllerConstructor","bindingObserver","dispatcher","initialize","parentElement","blessControllerConstructor","extend","bless","extendWithReflect","Controller","_newTarget","Reflect","construct","arguments","a","Module","definition","blessDefinition","contextsByScope","connectedContexts","connectContextForScope","fetchContextForScope","disconnectContextForScope","DataMap","getFormattedKey","setAttribute","removeAttribute","replace","char","attributeValueContainsToken","TargetSet","targetName","find","targetNames","getSelectorForTargetNames","findElement","findAll","findAllElements","getSelectorForTargetName","join","targetDescriptor","targetAttribute","Scope","targets","head","tail","filterElements","closest","controllerSelector","controllerAttribute","ScopeObserver","scopesByIdentifierByElement","scopeReferenceCounts","scopesByIdentifier","fetchScopesByIdentifierForElement","referenceCount","scopeConnected","scopeDisconnected","Router","scopeObserver","modulesByIdentifier","contexts","loadDefinition","unloadIdentifier","connectModule","disconnectModule","getContextForElementAndIdentifier","defaultSchema","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","step","next","rejected","done","then","__generator","body","f","y","g","label","sent","trys","ops","verb","iterator","v","op","pop","Application","documentElement","router","readyState","register","load","rest","definitions","isArray","unload","identifiers","getControllerForElementAndIdentifier","console","defineTargetProperties","ancestors","getPrototypeOf","getAncestorsForConstructor","getOwnTargetNamesForConstructor","getTargetNamesForConstructor","properties","charAt","toUpperCase","capitalize","exec","factory","matchesSelector","utils","prop","num","div","arraySlice","makeArray","obj","removeFrom","ary","indexOf","getParent","elem","parentNode","getQueryElement","querySelector","filterFindElements","elems","ffElems","HTMLElement","childElems","debounceMethod","_class","threshold","timeoutName","timeout","clearTimeout","args","setTimeout","docReady","callback","toDashed","str","$1","$2","htmlInit","WidgetClass","namespace","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","jQuery","options","attr","JSON","parse","className","_typeof","assertThisInitialized","_getPrototypeOf","subClass","superClass","shared","uid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","getOwnPropertyDescriptor","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","source","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","undefined","sham","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","isObject","String","EvEmitter","getSize","Cell","Slide","animatePrototype","getComputedStyle","moveElements","toElem","appendChild","GUID","instances","Flickity","queryElement","flickityGUID","option","$element","defaults","_create","accessibility","cellAlign","freeScrollFriction","friction","namespaceJQueryEvents","percentPosition","resize","selectedAttraction","setGallerySize","createMethods","proto","id","guid","selectedIndex","restingFrames","x","velocity","originSide","rightToLeft","viewport","createElement","_createSlider","watchCSS","on","listener","activate","opts","isActive","classList","_filterFindCellElements","children","slider","reloadCells","tabIndex","emitEvent","selectInitialIndex","isInitActivated","dispatchEvent","style","cellSelector","cells","_makeCells","positionCells","_getWrapShiftCells","cellElem","getLastCell","getLastSlide","slides","_sizeCells","_positionCells","maxCellHeight","cellX","startCell","outerWidth","len","cell","setPosition","outerHeight","slideableWidth","updateSlides","_containSlides","slidesWidth","slide","nextMargin","canCellFit","_getCanCellFit","slideWidth","firstMargin","addCell","updateTarget","updateSelectedSlide","groupCells","number","parseInt","percentMatch","percent","innerWidth","_init","reposition","positionSliderAtSelected","setCellAlign","cursorPosition","cellAlignShorthands","center","shorthand","height","adaptiveHeight","selectedSlide","wrapAround","_unshiftCells","beforeShiftCells","afterShiftCells","gapX","cellIndex","_getGapCells","increment","contain","isRightToLeft","beginMargin","endMargin","contentWidth","isContentSmaller","beginBound","endBound","min","emitArgs","$event","jQEvent","Event","trigger","select","isWrap","isInstant","_wrapSelect","modulo","prevIndex","startAnimation","wrapIndex","delta","abs","backWrapDelta","forewardWrapDelta","isDragSelect","previous","unselectSelectedSlide","selectedCells","selectedElements","getCellElements","selectedCell","selectedElement","unselect","initialIndex","queryCell","selectCell","getCellSlideIndex","getCell","getCells","getParentCell","getAdjacentCellElements","adjCount","cellElems","slideIndex","uiChange","childUIPointerDown","preventDefault","focus","onresize","deactivate","onkeydown","isNotFocused","activeElement","handler","keyboardHandlers","keyCode","37","leftMethod","39","rightMethod","prevScrollY","pageYOffset","preventScroll","scrollTo","pageXOffset","remove","destroy","removeChild","allOff","removeData","bridget","setJQuery","jq","getStyleSize","parseFloat","isNaN","logError","measurements","measurementsLength","getStyle","isBoxSizeOuter","isSetup","width","padding","borderStyle","borderWidth","boxSizing","round","setup","display","innerHeight","getZeroSize","offsetWidth","offsetHeight","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","fails","events","_events","once","onceEvents","_onceEvents","off","onceListeners","IE8_DOM_DEFINE","anObject","toPrimitive","nativeDefineProperty","O","Attributes","IS_PURE","store","version","copyright","toInteger","argument","re1","re2","regexpFlags","nativeExec","RegExp","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","NPCG_INCLUDED","reCopy","re","Item","noop","Outlayer","outlayerGUID","_getOption","layout","containerStyle","position","initLayout","originLeft","originTop","resizeContainer","transitionDuration","hiddenStyle","opacity","transform","visibleStyle","subclass","Parent","SubClass","oldOption","compatOptions","horizontal","layoutInstant","reloadItems","stamps","stamp","bindResize","items","_itemize","itemElems","_filterFindItemElements","item","itemSelector","getItemElements","_resetLayout","_manageStamps","_isLayoutInited","layoutItems","_getMeasurement","_getItemsForLayout","_layoutItems","_postLayout","isIgnored","_emitCompleteOnItems","queue","_getItemLayoutPosition","isLayoutInstant","_processLayoutQueue","updateStagger","_positionItem","stagger","time","unit","mult","msUnits","getMilliseconds","goTo","moveTo","_getContainerSize","_setContainerMeasure","measure","isWidth","elemSize","onComplete","count","doneCount","tick","ignore","getItem","unignore","_find","unstamp","_getBoundingRect","_manageStamp","boundingRect","getBoundingClientRect","_boundingRect","top","bottom","_getElementOffset","thisRect","isResizeBound","unbindResize","needsResizeLayout","addItems","appended","reveal","prepended","previousItems","hide","revealItemElements","getItems","hideItemElements","removeItems","Layout","ms","LayoutMode","isotope","filteredItems","needsVerticalResizeLayout","getColumnWidth","getSegmentSize","getRowHeight","segment","segmentName","outerSize","firstItemSize","getFirstItemSize","firstItem","modes","Mode","bitmap","IndexedObject","requireObjectCoercible","input","PREFERRED_STRING","fn","val","valueOf","path","aFunction","variable","toIndexedObject","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","includes","ceil","floor","Unipointer","bindStartEvent","_bindStartEvent","unbindStartEvent","isAdd","bindMethod","startEvent","PointerEvent","getTouch","touches","touch","pointerIdentifier","onmousedown","button","_pointerDown","ontouchstart","changedTouches","onpointerdown","pointer","isPointerDown","pointerId","pointerDown","_bindPostStartEvents","postStartEvents","mousedown","touchstart","pointerdown","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","_pointerReset","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","pageX","pageY","propertyIsEnumerableModule","nativeGetOwnPropertyDescriptor","classof","propertyIsEnumerable","EXISTS","nativeFunctionToString","InternalStateModule","getInternalState","enforceInternalState","enforce","TEMPLATE","unsafe","simple","postfix","random","hiddenKeys","names","arg","SPECIES","wellKnownSymbol","originalArray","C","getOwnPropertySymbols","V8_VERSION","METHOD_NAME","array","foo","Boolean","userAgent","process","versions","v8","MATCH","isRegExp","$","$forEach","sloppyArrayMethod","callbackfn","toObject","arraySpeciesCreate","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","that","specificCreate","boundFunction","every","DOMIterables","COLLECTION_NAME","Collection","CollectionPrototype","matchesMethod","ElemProto","prefixes","Turbolinks","supported","history","pushState","requestAnimationFrame","visit","clearCache","setProgressBarDelay","copyObject","defer","throttle","dispatch","u","cancelable","createEvent","initEvent","defaultPrevented","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","uuid","Location","href","absoluteURL","hash","requestURL","anchor","wrap","getOrigin","getPath","getPathComponents","getLastPathComponent","getExtension","isHTML","isPrefixedBy","isEqualTo","toCacheKey","toJSON","HttpRequest","requestCanceled","requestTimedOut","requestFailed","requestLoaded","requestProgressed","url","referrer","createXHR","NETWORK_FAILURE","TIMEOUT_FAILURE","send","xhr","notifyApplicationBeforeRequestStart","setProgress","requestStarted","cancel","abort","lengthComputable","loaded","total","endRequest","status","requestCompletedWithResponse","responseText","getResponseHeader","failed","requestFailedWithStatusCode","notifyApplicationAfterRequestEnd","XMLHttpRequest","open","setRequestHeader","onprogress","onload","onerror","ontimeout","onabort","progress","requestFinished","ProgressBar","trickle","stylesheetElement","createStylesheetElement","progressElement","createProgressElement","defaultCSS","show","visible","installStylesheetElement","installProgressElement","startTrickling","hiding","fadeProgressElement","uninstallProgressElement","stopTrickling","setValue","insertBefore","firstChild","trickleInterval","setInterval","clearInterval","textContent","BrowserAdapter","showProgressBar","progressBar","visitProposedToLocationWithAction","startVisitToLocationWithAction","visitStarted","issueRequest","changeHistory","loadCachedSnapshot","visitRequestStarted","hasCachedSnapshot","showProgressBarAfterDelay","visitRequestProgressed","visitRequestCompleted","loadResponse","visitRequestFailedWithStatusCode","reload","visitRequestFinished","hideProgressBar","visitCompleted","followRedirect","pageInvalidated","progressBarTimeout","progressBarDelay","location","History","onPageLoad","onPopState","update","shouldHandlePopState","state","turbolinks","restorationIdentifier","historyPoppedToLocationWithRestorationIdentifier","pageLoaded","pageIsLoaded","HeadDetails","outerHTML","tracked","fromHeadElement","childNodes","hasElementWithKey","getTrackedElementSignature","getScriptElementsNotInDetails","getElementsMatchingTypeNotInDetails","getStylesheetElementsNotInDetails","getProvisionalElements","getMetaValue","findMetaElementByName","Snapshot","headDetails","bodyElement","fromHTMLString","fromHTMLElement","innerHTML","clone","cloneNode","getRootLocation","getSetting","getCacheControlValue","getElementForAnchor","getPermanentElements","getPermanentElementById","getPermanentElementsPresentInSnapshot","findFirstAutofocusableElement","hasAnchor","isPreviewable","isCacheable","isVisitable","Renderer","render","renderView","viewWillRender","newBody","viewRendered","invalidateView","viewInvalidated","createScriptElement","async","__super__","SnapshotRenderer","currentSnapshot","newSnapshot","isPreview","currentHeadDetails","newHeadDetails","currentBody","shouldRender","mergeHead","replaceBody","focusFirstAutofocusableElement","copyNewHeadStylesheetElements","copyNewHeadScriptElements","removeCurrentHeadProvisionalElements","copyNewHeadProvisionalElements","relocateCurrentBodyPermanentElements","activateNewBodyScriptElements","assignNewBody","replacePlaceholderElementsWithClonedPermanentElements","trackedElementsAreIdentical","getNewHeadStylesheetElements","getNewHeadScriptElements","getCurrentHeadProvisionalElements","getNewHeadProvisionalElements","getCurrentBodyPermanentElements","permanentElement","getNewBodyScriptElements","replaceChild","ErrorRenderer","newHead","replaceHeadAndBody","activateBodyScriptElements","getScriptElements","View","htmlElement","getSnapshot","snapshot","markAsPreview","renderSnapshot","renderError","ScrollManager","onScroll","scrollToElement","scrollIntoView","scrollToPosition","updatePosition","scrollPositionChanged","SnapshotCache","snapshots","read","put","write","unshift","Visit","performScroll","adapter","timingMetrics","recordTimingMetric","request","cancelRender","complete","fail","visitFailed","historyChanged","shouldIssueRequest","getCachedSnapshot","getCachedSnapshotForLocation","cacheSnapshot","visitRendered","response","redirectedToLocation","followedRedirect","replaceHistoryWithLocationAndRestorationIdentifier","scrolled","scrollToRestoredPosition","scrollToTop","scrollToAnchor","restorationData","scrollPosition","Date","getTime","getTimingMetrics","snapshotCached","frame","cancelAnimationFrame","clickBubbled","clickCaptured","view","scrollManager","startHistory","enabled","disable","stopHistory","cache","applicationAllowsVisitingLocation","locationIsVisitable","getRestorationDataForIdentifier","startVisit","pushHistoryWithLocationAndRestorationIdentifier","shouldCacheSnapshot","notifyApplicationBeforeCachingSnapshot","lastRenderedLocation","getCurrentRestorationData","notifyApplicationBeforeRender","currentVisit","notifyApplicationAfterRender","notifyApplicationAfterPageLoad","clickEventIsSignificant","getVisitableLinkForNode","getVisitableLocationForLink","applicationAllowsFollowingLinkToLocation","getActionForLink","notifyApplicationAfterClickingLinkToLocation","notifyApplicationBeforeVisitingLocation","notifyApplicationAfterVisitingLocation","timing","createVisit","isContentEditable","which","altKey","ctrlKey","metaKey","shiftKey","nodeIsVisitable","currentScript","warn","_classCallCheck","_createClass","commonjsGlobal","evEmitter","createCommonjsModule","rAF","webkitRequestAnimationFrame","mozRequestAnimationFrame","isWritable","src","ID_COUNTER","ARIA_ATTRIBUTES","expanded","disabled","role","KEYS","HandorgelFold","handorgel","header","handorgelFold","firstElementChild","focused","_listeners","_bindEvents","_initAria","_initialOpen","_initialFocus","transition","collapsible","_updateAria","headerOpenClass","contentOpenClass","_opened","enable","headerOpenedClass","contentOpenedClass","_closed","headerDisabledClass","contentDisabledClass","blur","close","headerNoTransitionClass","contentNoTransitionClass","_unbindEvents","_cleanAria","headerFocusClass","contentFocusClass","_this2","initialOpenAttribute","initialOpenTransition","initialOpenTransitionDelay","_handleFocus","ariaEnabled","newValue","_property","_newValue","currentTarget","propertyName","toggle","keyboardInteraction","bFocus","bBlur","_handleBlur","bClick","_handleButtonClick","bKeydown","_handleButtonKeydown","cKeydown","_handleContentKeydown","cTransition","_handleContentTransitionEnd","ID_COUNTER$1","Handorgel","folds","defaultOptions","_resizing","childrenLength","fold","foldsLength","currentFocusedIndex","carouselFocus","openFold","multiSelectable","_handleResize","foldOpen","_handleFoldOpen","__export","Isotope","layoutMode","isJQueryFiltering","sortAscending","itemGUID","_sorters","_getSorters","sortHistory","_initLayoutMode","_updateItemsSortData","initialOpts","_layout","arrange","_getIsInstant","filtered","_filter","_bindArrangeComplete","_isInstant","_noTransition","_hideReveal","_sort","needReveal","needHide","isLayoutComplete","isHideComplete","isRevealComplete","arrangeParallelCallback","hiddenMatched","visibleUnmatched","test","_getFilterTest","isMatched","isHidden","is","updateSortData","getSortData","sorter","mungeSorter","query","attrMatch","getValue","child","getValueGetter","parser","sortDataParsers","sortBy","sortBys","_getIsSameSortBy","itemSorter","sortAsc","itemA","itemB","sortData","getItemSorter","_mode","_filterRevealAdded","insert","filteredInsertItems","_remove","shuffle","returnValue","getFilteredItemElements","lazySizes","lazysizes","lazySizesCfg","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","srcAttr","srcsetAttr","sizesAttr","minSize","customMedia","init","expFactor","hFac","loadMode","loadHidden","ricTimeout","throttleDelay","lazySizesConfig","lazysizesConfig","getElementsByClassName","cfg","noSupport","docElem","supportPicture","HTMLPictureElement","requestIdleCallback","regPicture","loadEvents","regClassCache","hasClass","ele","cls","addClass","removeClass","reg","addRemoveLoadEvents","dom","evt","triggerEvent","noBubbles","noCancelable","updatePolyfill","full","polyfill","picturefill","pf","reevaluate","getCSS","getWidth","parent","_lazysizesWidth","firstFns","secondFns","fns","run","runFns","running","waiting","rafBatch","hidden","_lsFlush","rAFIt","debounce","func","timestamp","later","last","now","loader","regImg","regIframe","supportScroll","navigator","currentExpand","isLoading","lowRuns","resetPreloading","isVisible","isBodyHidden","isNestedVisible","elemExpand","outerRect","eLtop","eLbottom","eLleft","eLright","offsetParent","checkElements","eLlen","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","defaultExpand","preloadExpand","lazyloadElems","_lazyRace","prematureUnveil","unveilElement","expand","clientHeight","clientWidth","_defEx","eLvW","elvH","isCompleted","preloadElems","preloadAfterLoad","throttledCheckElements","lastTime","gDelay","rICTimeout","idleCallback","isPriority","delay","switchLoadingClass","_lazyCache","rafSwitchLoadingClass","rafedSwitchLoadingClass","handleSources","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","nodeName","resetPreloadingTimer","getElementsByTagName","contentWindow","changeIframeSrc","isLoaded","naturalWidth","loading","autoSizer","updateElem","afterScroll","altLoadmodeScrollListner","persisted","loadingElements","img","checkElems","unveil","_aLSL","sizeElement","sources","getSizeElement","debouncedUpdateElementsSizes","autosizesElems","uP","aC","rC","hC","fire","gW","createProperty","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","k","E","A","nativePropertyIsEnumerable","NASHORN_BUG","1","V","NATIVE_WEAK_MAP","objectHas","sharedKey","wmget","wmhas","wmset","metadata","STATE","getterFor","ownKeys","getOwnPropertyDescriptorModule","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","internalObjectKeys","getOwnPropertyNames","integer","replacement","feature","detection","normalize","POLYFILL","NATIVE","string","propertyKey","$indexOf","nativeIndexOf","NEGATIVE_ZERO","SLOPPY_METHOD","searchElement","ignoreCase","multiline","dotAll","unicode","sticky","fixRegExpWellKnownSymbolLogic","speciesConstructor","advanceStringIndex","callRegExpExec","regexpExec","arrayPush","SUPPORTS_Y","SPLIT","nativeSplit","maybeCallNative","internalSplit","separator","limit","lim","lastLength","output","flags","lastLastIndex","separatorCopy","splitter","regexp","res","rx","S","unicodeMatching","q","z","REPLACE_SUPPORTS_NAMED_GROUPS","groups","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","KEY","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","methods","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","defaultConstructor","CONVERT_TO_STRING","pos","first","second","charCodeAt","codeAt","R","webpackContext","req","webpackContextResolve","code","log","accordion","ReferenceError","_setPrototypeOf","google","maps","initMap","Loader","locations","mapOptions","zoom","LatLng","mapTypeId","MapTypeId","ROADMAP","streetViewControl","mapTypeControl","lat","long","Marker","title","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","apiKey","api","CALLBACK_NAME","script","createUrl","parameters","name_1","contentTarget","flkty","carouselTarget","pageDots","prevNextButtons","autoPlay","side","renderPosition","setDefaultTarget","marginProperty","getPositionValue","wrapShift","isOriginLeft","lastCell","lastMargin","isAnimating","animate","applyDragForce","applySelectedAttraction","previousX","integratePhysics","positionSlider","settle","shiftWrapCells","setTranslateX","dispatchScrollEvent","is3d","translateX","firstSlide","positionX","isFreeScrolling","beforeGap","_shiftCells","afterGap","gap","cellShift","getFrictionFactor","force","isDraggable","dragForce","dragX","applyForce","Unidragger","draggable","dragThreshold","_touchActionValue","isTouch","isTouchmoveScrollCanceled","_createDrag","onActivateDrag","_uiChangeDrag","onDeactivateDrag","updateDraggable","handles","bindHandles","unbindHandles","bindDrag","unbindDrag","okayPointerDown","_pointerDownPreventDefault","pointerDownFocus","pointerDownBlur","pointerDownScroll","getScrollPosition","_pointerDownDefault","pointerDownPointer","focusNodes","INPUT","TEXTAREA","SELECT","isTouchStart","isTouchPointer","pointerType","isFocusNode","hasDragStarted","moveVector","isTouchScrolling","_dragPointerUp","dragStart","dragStartPosition","_dragPointerMove","_dragMove","dragMove","previousDragX","direction","originBound","dragMoveTime","dragEnd","freeScroll","dragEndRestingSelect","restingX","getRestingPosition","dragEndBoostSelect","distance","getSlideDistance","positiveResting","_getClosestResting","negativeResting","minDistance","Infinity","condition","md","isWrapAround","staticClick","clickedCell","onscroll","scroll","scrollMoveX","scrollMoveY","_bindHandles","touchAction","handle","cursorNodes","OPTION","clickTypes","radio","checkbox","submit","image","file","isCursorNode","isClickType","isOkay","isDragging","_dragStart","_dragEnd","_staticClick","isPreventingClicks","onclick","isIgnoringMouseUp","svgURI","PrevNextButton","isEnabled","isPrevious","leftDirection","isLeft","svg","createSVG","createElementNS","shape","pathMovements","arrowShape","x0","x1","y1","x2","y2","x3","boundIndex","_createPrevNextButtons","prevButton","nextButton","activatePrevNextButtons","deactivatePrevNextButtons","PageDots","holder","dots","handleClick","onClick","setDots","addDots","removeDots","fragment","createDocumentFragment","newDots","dot","updateSelected","selectedDot","onTap","_createPageDots","activatePageDots","updateSelectedPageDots","updatePageDots","deactivatePageDots","Player","onVisibilityChange","visibilityChange","onVisibilityPlay","visibilityPlay","play","pause","unpause","pauseAutoPlayOnHover","_createPlayer","player","activatePlayer","stopPlayer","deactivatePlayer","playPlayer","pausePlayer","unpausePlayer","onmouseenter","onmouseleave","getCellsFragment","isAppend","insertCellElement","endCells","cellChange","append","prepend","minCellIndex","cellSizeChange","changedCellIndex","isPositioningSlider","prevSelectedElem","LazyLoader","flickity","_createLazyload","lazyLoad","lazyImages","lazyCellImages","lazyloadAttr","imgs","getCellLazyImages","iso","containerTarget","az","highlights","lastadded","filterData","date","filterEventTypeTarget","filterDateTarget","locationTarget","sortTarget","sortOption","gridItemElem","conditionEvent","conditionDate","conditionLocation","$filter","$includes","addToUnscopables","UNSCOPABLES","ArrayPrototype","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","Empty","createDict","iframeDocument","iframe","lt","F","Properties","objectKeys","notARegExp","correctIsRegExpLogic","searchString","docElemStyle","transitionProperty","transformProperty","transitionEndEvent","WebkitTransition","vendorProperties","transitionDelay","_transn","ingProperties","clean","onEnd","css","elemStyle","getPosition","isOriginTop","xValue","yValue","layoutSize","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","_transitionTo","curX","curY","didNotMove","isTransitioning","transX","transY","transitionStyle","getTranslate","to","onTransitionEnd","isCleaning","_nonTransition","_removeStyles","_transition","enableTransition","transitionProps","duration","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","isEmptyObj","disableTransition","removeTransitionStyles","cleanStyle","cleanTransitionStyle","removeElem","getHideRevealTransitionEndProperty","onRevealTransitionEnd","styleProperty","optionStyle","onHideTransitionEnd","sorters","_destroy","Masonry","MasonryMode","keepModeMethods","measureColumns","isFitWidth","fitWidth","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItemElem","containerWidth","gutter","excess","container","remainder","colSpan","colPosition","horizontalOrder","col","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","hasSize","stampSize","offset","firstX","lastX","firstCol","lastCol","stampMaxY","_getContainerFitWidth","unusedCols","previousWidth","FitRows","itemWidth","Vertical","horizontalAlignment","languages","de","accept","learnMore","en","fr","pt","pl","ro","COOKIE_BOX_INITIALIZED","CookieBox","params","userSettings","CookieBoxConfig","box","settings","backgroundColor","textColor","language","linkTarget","cookieKey","cookieDomain","host","cookieExpireInDays","dictionary","nameQuery","cookies","cookie","substring","readCookie","days","domain","expires","setTime","toGMTString","createCookie","initBox","require","logicalName","identifierForContextKey","default","definitionForModuleAndIdentifier","definitionForModuleWithContextAndKey","definitionsFromContext"],"mappings":"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","file":"js/app-legacy.a619b97dff18d4de4c26.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([133,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var EventListener = /** @class */ (function () {\n    function EventListener(eventTarget, eventName) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.unorderedBindings = new Set;\n    }\n    EventListener.prototype.connect = function () {\n        this.eventTarget.addEventListener(this.eventName, this, false);\n    };\n    EventListener.prototype.disconnect = function () {\n        this.eventTarget.removeEventListener(this.eventName, this, false);\n    };\n    // Binding observer delegate\n    /** @hidden */\n    EventListener.prototype.bindingConnected = function (binding) {\n        this.unorderedBindings.add(binding);\n    };\n    /** @hidden */\n    EventListener.prototype.bindingDisconnected = function (binding) {\n        this.unorderedBindings.delete(binding);\n    };\n    EventListener.prototype.handleEvent = function (event) {\n        var extendedEvent = extendEvent(event);\n        for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {\n            var binding = _a[_i];\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    };\n    Object.defineProperty(EventListener.prototype, \"bindings\", {\n        get: function () {\n            return Array.from(this.unorderedBindings).sort(function (left, right) {\n                var leftIndex = left.index, rightIndex = right.index;\n                return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventListener;\n}());\nexport { EventListener };\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        var stopImmediatePropagation_1 = event.stopImmediatePropagation;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation: function () {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation_1.call(this);\n            }\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnRfbGlzdGVuZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXZlbnRfbGlzdGVuZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7SUFLRSx1QkFBWSxXQUF3QixFQUFFLFNBQWlCO1FBQ3JELElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFBO1FBQzFCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsK0JBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUE7SUFDaEUsQ0FBQztJQUVELGtDQUFVLEdBQVY7UUFDRSxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25FLENBQUM7SUFFRCw0QkFBNEI7SUFFNUIsY0FBYztJQUNkLHdDQUFnQixHQUFoQixVQUFpQixPQUFnQjtRQUMvQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ3JDLENBQUM7SUFFRCxjQUFjO0lBQ2QsMkNBQW1CLEdBQW5CLFVBQW9CLE9BQWdCO1FBQ2xDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDeEMsQ0FBQztJQUVELG1DQUFXLEdBQVgsVUFBWSxLQUFZO1FBQ3RCLElBQU0sYUFBYSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUN4QyxLQUFzQixVQUFhLEVBQWIsS0FBQSxJQUFJLENBQUMsUUFBUSxFQUFiLGNBQWEsRUFBYixJQUFhLEVBQUU7WUFBaEMsSUFBTSxPQUFPLFNBQUE7WUFDaEIsSUFBSSxhQUFhLENBQUMsMkJBQTJCLEVBQUU7Z0JBQzdDLE1BQUs7YUFDTjtpQkFBTTtnQkFDTCxPQUFPLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFBO2FBQ25DO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsc0JBQUksbUNBQVE7YUFBWjtZQUNFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxJQUFJLEVBQUUsS0FBSztnQkFDekQsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxVQUFVLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQTtnQkFDdEQsT0FBTyxTQUFTLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDckUsQ0FBQyxDQUFDLENBQUE7UUFDSixDQUFDOzs7T0FBQTtJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQWhERCxJQWdEQzs7QUFFRCxxQkFBcUIsS0FBWTtJQUMvQixJQUFJLDZCQUE2QixJQUFJLEtBQUssRUFBRTtRQUMxQyxPQUFPLEtBQUssQ0FBQTtLQUNiO1NBQU07UUFDRyxJQUFBLDJEQUF3QixDQUFVO1FBQzFDLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUU7WUFDMUIsMkJBQTJCLEVBQUUsS0FBSztZQUNsQyx3QkFBd0I7Z0JBQ3RCLElBQUksQ0FBQywyQkFBMkIsR0FBRyxJQUFJLENBQUE7Z0JBQ3ZDLDBCQUF3QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUNyQyxDQUFDO1NBQ0YsQ0FBQyxDQUFBO0tBQ0g7QUFDSCxDQUFDIn0=","import { EventListener } from \"./event_listener\";\nvar Dispatcher = /** @class */ (function () {\n    function Dispatcher(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map;\n        this.started = false;\n    }\n    Dispatcher.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach(function (eventListener) { return eventListener.connect(); });\n        }\n    };\n    Dispatcher.prototype.stop = function () {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach(function (eventListener) { return eventListener.disconnect(); });\n        }\n    };\n    Object.defineProperty(Dispatcher.prototype, \"eventListeners\", {\n        get: function () {\n            return Array.from(this.eventListenerMaps.values())\n                .reduce(function (listeners, map) { return listeners.concat(Array.from(map.values())); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Binding observer delegate\n    /** @hidden */\n    Dispatcher.prototype.bindingConnected = function (binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    };\n    /** @hidden */\n    Dispatcher.prototype.bindingDisconnected = function (binding) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n    };\n    // Error handling\n    Dispatcher.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    Dispatcher.prototype.fetchEventListenerForBinding = function (binding) {\n        var eventTarget = binding.eventTarget, eventName = binding.eventName;\n        return this.fetchEventListener(eventTarget, eventName);\n    };\n    Dispatcher.prototype.fetchEventListener = function (eventTarget, eventName) {\n        var eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        var eventListener = eventListenerMap.get(eventName);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName);\n            eventListenerMap.set(eventName, eventListener);\n        }\n        return eventListener;\n    };\n    Dispatcher.prototype.createEventListener = function (eventTarget, eventName) {\n        var eventListener = new EventListener(eventTarget, eventName);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    };\n    Dispatcher.prototype.fetchEventListenerMapForEventTarget = function (eventTarget) {\n        var eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map;\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    };\n    return Dispatcher;\n}());\nexport { Dispatcher };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlzcGF0Y2hlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaXNwYXRjaGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQTtBQUVoRDtJQUtFLG9CQUFZLFdBQXdCO1FBQ2xDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtRQUNoQyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtJQUN0QixDQUFDO0lBRUQsMEJBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO1lBQ25CLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQUEsYUFBYSxJQUFJLE9BQUEsYUFBYSxDQUFDLE9BQU8sRUFBRSxFQUF2QixDQUF1QixDQUFDLENBQUE7U0FDdEU7SUFDSCxDQUFDO0lBRUQseUJBQUksR0FBSjtRQUNFLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNoQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtZQUNwQixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFBLGFBQWEsSUFBSSxPQUFBLGFBQWEsQ0FBQyxVQUFVLEVBQUUsRUFBMUIsQ0FBMEIsQ0FBQyxDQUFBO1NBQ3pFO0lBQ0gsQ0FBQztJQUVELHNCQUFJLHNDQUFjO2FBQWxCO1lBQ0UsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQztpQkFDL0MsTUFBTSxDQUFDLFVBQUMsU0FBUyxFQUFFLEdBQUcsSUFBSyxPQUFBLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUExQyxDQUEwQyxFQUFFLEVBQXFCLENBQUMsQ0FBQTtRQUNsRyxDQUFDOzs7T0FBQTtJQUVELDRCQUE0QjtJQUU1QixjQUFjO0lBQ2QscUNBQWdCLEdBQWhCLFVBQWlCLE9BQWdCO1FBQy9CLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUN0RSxDQUFDO0lBRUQsY0FBYztJQUNkLHdDQUFtQixHQUFuQixVQUFvQixPQUFnQjtRQUNsQyxJQUFJLENBQUMsNEJBQTRCLENBQUMsT0FBTyxDQUFDLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDekUsQ0FBQztJQUVELGlCQUFpQjtJQUVqQixnQ0FBVyxHQUFYLFVBQVksS0FBWSxFQUFFLE9BQWUsRUFBRSxNQUFtQjtRQUFuQix1QkFBQSxFQUFBLFdBQW1CO1FBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFTLE9BQVMsRUFBRSxNQUFNLENBQUMsQ0FBQTtJQUNqRSxDQUFDO0lBRU8saURBQTRCLEdBQXBDLFVBQXFDLE9BQWdCO1FBQzNDLElBQUEsaUNBQVcsRUFBRSw2QkFBUyxDQUFZO1FBQzFDLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQTtJQUN4RCxDQUFDO0lBRU8sdUNBQWtCLEdBQTFCLFVBQTJCLFdBQXdCLEVBQUUsU0FBaUI7UUFDcEUsSUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsbUNBQW1DLENBQUMsV0FBVyxDQUFDLENBQUE7UUFDOUUsSUFBSSxhQUFhLEdBQUcsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ25ELElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDbEIsYUFBYSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUE7WUFDaEUsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUMvQztRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyx3Q0FBbUIsR0FBM0IsVUFBNEIsV0FBd0IsRUFBRSxTQUFpQjtRQUNyRSxJQUFNLGFBQWEsR0FBRyxJQUFJLGFBQWEsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUE7UUFDL0QsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtTQUN4QjtRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyx3REFBbUMsR0FBM0MsVUFBNEMsV0FBd0I7UUFDbEUsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQzlELElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUNyQixnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsQ0FBQTtZQUMxQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFBO1NBQzFEO1FBQ0QsT0FBTyxnQkFBZ0IsQ0FBQTtJQUN6QixDQUFDO0lBQ0gsaUJBQUM7QUFBRCxDQUFDLEFBL0VELElBK0VDIn0=","// capture nos.:            12   23 4               43   1 5   56 7  76\nvar descriptorPattern = /^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;\nexport function parseDescriptorString(descriptorString) {\n    var source = descriptorString.trim();\n    var matches = source.match(descriptorPattern) || [];\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName: matches[2],\n        identifier: matches[5],\n        methodName: matches[7]\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nexport function stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uX2Rlc2NyaXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYWN0aW9uX2Rlc2NyaXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBT0EsdUVBQXVFO0FBQ3ZFLElBQU0saUJBQWlCLEdBQUcsZ0RBQWdELENBQUE7QUFFMUUsTUFBTSxnQ0FBZ0MsZ0JBQXdCO0lBQzVELElBQU0sTUFBTSxHQUFHLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQ3RDLElBQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDckQsT0FBTztRQUNMLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsU0FBUyxFQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdkIsVUFBVSxFQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdkIsVUFBVSxFQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDeEIsQ0FBQTtBQUNILENBQUM7QUFFRCwwQkFBMEIsZUFBdUI7SUFDL0MsSUFBSSxlQUFlLElBQUksUUFBUSxFQUFFO1FBQy9CLE9BQU8sTUFBTSxDQUFBO0tBQ2Q7U0FBTSxJQUFJLGVBQWUsSUFBSSxVQUFVLEVBQUU7UUFDeEMsT0FBTyxRQUFRLENBQUE7S0FDaEI7QUFDSCxDQUFDO0FBRUQsTUFBTSwrQkFBK0IsV0FBd0I7SUFDM0QsSUFBSSxXQUFXLElBQUksTUFBTSxFQUFFO1FBQ3pCLE9BQU8sUUFBUSxDQUFBO0tBQ2hCO1NBQU0sSUFBSSxXQUFXLElBQUksUUFBUSxFQUFFO1FBQ2xDLE9BQU8sVUFBVSxDQUFBO0tBQ2xCO0FBQ0gsQ0FBQyJ9","import { parseDescriptorString, stringifyEventTarget } from \"./action_descriptor\";\nvar Action = /** @class */ (function () {\n    function Action(element, index, descriptor) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n    }\n    Action.forToken = function (token) {\n        return new this(token.element, token.index, parseDescriptorString(token.content));\n    };\n    Action.prototype.toString = function () {\n        var eventNameSuffix = this.eventTargetName ? \"@\" + this.eventTargetName : \"\";\n        return \"\" + this.eventName + eventNameSuffix + \"->\" + this.identifier + \"#\" + this.methodName;\n    };\n    Object.defineProperty(Action.prototype, \"eventTargetName\", {\n        get: function () {\n            return stringifyEventTarget(this.eventTarget);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Action;\n}());\nexport { Action };\nvar defaultEventNames = {\n    \"a\": function (e) { return \"click\"; },\n    \"button\": function (e) { return \"click\"; },\n    \"form\": function (e) { return \"submit\"; },\n    \"input\": function (e) { return e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"change\"; },\n    \"select\": function (e) { return \"change\"; },\n    \"textarea\": function (e) { return \"change\"; }\n};\nexport function getDefaultEventNameForElement(element) {\n    var tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FjdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQW9CLHFCQUFxQixFQUFFLG9CQUFvQixFQUFFLE1BQU0scUJBQXFCLENBQUE7QUFHbkc7SUFZRSxnQkFBWSxPQUFnQixFQUFFLEtBQWEsRUFBRSxVQUFxQztRQUNoRixJQUFJLENBQUMsT0FBTyxHQUFPLE9BQU8sQ0FBQTtRQUMxQixJQUFJLENBQUMsS0FBSyxHQUFTLEtBQUssQ0FBQTtRQUN4QixJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQyxXQUFXLElBQUksT0FBTyxDQUFBO1FBQ3BELElBQUksQ0FBQyxTQUFTLEdBQUssVUFBVSxDQUFDLFNBQVMsSUFBSSw2QkFBNkIsQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQTtRQUNoSCxJQUFJLENBQUMsVUFBVSxHQUFJLFVBQVUsQ0FBQyxVQUFVLElBQUksS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUE7UUFDdkUsSUFBSSxDQUFDLFVBQVUsR0FBSSxVQUFVLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBQzFFLENBQUM7SUFYTSxlQUFRLEdBQWYsVUFBZ0IsS0FBWTtRQUMxQixPQUFPLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFBRSxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtJQUNuRixDQUFDO0lBV0QseUJBQVEsR0FBUjtRQUNFLElBQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLE1BQUksSUFBSSxDQUFDLGVBQWlCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtRQUM5RSxPQUFPLEtBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxlQUFlLFVBQUssSUFBSSxDQUFDLFVBQVUsU0FBSSxJQUFJLENBQUMsVUFBWSxDQUFBO0lBQ3JGLENBQUM7SUFFRCxzQkFBWSxtQ0FBZTthQUEzQjtZQUNFLE9BQU8sb0JBQW9CLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQy9DLENBQUM7OztPQUFBO0lBQ0gsYUFBQztBQUFELENBQUMsQUE3QkQsSUE2QkM7O0FBRUQsSUFBTSxpQkFBaUIsR0FBd0Q7SUFDN0UsR0FBRyxFQUFTLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxFQUFQLENBQU87SUFDeEIsUUFBUSxFQUFJLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxFQUFQLENBQU87SUFDeEIsTUFBTSxFQUFNLFVBQUEsQ0FBQyxJQUFJLE9BQUEsUUFBUSxFQUFSLENBQVE7SUFDekIsT0FBTyxFQUFLLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUF2RCxDQUF1RDtJQUN4RSxRQUFRLEVBQUksVUFBQSxDQUFDLElBQUksT0FBQSxRQUFRLEVBQVIsQ0FBUTtJQUN6QixVQUFVLEVBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxRQUFRLEVBQVIsQ0FBUTtDQUMxQixDQUFBO0FBRUQsTUFBTSx3Q0FBd0MsT0FBZ0I7SUFDNUQsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQTtJQUM3QyxJQUFJLE9BQU8sSUFBSSxpQkFBaUIsRUFBRTtRQUNoQyxPQUFPLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0tBQzNDO0FBQ0gsQ0FBQztBQUVELGVBQWUsT0FBZTtJQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzFCLENBQUMifQ==","var Binding = /** @class */ (function () {\n    function Binding(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    Object.defineProperty(Binding.prototype, \"index\", {\n        get: function () {\n            return this.action.index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"eventTarget\", {\n        get: function () {\n            return this.action.eventTarget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"identifier\", {\n        get: function () {\n            return this.context.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Binding.prototype.handleEvent = function (event) {\n        if (this.willBeInvokedByEvent(event)) {\n            this.invokeWithEvent(event);\n        }\n    };\n    Object.defineProperty(Binding.prototype, \"eventName\", {\n        get: function () {\n            return this.action.eventName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"method\", {\n        get: function () {\n            var method = this.controller[this.methodName];\n            if (typeof method == \"function\") {\n                return method;\n            }\n            throw new Error(\"Action \\\"\" + this.action + \"\\\" references undefined method \\\"\" + this.methodName + \"\\\"\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Binding.prototype.invokeWithEvent = function (event) {\n        try {\n            this.method.call(this.controller, event);\n        }\n        catch (error) {\n            var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element, index = _a.index;\n            var detail = { identifier: identifier, controller: controller, element: element, index: index, event: event };\n            this.context.handleError(error, \"invoking action \\\"\" + this.action + \"\\\"\", detail);\n        }\n    };\n    Binding.prototype.willBeInvokedByEvent = function (event) {\n        var eventTarget = event.target;\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return true;\n        }\n    };\n    Object.defineProperty(Binding.prototype, \"controller\", {\n        get: function () {\n            return this.context.controller;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"methodName\", {\n        get: function () {\n            return this.action.methodName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Binding;\n}());\nexport { Binding };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iaW5kaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBO0lBSUUsaUJBQVksT0FBZ0IsRUFBRSxNQUFjO1FBQzFDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO0lBQ3RCLENBQUM7SUFFRCxzQkFBSSwwQkFBSzthQUFUO1lBQ0UsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQTtRQUMxQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLGdDQUFXO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksK0JBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUE7UUFDaEMsQ0FBQzs7O09BQUE7SUFFRCw2QkFBVyxHQUFYLFVBQVksS0FBWTtRQUN0QixJQUFJLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNwQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQzVCO0lBQ0gsQ0FBQztJQUVELHNCQUFJLDhCQUFTO2FBQWI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFBO1FBQzlCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMkJBQU07YUFBVjtZQUNFLElBQU0sTUFBTSxHQUFJLElBQUksQ0FBQyxVQUFrQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtZQUN4RCxJQUFJLE9BQU8sTUFBTSxJQUFJLFVBQVUsRUFBRTtnQkFDL0IsT0FBTyxNQUFNLENBQUE7YUFDZDtZQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsY0FBVyxJQUFJLENBQUMsTUFBTSx5Q0FBa0MsSUFBSSxDQUFDLFVBQVUsT0FBRyxDQUFDLENBQUE7UUFDN0YsQ0FBQzs7O09BQUE7SUFFTyxpQ0FBZSxHQUF2QixVQUF3QixLQUFZO1FBQ2xDLElBQUk7WUFDRixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3pDO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDUixJQUFBLFNBQWlELEVBQS9DLDBCQUFVLEVBQUUsMEJBQVUsRUFBRSxvQkFBTyxFQUFFLGdCQUFLLENBQVM7WUFDdkQsSUFBTSxNQUFNLEdBQUcsRUFBRSxVQUFVLFlBQUEsRUFBRSxVQUFVLFlBQUEsRUFBRSxPQUFPLFNBQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFBO1lBQ2hFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBb0IsSUFBSSxDQUFDLE1BQU0sT0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFBO1NBQzVFO0lBQ0gsQ0FBQztJQUVPLHNDQUFvQixHQUE1QixVQUE2QixLQUFZO1FBQ3ZDLElBQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUE7UUFDaEMsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLFdBQVcsRUFBRTtZQUNoQyxPQUFPLElBQUksQ0FBQTtTQUNaO2FBQU0sSUFBSSxXQUFXLFlBQVksT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQy9FLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUE7U0FDL0M7YUFBTTtZQUNMLE9BQU8sSUFBSSxDQUFBO1NBQ1o7SUFDSCxDQUFDO0lBRUQsc0JBQVksK0JBQVU7YUFBdEI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQVksK0JBQVU7YUFBdEI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFBO1FBQy9CLENBQUM7OztPQUFBO0lBRUQsc0JBQVksNEJBQU87YUFBbkI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQVksMEJBQUs7YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBQ0gsY0FBQztBQUFELENBQUMsQUEzRUQsSUEyRUMifQ==","var ElementObserver = /** @class */ (function () {\n    function ElementObserver(element, delegate) {\n        var _this = this;\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set;\n        this.mutationObserver = new MutationObserver(function (mutations) { return _this.processMutations(mutations); });\n    }\n    ElementObserver.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, childList: true, subtree: true });\n            this.refresh();\n        }\n    };\n    ElementObserver.prototype.stop = function () {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    };\n    ElementObserver.prototype.refresh = function () {\n        if (this.started) {\n            var matches = new Set(this.matchElementsInTree());\n            for (var _i = 0, _a = Array.from(this.elements); _i < _a.length; _i++) {\n                var element = _a[_i];\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (var _b = 0, _c = Array.from(matches); _b < _c.length; _b++) {\n                var element = _c[_b];\n                this.addElement(element);\n            }\n        }\n    };\n    // Mutation record processing\n    ElementObserver.prototype.processMutations = function (mutations) {\n        if (this.started) {\n            for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n                var mutation = mutations_1[_i];\n                this.processMutation(mutation);\n            }\n        }\n    };\n    ElementObserver.prototype.processMutation = function (mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    };\n    ElementObserver.prototype.processAttributeChange = function (node, attributeName) {\n        var element = node;\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    };\n    ElementObserver.prototype.processRemovedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            var element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    };\n    ElementObserver.prototype.processAddedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            var element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    };\n    // Element matching\n    ElementObserver.prototype.matchElement = function (element) {\n        return this.delegate.matchElement(element);\n    };\n    ElementObserver.prototype.matchElementsInTree = function (tree) {\n        if (tree === void 0) { tree = this.element; }\n        return this.delegate.matchElementsInTree(tree);\n    };\n    ElementObserver.prototype.processTree = function (tree, processor) {\n        for (var _i = 0, _a = this.matchElementsInTree(tree); _i < _a.length; _i++) {\n            var element = _a[_i];\n            processor.call(this, element);\n        }\n    };\n    ElementObserver.prototype.elementFromNode = function (node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    };\n    ElementObserver.prototype.elementIsActive = function (element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    };\n    // Element tracking\n    ElementObserver.prototype.addElement = function (element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    };\n    ElementObserver.prototype.removeElement = function (element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    };\n    return ElementObserver;\n}());\nexport { ElementObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lbGVtZW50X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVNBO0lBUUUseUJBQVksT0FBZ0IsRUFBRSxRQUFpQztRQUEvRCxpQkFPQztRQU5DLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO1FBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBRXhCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxHQUFHLENBQUE7UUFDdkIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksZ0JBQWdCLENBQUMsVUFBQyxTQUFTLElBQUssT0FBQSxLQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEVBQWhDLENBQWdDLENBQUMsQ0FBQTtJQUMvRixDQUFDO0lBRUQsK0JBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO1lBQ25CLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtZQUNqRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7U0FDZjtJQUNILENBQUM7SUFFRCw4QkFBSSxHQUFKO1FBQ0UsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUNuQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLENBQUE7WUFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUE7U0FDckI7SUFDSCxDQUFDO0lB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","import { ElementObserver } from \"./element_observer\";\nvar AttributeObserver = /** @class */ (function () {\n    function AttributeObserver(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    Object.defineProperty(AttributeObserver.prototype, \"element\", {\n        get: function () {\n            return this.elementObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeObserver.prototype, \"selector\", {\n        get: function () {\n            return \"[\" + this.attributeName + \"]\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AttributeObserver.prototype.start = function () {\n        this.elementObserver.start();\n    };\n    AttributeObserver.prototype.stop = function () {\n        this.elementObserver.stop();\n    };\n    AttributeObserver.prototype.refresh = function () {\n        this.elementObserver.refresh();\n    };\n    Object.defineProperty(AttributeObserver.prototype, \"started\", {\n        get: function () {\n            return this.elementObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Element observer delegate\n    AttributeObserver.prototype.matchElement = function (element) {\n        return element.hasAttribute(this.attributeName);\n    };\n    AttributeObserver.prototype.matchElementsInTree = function (tree) {\n        var match = this.matchElement(tree) ? [tree] : [];\n        var matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    };\n    AttributeObserver.prototype.elementMatched = function (element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementUnmatched = function (element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementAttributeChanged = function (element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    };\n    return AttributeObserver;\n}());\nexport { AttributeObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlX29ic2VydmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2F0dHJpYnV0ZV9vYnNlcnZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUEyQixNQUFNLG9CQUFvQixDQUFBO0FBUTdFO0lBTUUsMkJBQVksT0FBZ0IsRUFBRSxhQUFxQixFQUFFLFFBQW1DO1FBQ3RGLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFBO1FBQ2xDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBRXhCLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxlQUFlLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQzNELENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQTtRQUNyQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHVDQUFRO2FBQVo7WUFDRSxPQUFPLE1BQUksSUFBSSxDQUFDLGFBQWEsTUFBRyxDQUFBO1FBQ2xDLENBQUM7OztPQUFBO0lBRUQsaUNBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDOUIsQ0FBQztJQUVELGdDQUFJLEdBQUo7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFBO0lBQzdCLENBQUM7SUFFRCxtQ0FBTyxHQUFQO1FBQ0UsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNoQyxDQUFDO0lBRUQsc0JBQUksc0NBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUE7UUFDckMsQ0FBQzs7O09BQUE7SUFFRCw0QkFBNEI7SUFFNUIsd0NBQVksR0FBWixVQUFhLE9BQWdCO1FBQzNCLE9BQU8sT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUE7SUFDakQsQ0FBQztJQUVELCtDQUFtQixHQUFuQixVQUFvQixJQUFhO1FBQy9CLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtRQUNuRCxJQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQTtRQUNoRSxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDOUIsQ0FBQztJQUVELDBDQUFjLEdBQWQsVUFBZSxPQUFnQjtRQUM3QixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsdUJBQXVCLEVBQUU7WUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1NBQ25FO0lBQ0gsQ0FBQztJQUVELDRDQUFnQixHQUFoQixVQUFpQixPQUFnQjtRQUMvQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMseUJBQXlCLEVBQUU7WUFDM0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1NBQ3JFO0lBQ0gsQ0FBQztJQUVELG1EQUF1QixHQUF2QixVQUF3QixPQUFnQixFQUFFLGFBQXFCO1FBQzdELElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyw0QkFBNEIsSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLGFBQWEsRUFBRTtZQUNyRixJQUFJLENBQUMsUUFBUSxDQUFDLDRCQUE0QixDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUNuRTtJQUNILENBQUM7SUFDSCx3QkFBQztBQUFELENBQUMsQUFsRUQsSUFrRUMifQ==","export function add(map, key, value) {\n    fetch(map, key).add(value);\n}\nexport function del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nexport function fetch(map, key) {\n    var values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nexport function prune(map, key) {\n    var values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0X29wZXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2V0X29wZXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxjQUFvQixHQUFtQixFQUFFLEdBQU0sRUFBRSxLQUFRO0lBQzdELEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQzVCLENBQUM7QUFFRCxNQUFNLGNBQW9CLEdBQW1CLEVBQUUsR0FBTSxFQUFFLEtBQVE7SUFDN0QsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDN0IsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQTtBQUNqQixDQUFDO0FBRUQsTUFBTSxnQkFBc0IsR0FBbUIsRUFBRSxHQUFNO0lBQ3JELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDekIsSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUNYLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFBO1FBQ2xCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFBO0tBQ3JCO0lBQ0QsT0FBTyxNQUFNLENBQUE7QUFDZixDQUFDO0FBRUQsTUFBTSxnQkFBc0IsR0FBbUIsRUFBRSxHQUFNO0lBQ3JELElBQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDM0IsSUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFO1FBQ3RDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7S0FDaEI7QUFDSCxDQUFDIn0=","import { add, del } from \"./set_operations\";\nvar Multimap = /** @class */ (function () {\n    function Multimap() {\n        this.valuesByKey = new Map();\n    }\n    Object.defineProperty(Multimap.prototype, \"values\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (values, set) { return values.concat(Array.from(set)); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Multimap.prototype, \"size\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (size, set) { return size + set.size; }, 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Multimap.prototype.add = function (key, value) {\n        add(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.delete = function (key, value) {\n        del(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.has = function (key, value) {\n        var values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    };\n    Multimap.prototype.hasKey = function (key) {\n        return this.valuesByKey.has(key);\n    };\n    Multimap.prototype.hasValue = function (value) {\n        var sets = Array.from(this.valuesByKey.values());\n        return sets.some(function (set) { return set.has(value); });\n    };\n    Multimap.prototype.getValuesForKey = function (key) {\n        var values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    };\n    Multimap.prototype.getKeysForValue = function (value) {\n        return Array.from(this.valuesByKey)\n            .filter(function (_a) {\n            var key = _a[0], values = _a[1];\n            return values.has(value);\n        })\n            .map(function (_a) {\n            var key = _a[0], values = _a[1];\n            return key;\n        });\n    };\n    return Multimap;\n}());\nexport { Multimap };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGltYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbXVsdGltYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQTtBQUUzQztJQUdFO1FBQ0UsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLEdBQUcsRUFBYSxDQUFBO0lBQ3pDLENBQUM7SUFFRCxzQkFBSSw0QkFBTTthQUFWO1lBQ0UsSUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7WUFDbEQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSyxPQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUE5QixDQUE4QixFQUFRLEVBQUUsQ0FBQyxDQUFBO1FBQy9FLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMEJBQUk7YUFBUjtZQUNFLElBQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFBO1lBQ2xELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFDLElBQUksRUFBRSxHQUFHLElBQUssT0FBQSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBZixDQUFlLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDdkQsQ0FBQzs7O09BQUE7SUFFRCxzQkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFRCx5QkFBTSxHQUFOLFVBQU8sR0FBTSxFQUFFLEtBQVE7UUFDckIsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFFRCxzQkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEMsT0FBTyxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDNUMsQ0FBQztJQUVELHlCQUFNLEdBQU4sVUFBTyxHQUFNO1FBQ1gsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsMkJBQVEsR0FBUixVQUFTLEtBQVE7UUFDZixJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQTtRQUNsRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBQSxHQUFHLElBQUksT0FBQSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFkLENBQWMsQ0FBQyxDQUFBO0lBQ3pDLENBQUM7SUFFRCxrQ0FBZSxHQUFmLFVBQWdCLEdBQU07UUFDcEIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDeEMsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtJQUN6QyxDQUFDO0lBRUQsa0NBQWUsR0FBZixVQUFnQixLQUFRO1FBQ3RCLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO2FBQ2hDLE1BQU0sQ0FBQyxVQUFDLEVBQWE7Z0JBQVosV0FBRyxFQUFFLGNBQU07WUFBTSxPQUFBLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQWpCLENBQWlCLENBQUM7YUFDNUMsR0FBRyxDQUFDLFVBQUMsRUFBYTtnQkFBWixXQUFHLEVBQUUsY0FBTTtZQUFNLE9BQUEsR0FBRztRQUFILENBQUcsQ0FBQyxDQUFBO0lBQ2hDLENBQUM7SUFDSCxlQUFDO0FBQUQsQ0FBQyxBQWpERCxJQWlEQyJ9","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Multimap } from \"./multimap\";\nimport { add, del } from \"./set_operations\";\nvar IndexedMultimap = /** @class */ (function (_super) {\n    __extends(IndexedMultimap, _super);\n    function IndexedMultimap() {\n        var _this = _super.call(this) || this;\n        _this.keysByValue = new Map;\n        return _this;\n    }\n    Object.defineProperty(IndexedMultimap.prototype, \"values\", {\n        get: function () {\n            return Array.from(this.keysByValue.keys());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    IndexedMultimap.prototype.add = function (key, value) {\n        _super.prototype.add.call(this, key, value);\n        add(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.delete = function (key, value) {\n        _super.prototype.delete.call(this, key, value);\n        del(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.hasValue = function (value) {\n        return this.keysByValue.has(value);\n    };\n    IndexedMultimap.prototype.getKeysForValue = function (value) {\n        var set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    };\n    return IndexedMultimap;\n}(Multimap));\nexport { IndexedMultimap };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXhlZF9tdWx0aW1hcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbmRleGVkX211bHRpbWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sWUFBWSxDQUFBO0FBQ3JDLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFFM0M7SUFBMkMsbUNBQWM7SUFHdkQ7UUFBQSxZQUNFLGlCQUFPLFNBRVI7UUFEQyxLQUFJLENBQUMsV0FBVyxHQUFHLElBQUksR0FBRyxDQUFBOztJQUM1QixDQUFDO0lBRUQsc0JBQUksbUNBQU07YUFBVjtZQUNFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7UUFDNUMsQ0FBQzs7O09BQUE7SUFFRCw2QkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsaUJBQU0sR0FBRyxZQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQTtRQUNyQixHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVELGdDQUFNLEdBQU4sVUFBTyxHQUFNLEVBQUUsS0FBUTtRQUNyQixpQkFBTSxNQUFNLFlBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3hCLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQTtJQUNuQyxDQUFDO0lBRUQsa0NBQVEsR0FBUixVQUFTLEtBQVE7UUFDZixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ3BDLENBQUM7SUFFRCx5Q0FBZSxHQUFmLFVBQWdCLEtBQVE7UUFDdEIsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDdkMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtJQUNuQyxDQUFDO0lBQ0gsc0JBQUM7QUFBRCxDQUFDLEFBOUJELENBQTJDLFFBQVEsR0E4QmxEIn0=","import { AttributeObserver } from \"./attribute_observer\";\nimport { Multimap } from \"@stimulus/multimap\";\nvar TokenListObserver = /** @class */ (function () {\n    function TokenListObserver(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap;\n    }\n    Object.defineProperty(TokenListObserver.prototype, \"started\", {\n        get: function () {\n            return this.attributeObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TokenListObserver.prototype.start = function () {\n        this.attributeObserver.start();\n    };\n    TokenListObserver.prototype.stop = function () {\n        this.attributeObserver.stop();\n    };\n    TokenListObserver.prototype.refresh = function () {\n        this.attributeObserver.refresh();\n    };\n    Object.defineProperty(TokenListObserver.prototype, \"element\", {\n        get: function () {\n            return this.attributeObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TokenListObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.attributeObserver.attributeName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Attribute observer delegate\n    TokenListObserver.prototype.elementMatchedAttribute = function (element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    };\n    TokenListObserver.prototype.elementAttributeValueChanged = function (element) {\n        var _a = this.refreshTokensForElement(element), unmatchedTokens = _a[0], matchedTokens = _a[1];\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    };\n    TokenListObserver.prototype.elementUnmatchedAttribute = function (element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    };\n    TokenListObserver.prototype.tokensMatched = function (tokens) {\n        var _this = this;\n        tokens.forEach(function (token) { return _this.tokenMatched(token); });\n    };\n    TokenListObserver.prototype.tokensUnmatched = function (tokens) {\n        var _this = this;\n        tokens.forEach(function (token) { return _this.tokenUnmatched(token); });\n    };\n    TokenListObserver.prototype.tokenMatched = function (token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    };\n    TokenListObserver.prototype.tokenUnmatched = function (token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    };\n    TokenListObserver.prototype.refreshTokensForElement = function (element) {\n        var previousTokens = this.tokensByElement.getValuesForKey(element);\n        var currentTokens = this.readTokensForElement(element);\n        var firstDifferingIndex = zip(previousTokens, currentTokens)\n            .findIndex(function (_a) {\n            var previousToken = _a[0], currentToken = _a[1];\n            return !tokensAreEqual(previousToken, currentToken);\n        });\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    };\n    TokenListObserver.prototype.readTokensForElement = function (element) {\n        var attributeName = this.attributeName;\n        var tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    };\n    return TokenListObserver;\n}());\nexport { TokenListObserver };\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString.trim().split(/\\s+/).filter(function (content) { return content.length; })\n        .map(function (content, index) { return ({ element: element, attributeName: attributeName, content: content, index: index }); });\n}\nfunction zip(left, right) {\n    var length = Math.max(left.length, right.length);\n    return Array.from({ length: length }, function (_, index) { return [left[index], right[index]]; });\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5fbGlzdF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90b2tlbl9saXN0X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBNkIsTUFBTSxzQkFBc0IsQ0FBQTtBQUNuRixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUE7QUFjN0M7SUFLRSwyQkFBWSxPQUFnQixFQUFFLGFBQXFCLEVBQUUsUUFBbUM7UUFDdEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUM1RSxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtRQUN4QixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksUUFBUSxDQUFBO0lBQ3JDLENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFBO1FBQ3ZDLENBQUM7OztPQUFBO0lBRUQsaUNBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUNoQyxDQUFDO0lBRUQsZ0NBQUksR0FBSjtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUMvQixDQUFDO0lBRUQsbUNBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsc0JBQUksc0NBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQTtRQUN2QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRDQUFhO2FBQWpCO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFBO1FBQzdDLENBQUM7OztPQUFBO0lBRUQsOEJBQThCO0lB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","import { TokenListObserver } from \"./token_list_observer\";\nvar ValueListObserver = /** @class */ (function () {\n    function ValueListObserver(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap;\n        this.valuesByTokenByElement = new WeakMap;\n    }\n    Object.defineProperty(ValueListObserver.prototype, \"started\", {\n        get: function () {\n            return this.tokenListObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ValueListObserver.prototype.start = function () {\n        this.tokenListObserver.start();\n    };\n    ValueListObserver.prototype.stop = function () {\n        this.tokenListObserver.stop();\n    };\n    ValueListObserver.prototype.refresh = function () {\n        this.tokenListObserver.refresh();\n    };\n    Object.defineProperty(ValueListObserver.prototype, \"element\", {\n        get: function () {\n            return this.tokenListObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ValueListObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.tokenListObserver.attributeName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ValueListObserver.prototype.tokenMatched = function (token) {\n        var element = token.element;\n        var value = this.fetchParseResultForToken(token).value;\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    };\n    ValueListObserver.prototype.tokenUnmatched = function (token) {\n        var element = token.element;\n        var value = this.fetchParseResultForToken(token).value;\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    };\n    ValueListObserver.prototype.fetchParseResultForToken = function (token) {\n        var parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    };\n    ValueListObserver.prototype.fetchValuesByTokenForElement = function (element) {\n        var valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map;\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    };\n    ValueListObserver.prototype.parseToken = function (token) {\n        try {\n            var value = this.delegate.parseValueForToken(token);\n            return { value: value };\n        }\n        catch (error) {\n            return { error: error };\n        }\n    };\n    return ValueListObserver;\n}());\nexport { ValueListObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsdWVfbGlzdF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92YWx1ZV9saXN0X29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBUyxpQkFBaUIsRUFBNkIsTUFBTSx1QkFBdUIsQ0FBQTtBQWEzRjtJQU1FLDJCQUFZLE9BQWdCLEVBQUUsYUFBcUIsRUFBRSxRQUFzQztRQUN6RixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFBO1FBQzVFLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBQ3hCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLE9BQU8sQ0FBQTtRQUN0QyxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxPQUFPLENBQUE7SUFDM0MsQ0FBQztJQUVELHNCQUFJLHNDQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUE7UUFDdkMsQ0FBQzs7O09BQUE7SUFFRCxpQ0FBSyxHQUFMO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFBO0lBQ2hDLENBQUM7SUFFRCxnQ0FBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQy9CLENBQUM7SUFFRCxtQ0FBTyxHQUFQO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCxzQkFBSSxzQ0FBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFBO1FBQ3ZDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksNENBQWE7YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLENBQUE7UUFDN0MsQ0FBQzs7O09BQUE7SUFFRCx3Q0FBWSxHQUFaLFVBQWEsS0FBWTtRQUNmLElBQUEsdUJBQU8sQ0FBVTtRQUNqQixJQUFBLGtEQUFLLENBQXlDO1FBQ3RELElBQUksS0FBSyxFQUFFO1lBQ1QsSUFBSSxDQUFDLDRCQUE0QixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUE7WUFDNUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUE7U0FDbEQ7SUFDSCxDQUFDO0lBRUQsMENBQWMsR0FBZCxVQUFlLEtBQVk7UUFDakIsSUFBQSx1QkFBTyxDQUFVO1FBQ2pCLElBQUEsa0RBQUssQ0FBeUM7UUFDdEQsSUFBSSxLQUFLLEVBQUU7WUFDVCxJQUFJLENBQUMsNEJBQTRCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ3hELElBQUksQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3BEO0lBQ0gsQ0FBQztJQUVPLG9EQUF3QixHQUFoQyxVQUFpQyxLQUFZO1FBQzNDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDckQsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNoQixXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQTtZQUNwQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQTtTQUNqRDtRQUNELE9BQU8sV0FBVyxDQUFBO0lBQ3BCLENBQUM7SUFFTyx3REFBNEIsR0FBcEMsVUFBcUMsT0FBZ0I7UUFDbkQsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUM1RCxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ2xCLGFBQWEsR0FBRyxJQUFJLEdBQUcsQ0FBQTtZQUN2QixJQUFJLENBQUMsc0JBQXNCLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQTtTQUN4RDtRQUNELE9BQU8sYUFBYSxDQUFBO0lBQ3RCLENBQUM7SUFFTyxzQ0FBVSxHQUFsQixVQUFtQixLQUFZO1FBQzdCLElBQUk7WUFDRixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ3JELE9BQU8sRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFBO1NBQ2pCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxPQUFPLEVBQUUsS0FBSyxPQUFBLEVBQUUsQ0FBQTtTQUNqQjtJQUNILENBQUM7SUFDSCx3QkFBQztBQUFELENBQUMsQUFqRkQsSUFpRkMifQ==","import { Action } from \"./action\";\nimport { Binding } from \"./binding\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\nvar BindingObserver = /** @class */ (function () {\n    function BindingObserver(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map;\n    }\n    BindingObserver.prototype.start = function () {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    };\n    BindingObserver.prototype.stop = function () {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    };\n    Object.defineProperty(BindingObserver.prototype, \"element\", {\n        get: function () {\n            return this.context.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"identifier\", {\n        get: function () {\n            return this.context.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"actionAttribute\", {\n        get: function () {\n            return this.schema.actionAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"schema\", {\n        get: function () {\n            return this.context.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"bindings\", {\n        get: function () {\n            return Array.from(this.bindingsByAction.values());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BindingObserver.prototype.connectAction = function (action) {\n        var binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    };\n    BindingObserver.prototype.disconnectAction = function (action) {\n        var binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    };\n    BindingObserver.prototype.disconnectAllActions = function () {\n        var _this = this;\n        this.bindings.forEach(function (binding) { return _this.delegate.bindingDisconnected(binding); });\n        this.bindingsByAction.clear();\n    };\n    // Value observer delegate\n    BindingObserver.prototype.parseValueForToken = function (token) {\n        var action = Action.forToken(token);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    };\n    BindingObserver.prototype.elementMatchedValue = function (element, action) {\n        this.connectAction(action);\n    };\n    BindingObserver.prototype.elementUnmatchedValue = function (element, action) {\n        this.disconnectAction(action);\n    };\n    return BindingObserver;\n}());\nexport { BindingObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZ19vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iaW5kaW5nX29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDakMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFdBQVcsQ0FBQTtBQUluQyxPQUFPLEVBQVMsaUJBQWlCLEVBQTZCLE1BQU0sOEJBQThCLENBQUE7QUFPbEc7SUFNRSx5QkFBWSxPQUFnQixFQUFFLFFBQWlDO1FBQzdELElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBQ3hCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNqQyxDQUFDO0lBRUQsK0JBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDM0IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFBO1lBQ3hGLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtTQUMvQjtJQUNILENBQUM7SUFFRCw4QkFBSSxHQUFKO1FBQ0UsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDMUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO1lBQzdCLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFBO1lBQzdCLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFBO1NBQzVCO0lBQ0gsQ0FBQztJQUVELHNCQUFJLG9DQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFBO1FBQzdCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksdUNBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUE7UUFDaEMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw0Q0FBZTthQUFuQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUE7UUFDcEMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxtQ0FBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQTtRQUM1QixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHFDQUFRO2FBQVo7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7UUFDbkQsQ0FBQzs7O09BQUE7SUFFTyx1Q0FBYSxHQUFyQixVQUFzQixNQUFjO1FBQ2xDLElBQU0sT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDakQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUN6QyxDQUFDO0lBRU8sMENBQWdCLEdBQXhCLFVBQXlCLE1BQWM7UUFDckMsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUNqRCxJQUFJLE9BQU8sRUFBRTtZQUNYLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDcEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQTtTQUMzQztJQUNILENBQUM7SUFFTyw4Q0FBb0IsR0FBNUI7UUFBQSxpQkFHQztRQUZDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUEsT0FBTyxJQUFJLE9BQUEsS0FBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsRUFBMUMsQ0FBMEMsQ0FBQyxDQUFBO1FBQzVFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUMvQixDQUFDO0lBRUQsMEJBQTBCO0lBRTFCLDRDQUFrQixHQUFsQixVQUFtQixLQUFZO1FBQzdCLElBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDckMsSUFBSSxNQUFNLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDeEMsT0FBTyxNQUFNLENBQUE7U0FDZDtJQUNILENBQUM7SUFFRCw2Q0FBbUIsR0FBbkIsVUFBb0IsT0FBZ0IsRUFBRSxNQUFjO1FBQ2xELElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDNUIsQ0FBQztJQUVELCtDQUFxQixHQUFyQixVQUFzQixPQUFnQixFQUFFLE1BQWM7UUFDcEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQy9CLENBQUM7SUFDSCxzQkFBQztBQUFELENBQUMsQUFsRkQsSUFrRkMifQ==","import { BindingObserver } from \"./binding_observer\";\nvar Context = /** @class */ (function () {\n    function Context(module, scope) {\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        try {\n            this.controller.initialize();\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    Context.prototype.connect = function () {\n        this.bindingObserver.start();\n        try {\n            this.controller.connect();\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    };\n    Context.prototype.disconnect = function () {\n        try {\n            this.controller.disconnect();\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.bindingObserver.stop();\n    };\n    Object.defineProperty(Context.prototype, \"application\", {\n        get: function () {\n            return this.module.application;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"identifier\", {\n        get: function () {\n            return this.module.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"dispatcher\", {\n        get: function () {\n            return this.application.dispatcher;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"parentElement\", {\n        get: function () {\n            return this.element.parentElement;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Error handling\n    Context.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element;\n        detail = Object.assign({ identifier: identifier, controller: controller, element: element }, detail);\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    return Context;\n}());\nexport { Context };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGV4dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQVFwRDtJQU1FLGlCQUFZLE1BQWMsRUFBRSxLQUFZO1FBQ3RDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO1FBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDeEQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBRWpFLElBQUk7WUFDRixJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQzdCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx5QkFBeUIsQ0FBQyxDQUFBO1NBQ25EO0lBQ0gsQ0FBQztJQUVELHlCQUFPLEdBQVA7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxDQUFBO1FBRTVCLElBQUk7WUFDRixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFBO1NBQzFCO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBdUIsQ0FBQyxDQUFBO1NBQ2pEO0lBQ0gsQ0FBQztJQUVELDRCQUFVLEdBQVY7UUFDRSxJQUFJO1lBQ0YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQTtTQUM3QjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsMEJBQTBCLENBQUMsQ0FBQTtTQUNwRDtRQUVELElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDN0IsQ0FBQztJQUVELHNCQUFJLGdDQUFXO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksK0JBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUE7UUFDL0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwyQkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFVO2FBQWQ7WUFDRSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFBO1FBQ3BDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksNEJBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUE7UUFDM0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxrQ0FBYTthQUFqQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUE7UUFDbkMsQ0FBQzs7O09BQUE7SUFFRCxpQkFBaUI7SUFFakIsNkJBQVcsR0FBWCxVQUFZLEtBQVksRUFBRSxPQUFlLEVBQUUsTUFBbUI7UUFBbkIsdUJBQUEsRUFBQSxXQUFtQjtRQUN0RCxJQUFBLFNBQTBDLEVBQXhDLDBCQUFVLEVBQUUsMEJBQVUsRUFBRSxvQkFBTyxDQUFTO1FBQ2hELE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsVUFBVSxZQUFBLEVBQUUsVUFBVSxZQUFBLEVBQUUsT0FBTyxTQUFBLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUNuRSxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBUyxPQUFTLEVBQUUsTUFBTSxDQUFDLENBQUE7SUFDakUsQ0FBQztJQUNILGNBQUM7QUFBRCxDQUFDLEFBdEVELElBc0VDIn0=","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @hidden */\nexport function blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: blessControllerConstructor(definition.controllerConstructor)\n    };\n}\nfunction blessControllerConstructor(controllerConstructor) {\n    var constructor = extend(controllerConstructor);\n    constructor.bless();\n    return constructor;\n}\nvar extend = (function () {\n    function extendWithReflect(constructor) {\n        function Controller() {\n            var _newTarget = this && this instanceof Controller ? this.constructor : void 0;\n            return Reflect.construct(constructor, arguments, _newTarget);\n        }\n        Controller.prototype = Object.create(constructor.prototype, {\n            constructor: { value: Controller }\n        });\n        Reflect.setPrototypeOf(Controller, constructor);\n        return Controller;\n    }\n    function testReflectExtension() {\n        var a = function () { this.a.call(this); };\n        var b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b;\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return function (constructor) { return /** @class */ (function (_super) {\n            __extends(Controller, _super);\n            function Controller() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            return Controller;\n        }(constructor)); };\n    }\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmaW5pdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZWZpbml0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFPQSxjQUFjO0FBQ2QsTUFBTSwwQkFBMEIsVUFBc0I7SUFDcEQsT0FBTztRQUNMLFVBQVUsRUFBRSxVQUFVLENBQUMsVUFBVTtRQUNqQyxxQkFBcUIsRUFBRSwwQkFBMEIsQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUM7S0FDcEYsQ0FBQTtBQUNILENBQUM7QUFFRCxvQ0FBb0MscUJBQTRDO0lBQzlFLElBQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0lBQ2pELFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUNuQixPQUFPLFdBQVcsQ0FBQTtBQUNwQixDQUFDO0FBRUQsSUFBTSxNQUFNLEdBQUcsQ0FBQztJQUdkLDJCQUFzRCxXQUFjO1FBQ2xFOztZQUNFLE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsU0FBUyxhQUFhLENBQUE7UUFDOUQsQ0FBQztRQUVELFVBQVUsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFO1lBQzFELFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUU7U0FDbkMsQ0FBQyxDQUFBO1FBRUYsT0FBTyxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLENBQUE7UUFDL0MsT0FBTyxVQUFpQixDQUFBO0lBQzFCLENBQUM7SUFFRDtRQUNFLElBQU0sQ0FBQyxHQUFHLGNBQXNCLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUMsQ0FBUSxDQUFBO1FBQzFELElBQU0sQ0FBQyxHQUFHLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzlCLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLGNBQVksQ0FBQyxDQUFBO1FBQzdCLE9BQU8sSUFBSSxDQUFDLENBQUE7SUFDZCxDQUFDO0lBRUQsSUFBSTtRQUNGLG9CQUFvQixFQUFFLENBQUE7UUFDdEIsT0FBTyxpQkFBaUIsQ0FBQTtLQUN6QjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxVQUE0QixXQUFjLElBQUs7WUFBeUIsOEJBQVc7WUFBcEM7O1lBQXNDLENBQUM7WUFBRCxpQkFBQztRQUFELENBQUMsQUFBdkMsQ0FBeUIsV0FBVyxJQUFwQyxDQUF1QyxDQUFBO0tBQzlGO0FBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FBQSJ9","import { Context } from \"./context\";\nimport { blessDefinition } from \"./definition\";\nvar Module = /** @class */ (function () {\n    function Module(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap;\n        this.connectedContexts = new Set;\n    }\n    Object.defineProperty(Module.prototype, \"identifier\", {\n        get: function () {\n            return this.definition.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"controllerConstructor\", {\n        get: function () {\n            return this.definition.controllerConstructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"contexts\", {\n        get: function () {\n            return Array.from(this.connectedContexts);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Module.prototype.connectContextForScope = function (scope) {\n        var context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    };\n    Module.prototype.disconnectContextForScope = function (scope) {\n        var context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    };\n    Module.prototype.fetchContextForScope = function (scope) {\n        var context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    };\n    return Module;\n}());\nexport { Module };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sV0FBVyxDQUFBO0FBRW5DLE9BQU8sRUFBYyxlQUFlLEVBQUUsTUFBTSxjQUFjLENBQUE7QUFHMUQ7SUFNRSxnQkFBWSxXQUF3QixFQUFFLFVBQXNCO1FBQzFELElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxVQUFVLEdBQUcsZUFBZSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzdDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxPQUFPLENBQUE7UUFDbEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksR0FBRyxDQUFBO0lBQ2xDLENBQUM7SUFFRCxzQkFBSSw4QkFBVTthQUFkO1lBQ0UsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQTtRQUNuQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHlDQUFxQjthQUF6QjtZQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQTtRQUM5QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFRO2FBQVo7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUE7UUFDM0MsQ0FBQzs7O09BQUE7SUFFRCx1Q0FBc0IsR0FBdEIsVUFBdUIsS0FBWTtRQUNqQyxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDaEQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUNuQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDbkIsQ0FBQztJQUVELDBDQUF5QixHQUF6QixVQUEwQixLQUFZO1FBQ3BDLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQy9DLElBQUksT0FBTyxFQUFFO1lBQ1gsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUN0QyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUE7U0FDckI7SUFDSCxDQUFDO0lBRU8scUNBQW9CLEdBQTVCLFVBQTZCLEtBQVk7UUFDdkMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDN0MsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNaLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUE7WUFDbEMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFBO1NBQ3pDO1FBQ0QsT0FBTyxPQUFPLENBQUE7SUFDaEIsQ0FBQztJQUNILGFBQUM7QUFBRCxDQUFDLEFBL0NELElBK0NDIn0=","var DataMap = /** @class */ (function () {\n    function DataMap(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(DataMap.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DataMap.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DataMap.prototype.get = function (key) {\n        key = this.getFormattedKey(key);\n        return this.element.getAttribute(key);\n    };\n    DataMap.prototype.set = function (key, value) {\n        key = this.getFormattedKey(key);\n        this.element.setAttribute(key, value);\n        return this.get(key);\n    };\n    DataMap.prototype.has = function (key) {\n        key = this.getFormattedKey(key);\n        return this.element.hasAttribute(key);\n    };\n    DataMap.prototype.delete = function (key) {\n        if (this.has(key)) {\n            key = this.getFormattedKey(key);\n            this.element.removeAttribute(key);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DataMap.prototype.getFormattedKey = function (key) {\n        return \"data-\" + this.identifier + \"-\" + dasherize(key);\n    };\n    return DataMap;\n}());\nexport { DataMap };\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, function (_, char) { return \"-\" + char.toLowerCase(); });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YV9tYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZGF0YV9tYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7SUFHRSxpQkFBWSxLQUFZO1FBQ3RCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO0lBQ3BCLENBQUM7SUFFRCxzQkFBSSw0QkFBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFVO2FBQWQ7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFBO1FBQzlCLENBQUM7OztPQUFBO0lBRUQscUJBQUcsR0FBSCxVQUFJLEdBQVc7UUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFFRCxxQkFBRyxHQUFILFVBQUksR0FBVyxFQUFFLEtBQWE7UUFDNUIsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3JDLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUN0QixDQUFDO0lBRUQscUJBQUcsR0FBSCxVQUFJLEdBQVc7UUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFFRCx3QkFBTSxHQUFOLFVBQU8sR0FBVztRQUNoQixJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDakIsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDakMsT0FBTyxJQUFJLENBQUE7U0FDWjthQUFNO1lBQ0wsT0FBTyxLQUFLLENBQUE7U0FDYjtJQUNILENBQUM7SUFFTyxpQ0FBZSxHQUF2QixVQUF3QixHQUFXO1FBQ2pDLE9BQU8sVUFBUSxJQUFJLENBQUMsVUFBVSxTQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUcsQ0FBQTtJQUNwRCxDQUFDO0lBQ0gsY0FBQztBQUFELENBQUMsQUE1Q0QsSUE0Q0M7O0FBRUQsbUJBQW1CLEtBQWE7SUFDOUIsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxVQUFDLENBQUMsRUFBRSxJQUFJLElBQUssT0FBQSxNQUFJLElBQUksQ0FBQyxXQUFXLEVBQUksRUFBeEIsQ0FBd0IsQ0FBQyxDQUFBO0FBQ3pFLENBQUMifQ==","/** @hidden */\nexport function attributeValueContainsToken(attributeName, token) {\n    return \"[\" + attributeName + \"~=\\\"\" + token + \"\\\"]\";\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0b3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NlbGVjdG9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxjQUFjO0FBQ2QsTUFBTSxzQ0FBc0MsYUFBcUIsRUFBRSxLQUFhO0lBQzlFLE9BQU8sTUFBSSxhQUFhLFlBQU0sS0FBSyxRQUFJLENBQUE7QUFDekMsQ0FBQyJ9","import { attributeValueContainsToken } from \"./selectors\";\nvar TargetSet = /** @class */ (function () {\n    function TargetSet(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(TargetSet.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"schema\", {\n        get: function () {\n            return this.scope.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TargetSet.prototype.has = function (targetName) {\n        return this.find(targetName) != null;\n    };\n    TargetSet.prototype.find = function () {\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        var selector = this.getSelectorForTargetNames(targetNames);\n        return this.scope.findElement(selector);\n    };\n    TargetSet.prototype.findAll = function () {\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        var selector = this.getSelectorForTargetNames(targetNames);\n        return this.scope.findAllElements(selector);\n    };\n    TargetSet.prototype.getSelectorForTargetNames = function (targetNames) {\n        var _this = this;\n        return targetNames.map(function (targetName) { return _this.getSelectorForTargetName(targetName); }).join(\", \");\n    };\n    TargetSet.prototype.getSelectorForTargetName = function (targetName) {\n        var targetDescriptor = this.identifier + \".\" + targetName;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    };\n    return TargetSet;\n}());\nexport { TargetSet };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFyZ2V0X3NldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90YXJnZXRfc2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGFBQWEsQ0FBQTtBQUV6RDtJQUdFLG1CQUFZLEtBQVk7UUFDdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7SUFDcEIsQ0FBQztJQUVELHNCQUFJLDhCQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksaUNBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUE7UUFDOUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw2QkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQTtRQUMxQixDQUFDOzs7T0FBQTtJQUVELHVCQUFHLEdBQUgsVUFBSSxVQUFrQjtRQUNwQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksSUFBSSxDQUFBO0lBQ3RDLENBQUM7SUFFRCx3QkFBSSxHQUFKO1FBQUsscUJBQXdCO2FBQXhCLFVBQXdCLEVBQXhCLHFCQUF3QixFQUF4QixJQUF3QjtZQUF4QixnQ0FBd0I7O1FBQzNCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUM1RCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQ3pDLENBQUM7SUFFRCwyQkFBTyxHQUFQO1FBQVEscUJBQXdCO2FBQXhCLFVBQXdCLEVBQXhCLHFCQUF3QixFQUF4QixJQUF3QjtZQUF4QixnQ0FBd0I7O1FBQzlCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUM1RCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQzdDLENBQUM7SUFFTyw2Q0FBeUIsR0FBakMsVUFBa0MsV0FBcUI7UUFBdkQsaUJBRUM7UUFEQyxPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBQSxVQUFVLElBQUksT0FBQSxLQUFJLENBQUMsd0JBQXdCLENBQUMsVUFBVSxDQUFDLEVBQXpDLENBQXlDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDNUYsQ0FBQztJQUVPLDRDQUF3QixHQUFoQyxVQUFpQyxVQUFrQjtRQUNqRCxJQUFNLGdCQUFnQixHQUFNLElBQUksQ0FBQyxVQUFVLFNBQUksVUFBWSxDQUFBO1FBQzNELE9BQU8sMkJBQTJCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQTtJQUNuRixDQUFDO0lBQ0gsZ0JBQUM7QUFBRCxDQUFDLEFBekNELElBeUNDIn0=","import { DataMap } from \"./data_map\";\nimport { TargetSet } from \"./target_set\";\nimport { attributeValueContainsToken } from \"./selectors\";\nvar Scope = /** @class */ (function () {\n    function Scope(schema, identifier, element) {\n        this.schema = schema;\n        this.identifier = identifier;\n        this.element = element;\n        this.targets = new TargetSet(this);\n        this.data = new DataMap(this);\n    }\n    Scope.prototype.findElement = function (selector) {\n        return this.findAllElements(selector)[0];\n    };\n    Scope.prototype.findAllElements = function (selector) {\n        var head = this.element.matches(selector) ? [this.element] : [];\n        var tail = this.filterElements(Array.from(this.element.querySelectorAll(selector)));\n        return head.concat(tail);\n    };\n    Scope.prototype.filterElements = function (elements) {\n        var _this = this;\n        return elements.filter(function (element) { return _this.containsElement(element); });\n    };\n    Scope.prototype.containsElement = function (element) {\n        return element.closest(this.controllerSelector) === this.element;\n    };\n    Object.defineProperty(Scope.prototype, \"controllerSelector\", {\n        get: function () {\n            return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Scope;\n}());\nexport { Scope };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NvcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQTtBQUVwQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFBO0FBQ3hDLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGFBQWEsQ0FBQTtBQUV6RDtJQU9FLGVBQVksTUFBYyxFQUFFLFVBQWtCLEVBQUUsT0FBZ0I7UUFDOUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7UUFDcEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUE7UUFDNUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQy9CLENBQUM7SUFFRCwyQkFBVyxHQUFYLFVBQVksUUFBZ0I7UUFDMUIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQzFDLENBQUM7SUFFRCwrQkFBZSxHQUFmLFVBQWdCLFFBQWdCO1FBQzlCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBO1FBQ2pFLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNyRixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDMUIsQ0FBQztJQUVELDhCQUFjLEdBQWQsVUFBZSxRQUFtQjtRQUFsQyxpQkFFQztRQURDLE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLEtBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLEVBQTdCLENBQTZCLENBQUMsQ0FBQTtJQUNsRSxDQUFDO0lBRUQsK0JBQWUsR0FBZixVQUFnQixPQUFnQjtRQUM5QixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQTtJQUNsRSxDQUFDO0lBRUQsc0JBQVkscUNBQWtCO2FBQTlCO1lBQ0UsT0FBTywyQkFBMkIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUN0RixDQUFDOzs7T0FBQTtJQUNILFlBQUM7QUFBRCxDQUFDLEFBcENELElBb0NDIn0=","import { Scope } from \"./scope\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\nvar ScopeObserver = /** @class */ (function () {\n    function ScopeObserver(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap;\n        this.scopeReferenceCounts = new WeakMap;\n    }\n    ScopeObserver.prototype.start = function () {\n        this.valueListObserver.start();\n    };\n    ScopeObserver.prototype.stop = function () {\n        this.valueListObserver.stop();\n    };\n    Object.defineProperty(ScopeObserver.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Value observer delegate\n    /** @hidden */\n    ScopeObserver.prototype.parseValueForToken = function (token) {\n        var element = token.element, identifier = token.content;\n        var scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        var scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = new Scope(this.schema, identifier, element);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    };\n    /** @hidden */\n    ScopeObserver.prototype.elementMatchedValue = function (element, value) {\n        var referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    };\n    /** @hidden */\n    ScopeObserver.prototype.elementUnmatchedValue = function (element, value) {\n        var referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    };\n    ScopeObserver.prototype.fetchScopesByIdentifierForElement = function (element) {\n        var scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map;\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    };\n    return ScopeObserver;\n}());\nexport { ScopeObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGVfb2JzZXJ2ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NvcGVfb2JzZXJ2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUMvQixPQUFPLEVBQVMsaUJBQWlCLEVBQTZCLE1BQU0sOEJBQThCLENBQUE7QUFPbEc7SUFRRSx1QkFBWSxPQUFnQixFQUFFLE1BQWMsRUFBRSxRQUErQjtRQUMzRSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQTtRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtRQUNwQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtRQUN4QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUM1RixJQUFJLENBQUMsMkJBQTJCLEdBQUcsSUFBSSxPQUFPLENBQUE7UUFDOUMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksT0FBTyxDQUFBO0lBQ3pDLENBQUM7SUFFRCw2QkFBSyxHQUFMO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFBO0lBQ2hDLENBQUM7SUFFRCw0QkFBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFBO0lBQy9CLENBQUM7SUFFRCxzQkFBSSw4Q0FBbUI7YUFBdkI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUE7UUFDeEMsQ0FBQzs7O09BQUE7SUFFRCwwQkFBMEI7SUFFMUIsY0FBYztJQUNkLDBDQUFrQixHQUFsQixVQUFtQixLQUFZO1FBQ3JCLElBQUEsdUJBQU8sRUFBRSwwQkFBbUIsQ0FBVTtRQUM5QyxJQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUUxRSxJQUFJLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDOUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQTtZQUNuRCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFBO1NBQzFDO1FBRUQsT0FBTyxLQUFLLENBQUE7SUFDZCxDQUFDO0lBRUQsY0FBYztJQUNkLDJDQUFtQixHQUFuQixVQUFvQixPQUFnQixFQUFFLEtBQVk7UUFDaEQsSUFBTSxjQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUN0RSxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQTtRQUNwRCxJQUFJLGNBQWMsSUFBSSxDQUFDLEVBQUU7WUFDdkIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUE7U0FDcEM7SUFDSCxDQUFDO0lBRUQsY0FBYztJQUNkLDZDQUFxQixHQUFyQixVQUFzQixPQUFnQixFQUFFLEtBQVk7UUFDbEQsSUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUMzRCxJQUFJLGNBQWMsRUFBRTtZQUNsQixJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxjQUFjLEdBQUcsQ0FBQyxDQUFDLENBQUE7WUFDeEQsSUFBSSxjQUFjLElBQUksQ0FBQyxFQUFFO2dCQUN2QixJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFBO2FBQ3ZDO1NBQ0Y7SUFDSCxDQUFDO0lBRU8seURBQWlDLEdBQXpDLFVBQTBDLE9BQWdCO1FBQ3hELElBQUksa0JBQWtCLEdBQUcsSUFBSSxDQUFDLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUN0RSxJQUFJLENBQUMsa0JBQWtCLEVBQUU7WUFDdkIsa0JBQWtCLEdBQUcsSUFBSSxHQUFHLENBQUE7WUFDNUIsSUFBSSxDQUFDLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLENBQUMsQ0FBQTtTQUNsRTtRQUNELE9BQU8sa0JBQWtCLENBQUE7SUFDM0IsQ0FBQztJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQXpFRCxJQXlFQyJ9","import { Module } from \"./module\";\nimport { Multimap } from \"@stimulus/multimap\";\nimport { ScopeObserver } from \"./scope_observer\";\nvar Router = /** @class */ (function () {\n    function Router(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap;\n        this.modulesByIdentifier = new Map;\n    }\n    Object.defineProperty(Router.prototype, \"element\", {\n        get: function () {\n            return this.application.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"modules\", {\n        get: function () {\n            return Array.from(this.modulesByIdentifier.values());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"contexts\", {\n        get: function () {\n            return this.modules.reduce(function (contexts, module) { return contexts.concat(module.contexts); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Router.prototype.start = function () {\n        this.scopeObserver.start();\n    };\n    Router.prototype.stop = function () {\n        this.scopeObserver.stop();\n    };\n    Router.prototype.loadDefinition = function (definition) {\n        this.unloadIdentifier(definition.identifier);\n        var module = new Module(this.application, definition);\n        this.connectModule(module);\n    };\n    Router.prototype.unloadIdentifier = function (identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    };\n    Router.prototype.getContextForElementAndIdentifier = function (element, identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find(function (context) { return context.element == element; });\n        }\n    };\n    // Error handler delegate\n    /** @hidden */\n    Router.prototype.handleError = function (error, message, detail) {\n        this.application.handleError(error, message, detail);\n    };\n    // Scope observer delegate\n    /** @hidden */\n    Router.prototype.scopeConnected = function (scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        var module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    };\n    /** @hidden */\n    Router.prototype.scopeDisconnected = function (scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        var module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    };\n    // Modules\n    Router.prototype.connectModule = function (module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(function (scope) { return module.connectContextForScope(scope); });\n    };\n    Router.prototype.disconnectModule = function (module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(function (scope) { return module.disconnectContextForScope(scope); });\n    };\n    return Router;\n}());\nexport { Router };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JvdXRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2pDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQUc3QyxPQUFPLEVBQUUsYUFBYSxFQUF5QixNQUFNLGtCQUFrQixDQUFBO0FBRXZFO0lBTUUsZ0JBQVksV0FBd0I7UUFDbEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUE7UUFDOUIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDdkUsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksUUFBUSxDQUFBO1FBQ3RDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNwQyxDQUFDO0lBRUQsc0JBQUksMkJBQU87YUFBWDtZQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUE7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwwQkFBTTthQUFWO1lBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHVDQUFtQjthQUF2QjtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQTtRQUN4QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDJCQUFPO2FBQVg7WUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7UUFDdEQsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw0QkFBUTthQUFaO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFDLFFBQVEsRUFBRSxNQUFNLElBQUssT0FBQSxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBaEMsQ0FBZ0MsRUFBRSxFQUFlLENBQUMsQ0FBQTtRQUNyRyxDQUFDOzs7T0FBQTtJQUVELHNCQUFLLEdBQUw7UUFDRSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFBO0lBQzVCLENBQUM7SUFFRCxxQkFBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUMzQixDQUFDO0lBRUQsK0JBQWMsR0FBZCxVQUFlLFVBQXNCO1FBQ25DLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDNUMsSUFBTSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxVQUFVLENBQUMsQ0FBQTtRQUN2RCxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQzVCLENBQUM7SUFFRCxpQ0FBZ0IsR0FBaEIsVUFBaUIsVUFBa0I7UUFDakMsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUN2RCxJQUFJLE1BQU0sRUFBRTtZQUNWLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQTtTQUM5QjtJQUNILENBQUM7SUFFRCxrREFBaUMsR0FBakMsVUFBa0MsT0FBZ0IsRUFBRSxVQUFrQjtRQUNwRSxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ3ZELElBQUksTUFBTSxFQUFFO1lBQ1YsT0FBTyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLE9BQU8sQ0FBQyxPQUFPLElBQUksT0FBTyxFQUExQixDQUEwQixDQUFDLENBQUE7U0FDbkU7SUFDSCxDQUFDO0lBRUQseUJBQXlCO0lBRXpCLGNBQWM7SUFDZCw0QkFBVyxHQUFYLFVBQVksS0FBWSxFQUFFLE9BQWUsRUFBRSxNQUFXO1FBQ3BELElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7SUFDdEQsQ0FBQztJQUVELDBCQUEwQjtJQUUxQixjQUFjO0lBQ2QsK0JBQWMsR0FBZCxVQUFlLEtBQVk7UUFDekIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3BELElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzdELElBQUksTUFBTSxFQUFFO1lBQ1YsTUFBTSxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQ3JDO0lBQ0gsQ0FBQztJQUVELGNBQWM7SUFDZCxrQ0FBaUIsR0FBakIsVUFBa0IsS0FBWTtRQUM1QixJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUE7UUFDdkQsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDN0QsSUFBSSxNQUFNLEVBQUU7WUFDVixNQUFNLENBQUMseUJBQXlCLENBQUMsS0FBSyxDQUFDLENBQUE7U0FDeEM7SUFDSCxDQUFDO0lBRUQsVUFBVTtJQUVGLDhCQUFhLEdBQXJCLFVBQXNCLE1BQWM7UUFDbEMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFBO1FBQ3ZELElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQ3pFLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxNQUFNLENBQUMsc0JBQXNCLENBQUMsS0FBSyxDQUFDLEVBQXBDLENBQW9DLENBQUMsQ0FBQTtJQUMvRCxDQUFDO0lBRU8saUNBQWdCLEdBQXhCLFVBQXlCLE1BQWM7UUFDckMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDbEQsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDekUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQyxLQUFLLENBQUMsRUFBdkMsQ0FBdUMsQ0FBQyxDQUFBO0lBQ2xFLENBQUM7SUFDSCxhQUFDO0FBQUQsQ0FBQyxBQXJHRCxJQXFHQyJ9","export var defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\"\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NjaGVtYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNQSxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQVc7SUFDbkMsbUJBQW1CLEVBQUUsaUJBQWlCO0lBQ3RDLGVBQWUsRUFBRSxhQUFhO0lBQzlCLGVBQWUsRUFBRSxhQUFhO0NBQy9CLENBQUEifQ==","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Dispatcher } from \"./dispatcher\";\nimport { Router } from \"./router\";\nimport { defaultSchema } from \"./schema\";\nvar Application = /** @class */ (function () {\n    function Application(element, schema) {\n        if (element === void 0) { element = document.documentElement; }\n        if (schema === void 0) { schema = defaultSchema; }\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n    }\n    Application.start = function (element, schema) {\n        var application = new Application(element, schema);\n        application.start();\n        return application;\n    };\n    Application.prototype.start = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, domReady()];\n                    case 1:\n                        _a.sent();\n                        this.router.start();\n                        this.dispatcher.start();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Application.prototype.stop = function () {\n        this.router.stop();\n        this.dispatcher.stop();\n    };\n    Application.prototype.register = function (identifier, controllerConstructor) {\n        this.load({ identifier: identifier, controllerConstructor: controllerConstructor });\n    };\n    Application.prototype.load = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var definitions = Array.isArray(head) ? head : [head].concat(rest);\n        definitions.forEach(function (definition) { return _this.router.loadDefinition(definition); });\n    };\n    Application.prototype.unload = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var identifiers = Array.isArray(head) ? head : [head].concat(rest);\n        identifiers.forEach(function (identifier) { return _this.router.unloadIdentifier(identifier); });\n    };\n    Object.defineProperty(Application.prototype, \"controllers\", {\n        // Controllers\n        get: function () {\n            return this.router.contexts.map(function (context) { return context.controller; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Application.prototype.getControllerForElementAndIdentifier = function (element, identifier) {\n        var context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    };\n    // Error handling\n    Application.prototype.handleError = function (error, message, detail) {\n        console.error(\"%s\\n\\n%o\\n\\n%o\", message, error, detail);\n    };\n    return Application;\n}());\nexport { Application };\nfunction domReady() {\n    return new Promise(function (resolve) {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", resolve);\n        }\n        else {\n            resolve();\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwbGljYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYXBwbGljYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sY0FBYyxDQUFBO0FBRXpDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDakMsT0FBTyxFQUFVLGFBQWEsRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUVoRDtJQVlFLHFCQUFZLE9BQTJDLEVBQUUsTUFBOEI7UUFBM0Usd0JBQUEsRUFBQSxVQUFtQixRQUFRLENBQUMsZUFBZTtRQUFFLHVCQUFBLEVBQUEsc0JBQThCO1FBQ3JGLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDdEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUNoQyxDQUFDO0lBWE0saUJBQUssR0FBWixVQUFhLE9BQWlCLEVBQUUsTUFBZTtRQUM3QyxJQUFNLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDcEQsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFBO1FBQ25CLE9BQU8sV0FBVyxDQUFBO0lBQ3BCLENBQUM7SUFTSywyQkFBSyxHQUFYOzs7OzRCQUNFLHFCQUFNLFFBQVEsRUFBRSxFQUFBOzt3QkFBaEIsU0FBZ0IsQ0FBQTt3QkFDaEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQTt3QkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQTs7Ozs7S0FDeEI7SUFFRCwwQkFBSSxHQUFKO1FB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","/** @hidden */\nexport function defineTargetProperties(constructor) {\n    var prototype = constructor.prototype;\n    var targetNames = getTargetNamesForConstructor(constructor);\n    targetNames.forEach(function (name) {\n        var _a;\n        return defineLinkedProperties(prototype, (_a = {},\n            _a[name + \"Target\"] = {\n                get: function () {\n                    var target = this.targets.find(name);\n                    if (target) {\n                        return target;\n                    }\n                    else {\n                        throw new Error(\"Missing target element \\\"\" + this.identifier + \".\" + name + \"\\\"\");\n                    }\n                }\n            },\n            _a[name + \"Targets\"] = {\n                get: function () {\n                    return this.targets.findAll(name);\n                }\n            },\n            _a[\"has\" + capitalize(name) + \"Target\"] = {\n                get: function () {\n                    return this.targets.has(name);\n                }\n            },\n            _a));\n    });\n}\nfunction getTargetNamesForConstructor(constructor) {\n    var ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce(function (targetNames, constructor) {\n        getOwnTargetNamesForConstructor(constructor).forEach(function (name) { return targetNames.add(name); });\n        return targetNames;\n    }, new Set));\n}\nfunction getAncestorsForConstructor(constructor) {\n    var ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors;\n}\nfunction getOwnTargetNamesForConstructor(constructor) {\n    var definition = constructor[\"targets\"];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction defineLinkedProperties(object, properties) {\n    Object.keys(properties).forEach(function (name) {\n        if (!(name in object)) {\n            var descriptor = properties[name];\n            Object.defineProperty(object, name, descriptor);\n        }\n    });\n}\nfunction capitalize(name) {\n    return name.charAt(0).toUpperCase() + name.slice(1);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFyZ2V0X3Byb3BlcnRpZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdGFyZ2V0X3Byb3BlcnRpZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsY0FBYztBQUNkLE1BQU0saUNBQWlDLFdBQXFCO0lBQzFELElBQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUE7SUFDdkMsSUFBTSxXQUFXLEdBQUcsNEJBQTRCLENBQUMsV0FBVyxDQUFDLENBQUE7SUFDN0QsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUk7O1FBQUksT0FBQSxzQkFBc0IsQ0FBQyxTQUFTO1lBQzFELEdBQUksSUFBSSxXQUFRLElBQUc7Z0JBQ2pCLEdBQUc7b0JBQ0QsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7b0JBQ3RDLElBQUksTUFBTSxFQUFFO3dCQUNWLE9BQU8sTUFBTSxDQUFBO3FCQUNkO3lCQUFNO3dCQUNMLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQTJCLElBQUksQ0FBQyxVQUFVLFNBQUksSUFBSSxPQUFHLENBQUMsQ0FBQTtxQkFDdkU7Z0JBQ0gsQ0FBQzthQUNGO1lBQ0QsR0FBSSxJQUFJLFlBQVMsSUFBRztnQkFDbEIsR0FBRztvQkFDRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO2dCQUNuQyxDQUFDO2FBQ0Y7WUFDRCxHQUFDLFFBQU0sVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFRLElBQUc7Z0JBQ2hDLEdBQUc7b0JBQ0QsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDL0IsQ0FBQzthQUNGO2dCQUNEO0lBckIwQixDQXFCMUIsQ0FBQyxDQUFBO0FBQ0wsQ0FBQztBQUVELHNDQUFzQyxXQUFxQjtJQUN6RCxJQUFNLFNBQVMsR0FBRywwQkFBMEIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtJQUN6RCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFDLFdBQVcsRUFBRSxXQUFXO1FBQzFELCtCQUErQixDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUksSUFBSSxPQUFBLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQXJCLENBQXFCLENBQUMsQ0FBQTtRQUNuRixPQUFPLFdBQVcsQ0FBQTtJQUNwQixDQUFDLEVBQUUsSUFBSSxHQUFrQixDQUFDLENBQUMsQ0FBQTtBQUM3QixDQUFDO0FBRUQsb0NBQW9DLFdBQXFCO0lBQ3ZELElBQU0sU0FBUyxHQUFlLEVBQUUsQ0FBQTtJQUNoQyxPQUFPLFdBQVcsRUFBRTtRQUNsQixTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQzNCLFdBQVcsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0tBQ2pEO0lBQ0QsT0FBTyxTQUFTLENBQUE7QUFDbEIsQ0FBQztBQUVELHlDQUF5QyxXQUFxQjtJQUM1RCxJQUFNLFVBQVUsR0FBSSxXQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ2xELE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUE7QUFDcEQsQ0FBQztBQUVELGdDQUFnQyxNQUFXLEVBQUUsVUFBaUM7SUFDNUUsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFJO1FBQ25DLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxNQUFNLENBQUMsRUFBRTtZQUNyQixJQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDbkMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFBO1NBQ2hEO0lBQ0gsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDO0FBRUQsb0JBQW9CLElBQVk7SUFDOUIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDckQsQ0FBQyJ9","import { defineTargetProperties } from \"./target_properties\";\nvar Controller = /** @class */ (function () {\n    function Controller(context) {\n        this.context = context;\n    }\n    Controller.bless = function () {\n        defineTargetProperties(this);\n    };\n    Object.defineProperty(Controller.prototype, \"application\", {\n        get: function () {\n            return this.context.application;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"targets\", {\n        get: function () {\n            return this.scope.targets;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"data\", {\n        get: function () {\n            return this.scope.data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Controller.prototype.initialize = function () {\n        // Override in your subclass to set up initial controller state\n    };\n    Controller.prototype.connect = function () {\n        // Override in your subclass to respond when the controller is connected to the DOM\n    };\n    Controller.prototype.disconnect = function () {\n        // Override in your subclass to respond when the controller is disconnected from the DOM\n    };\n    Controller.targets = [];\n    return Controller;\n}());\nexport { Controller };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLHFCQUFxQixDQUFBO0FBTzVEO0lBU0Usb0JBQVksT0FBZ0I7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7SUFDeEIsQ0FBQztJQU5NLGdCQUFLLEdBQVo7UUFDRSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUM5QixDQUFDO0lBTUQsc0JBQUksbUNBQVc7YUFBZjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUE7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw2QkFBSzthQUFUO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksa0NBQVU7YUFBZDtZQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUE7UUFDOUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwrQkFBTzthQUFYO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFJO2FBQVI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFBO1FBQ3hCLENBQUM7OztPQUFBO0lBRUQsK0JBQVUsR0FBVjtRQUNFLCtEQUErRDtJQUNqRSxDQUFDO0lBRUQsNEJBQU8sR0FBUDtRQUNFLG1GQUFtRjtJQUNyRixDQUFDO0lBRUQsK0JBQVUsR0FBVjtRQUNFLHdGQUF3RjtJQUMxRixDQUFDO0lBOUNNLGtCQUFPLEdBQWEsRUFBRSxDQUFBO0lBK0MvQixpQkFBQztDQUFBLEFBaERELElBZ0RDO1NBaERZLFVBQVUifQ==","export * from \"@stimulus/core\"\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","// Flickity main\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter',\n      'get-size/get-size',\n      'fizzy-ui-utils/utils',\n      './cell',\n      './slide',\n      './animate'\n    ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./cell'),\n      require('./slide'),\n      require('./animate')\n    );\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      _Flickity.Cell,\n      _Flickity.Slide,\n      _Flickity.animatePrototype\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize,\n  utils, Cell, Slide, animatePrototype ) {\n\n'use strict';\n\n// vars\nvar jQuery = window.jQuery;\nvar getComputedStyle = window.getComputedStyle;\nvar console = window.console;\n\nfunction moveElements( elems, toElem ) {\n  elems = utils.makeArray( elems );\n  while ( elems.length ) {\n    toElem.appendChild( elems.shift() );\n  }\n}\n\n// -------------------------- Flickity -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Flickity intances\nvar instances = {};\n\nfunction Flickity( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // do not initialize twice on same element\n  if ( this.element.flickityGUID ) {\n    var instance = instances[ this.element.flickityGUID ];\n    instance.option( options );\n    return instance;\n  }\n\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // kick things off\n  this._create();\n}\n\nFlickity.defaults = {\n  accessibility: true,\n  // adaptiveHeight: false,\n  cellAlign: 'center',\n  // cellSelector: undefined,\n  // contain: false,\n  freeScrollFriction: 0.075, // friction when free-scrolling\n  friction: 0.28, // friction when selecting\n  namespaceJQueryEvents: true,\n  // initialIndex: 0,\n  percentPosition: true,\n  resize: true,\n  selectedAttraction: 0.025,\n  setGallerySize: true\n  // watchCSS: false,\n  // wrapAround: false\n};\n\n// hash of methods triggered on _create()\nFlickity.createMethods = [];\n\nvar proto = Flickity.prototype;\n// inherit EventEmitter\nutils.extend( proto, EvEmitter.prototype );\n\nproto._create = function() {\n  // add id for Flickity.data\n  var id = this.guid = ++GUID;\n  this.element.flickityGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // initial properties\n  this.selectedIndex = 0;\n  // how many frames slider has been in same position\n  this.restingFrames = 0;\n  // initial physics properties\n  this.x = 0;\n  this.velocity = 0;\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\n  // create viewport & slider\n  this.viewport = document.createElement('div');\n  this.viewport.className = 'flickity-viewport';\n  this._createSlider();\n\n  if ( this.options.resize || this.options.watchCSS ) {\n    window.addEventListener( 'resize', this );\n  }\n\n  // add listeners from on option\n  for ( var eventName in this.options.on ) {\n    var listener = this.options.on[ eventName ];\n    this.on( eventName, listener );\n  }\n\n  Flickity.createMethods.forEach( function( method ) {\n    this[ method ]();\n  }, this );\n\n  if ( this.options.watchCSS ) {\n    this.watchCSS();\n  } else {\n    this.activate();\n  }\n\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nproto.activate = function() {\n  if ( this.isActive ) {\n    return;\n  }\n  this.isActive = true;\n  this.element.classList.add('flickity-enabled');\n  if ( this.options.rightToLeft ) {\n    this.element.classList.add('flickity-rtl');\n  }\n\n  this.getSize();\n  // move initial cell elements so they can be loaded as cells\n  var cellElems = this._filterFindCellElements( this.element.children );\n  moveElements( cellElems, this.slider );\n  this.viewport.appendChild( this.slider );\n  this.element.appendChild( this.viewport );\n  // get cells from children\n  this.reloadCells();\n\n  if ( this.options.accessibility ) {\n    // allow element to focusable\n    this.element.tabIndex = 0;\n    // listen for key presses\n    this.element.addEventListener( 'keydown', this );\n  }\n\n  this.emitEvent('activate');\n  this.selectInitialIndex();\n  // flag for initial activation, for using initialIndex\n  this.isInitActivated = true;\n  // ready event. #493\n  this.dispatchEvent('ready');\n};\n\n// slider positions the cells\nproto._createSlider = function() {\n  // slider element does all the positioning\n  var slider = document.createElement('div');\n  slider.className = 'flickity-slider';\n  slider.style[ this.originSide ] = 0;\n  this.slider = slider;\n};\n\nproto._filterFindCellElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.cellSelector );\n};\n\n// goes through all children\nproto.reloadCells = function() {\n  // collection of item elements\n  this.cells = this._makeCells( this.slider.children );\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n};\n\n/**\n * turn elements into Flickity.Cells\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Flickity Cells\n */\nproto._makeCells = function( elems ) {\n  var cellElems = this._filterFindCellElements( elems );\n\n  // create new Flickity for collection\n  var cells = cellElems.map( function( cellElem ) {\n    return new Cell( cellElem, this );\n  }, this );\n\n  return cells;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.getLastSlide = function() {\n  return this.slides[ this.slides.length - 1 ];\n};\n\n// positions all cells\nproto.positionCells = function() {\n  // size all cells\n  this._sizeCells( this.cells );\n  // position all cells\n  this._positionCells( 0 );\n};\n\n/**\n * position certain cells\n * @param {Integer} index - which cell to start with\n */\nproto._positionCells = function( index ) {\n  index = index || 0;\n  // also measure maxCellHeight\n  // start 0 if positioning all cells\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n  var cellX = 0;\n  // get cellX\n  if ( index > 0 ) {\n    var startCell = this.cells[ index - 1 ];\n    cellX = startCell.x + startCell.size.outerWidth;\n  }\n  var len = this.cells.length;\n  for ( var i=index; i < len; i++ ) {\n    var cell = this.cells[i];\n    cell.setPosition( cellX );\n    cellX += cell.size.outerWidth;\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n  }\n  // keep track of cellX for wrap-around\n  this.slideableWidth = cellX;\n  // slides\n  this.updateSlides();\n  // contain slides target\n  this._containSlides();\n  // update slidesWidth\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n};\n\n/**\n * cell.getSize() on multiple cells\n * @param {Array} cells\n */\nproto._sizeCells = function( cells ) {\n  cells.forEach( function( cell ) {\n    cell.getSize();\n  });\n};\n\n// --------------------------  -------------------------- //\n\nproto.updateSlides = function() {\n  this.slides = [];\n  if ( !this.cells.length ) {\n    return;\n  }\n\n  var slide = new Slide( this );\n  this.slides.push( slide );\n  var isOriginLeft = this.originSide == 'left';\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n  var canCellFit = this._getCanCellFit();\n\n  this.cells.forEach( function( cell, i ) {\n    // just add cell if first cell in slide\n    if ( !slide.cells.length ) {\n      slide.addCell( cell );\n      return;\n    }\n\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n    if ( canCellFit.call( this, i, slideWidth ) ) {\n      slide.addCell( cell );\n    } else {\n      // doesn't fit, new slide\n      slide.updateTarget();\n\n      slide = new Slide( this );\n      this.slides.push( slide );\n      slide.addCell( cell );\n    }\n  }, this );\n  // last slide\n  slide.updateTarget();\n  // update .selectedSlide\n  this.updateSelectedSlide();\n};\n\nproto._getCanCellFit = function() {\n  var groupCells = this.options.groupCells;\n  if ( !groupCells ) {\n    return function() {\n      return false;\n    };\n  } else if ( typeof groupCells == 'number' ) {\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\n    var number = parseInt( groupCells, 10 );\n    return function( i ) {\n      return ( i % number ) !== 0;\n    };\n  }\n  // default, group by width of slide\n  // parse '75%\n  var percentMatch = typeof groupCells == 'string' &&\n    groupCells.match(/^(\\d+)%$/);\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n  return function( i, slideWidth ) {\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n  };\n};\n\n// alias _init for jQuery plugin .flickity()\nproto._init =\nproto.reposition = function() {\n  this.positionCells();\n  this.positionSliderAtSelected();\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n  this.setCellAlign();\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\n};\n\nvar cellAlignShorthands = {\n  // cell align, then based on origin side\n  center: {\n    left: 0.5,\n    right: 0.5\n  },\n  left: {\n    left: 0,\n    right: 1\n  },\n  right: {\n    right: 0,\n    left: 1\n  }\n};\n\nproto.setCellAlign = function() {\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n};\n\nproto.setGallerySize = function() {\n  if ( this.options.setGallerySize ) {\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\n      this.selectedSlide.height : this.maxCellHeight;\n    this.viewport.style.height = height + 'px';\n  }\n};\n\nproto._getWrapShiftCells = function() {\n  // only for wrap-around\n  if ( !this.options.wrapAround ) {\n    return;\n  }\n  // unshift previous cells\n  this._unshiftCells( this.beforeShiftCells );\n  this._unshiftCells( this.afterShiftCells );\n  // get before cells\n  // initial gap\n  var gapX = this.cursorPosition;\n  var cellIndex = this.cells.length - 1;\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n  // get after cells\n  // ending gap between last cell and end of gallery viewport\n  gapX = this.size.innerWidth - this.cursorPosition;\n  // start cloning at first cell, working forwards\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n};\n\nproto._getGapCells = function( gapX, cellIndex, increment ) {\n  // keep adding cells until the cover the initial gap\n  var cells = [];\n  while ( gapX > 0 ) {\n    var cell = this.cells[ cellIndex ];\n    if ( !cell ) {\n      break;\n    }\n    cells.push( cell );\n    cellIndex += increment;\n    gapX -= cell.size.outerWidth;\n  }\n  return cells;\n};\n\n// ----- contain ----- //\n\n// contain cell targets so no excess sliding\nproto._containSlides = function() {\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n    return;\n  }\n  var isRightToLeft = this.options.rightToLeft;\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n  // content is less than gallery size\n  var isContentSmaller = contentWidth < this.size.innerWidth;\n  // bounds\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n  // contain each cell target\n  this.slides.forEach( function( slide ) {\n    if ( isContentSmaller ) {\n      // all cells fit inside gallery\n      slide.target = contentWidth * this.cellAlign;\n    } else {\n      // contain to bounds\n      slide.target = Math.max( slide.target, beginBound );\n      slide.target = Math.min( slide.target, endBound );\n    }\n  }, this );\n};\n\n// -----  ----- //\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery && this.$element ) {\n    // default trigger with type if no event\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n    var $event = type;\n    if ( event ) {\n      // create jQuery event\n      var jQEvent = jQuery.Event( event );\n      jQEvent.type = type;\n      $event = jQEvent;\n    }\n    this.$element.trigger( $event, args );\n  }\n};\n\n// -------------------------- select -------------------------- //\n\n/**\n * @param {Integer} index - index of the slide\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n * @param {Boolean} isInstant - will immediately set position at selected cell\n */\nproto.select = function( index, isWrap, isInstant ) {\n  if ( !this.isActive ) {\n    return;\n  }\n  index = parseInt( index, 10 );\n  this._wrapSelect( index );\n\n  if ( this.options.wrapAround || isWrap ) {\n    index = utils.modulo( index, this.slides.length );\n  }\n  // bail if invalid index\n  if ( !this.slides[ index ] ) {\n    return;\n  }\n  var prevIndex = this.selectedIndex;\n  this.selectedIndex = index;\n  this.updateSelectedSlide();\n  if ( isInstant ) {\n    this.positionSliderAtSelected();\n  } else {\n    this.startAnimation();\n  }\n  if ( this.options.adaptiveHeight ) {\n    this.setGallerySize();\n  }\n  // events\n  this.dispatchEvent( 'select', null, [ index ] );\n  // change event if new index\n  if ( index != prevIndex ) {\n    this.dispatchEvent( 'change', null, [ index ] );\n  }\n  // old v1 event name, remove in v3\n  this.dispatchEvent('cellSelect');\n};\n\n// wraps position for wrapAround, to move to closest slide. #113\nproto._wrapSelect = function( index ) {\n  var len = this.slides.length;\n  var isWrapping = this.options.wrapAround && len > 1;\n  if ( !isWrapping ) {\n    return index;\n  }\n  var wrapIndex = utils.modulo( index, len );\n  // go to shortest\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\n    index += len;\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n    index -= len;\n  }\n  // wrap position so slider is within normal area\n  if ( index < 0 ) {\n    this.x -= this.slideableWidth;\n  } else if ( index >= len ) {\n    this.x += this.slideableWidth;\n  }\n};\n\nproto.previous = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\n};\n\nproto.next = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\n};\n\nproto.updateSelectedSlide = function() {\n  var slide = this.slides[ this.selectedIndex ];\n  // selectedIndex could be outside of slides, if triggered before resize()\n  if ( !slide ) {\n    return;\n  }\n  // unselect previous selected slide\n  this.unselectSelectedSlide();\n  // update new selected slide\n  this.selectedSlide = slide;\n  slide.select();\n  this.selectedCells = slide.cells;\n  this.selectedElements = slide.getCellElements();\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n  // Remove in v3?\n  this.selectedCell = slide.cells[0];\n  this.selectedElement = this.selectedElements[0];\n};\n\nproto.unselectSelectedSlide = function() {\n  if ( this.selectedSlide ) {\n    this.selectedSlide.unselect();\n  }\n};\n\nproto.selectInitialIndex = function() {\n  var initialIndex = this.options.initialIndex;\n  // already activated, select previous selectedIndex\n  if ( this.isInitActivated ) {\n    this.select( this.selectedIndex, false, true );\n    return;\n  }\n  // select with selector string\n  if ( initialIndex && typeof initialIndex == 'string' ) {\n    var cell = this.queryCell( initialIndex );\n    if ( cell ) {\n      this.selectCell( initialIndex, false, true );\n      return;\n    }\n  }\n\n  var index = 0;\n  // select with number\n  if ( initialIndex && this.slides[ initialIndex ] ) {\n    index = initialIndex;\n  }\n  // select instantly\n  this.select( index, false, true );\n};\n\n/**\n * select slide from number or cell element\n * @param {Element or Number} elem\n */\nproto.selectCell = function( value, isWrap, isInstant ) {\n  // get cell\n  var cell = this.queryCell( value );\n  if ( !cell ) {\n    return;\n  }\n\n  var index = this.getCellSlideIndex( cell );\n  this.select( index, isWrap, isInstant );\n};\n\nproto.getCellSlideIndex = function( cell ) {\n  // get index of slides that has cell\n  for ( var i=0; i < this.slides.length; i++ ) {\n    var slide = this.slides[i];\n    var index = slide.cells.indexOf( cell );\n    if ( index != -1 ) {\n      return i;\n    }\n  }\n};\n\n// -------------------------- get cells -------------------------- //\n\n/**\n * get Flickity.Cell, given an Element\n * @param {Element} elem\n * @returns {Flickity.Cell} item\n */\nproto.getCell = function( elem ) {\n  // loop through cells to get the one that matches\n  for ( var i=0; i < this.cells.length; i++ ) {\n    var cell = this.cells[i];\n    if ( cell.element == elem ) {\n      return cell;\n    }\n  }\n};\n\n/**\n * get collection of Flickity.Cells, given Elements\n * @param {Element, Array, NodeList} elems\n * @returns {Array} cells - Flickity.Cells\n */\nproto.getCells = function( elems ) {\n  elems = utils.makeArray( elems );\n  var cells = [];\n  elems.forEach( function( elem ) {\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      cells.push( cell );\n    }\n  }, this );\n  return cells;\n};\n\n/**\n * get cell elements\n * @returns {Array} cellElems\n */\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\n/**\n * get parent cell from an element\n * @param {Element} elem\n * @returns {Flickit.Cell} cell\n */\nproto.getParentCell = function( elem ) {\n  // first check if elem is cell\n  var cell = this.getCell( elem );\n  if ( cell ) {\n    return cell;\n  }\n  // try to get parent cell elem\n  elem = utils.getParent( elem, '.flickity-slider > *' );\n  return this.getCell( elem );\n};\n\n/**\n * get cells adjacent to a slide\n * @param {Integer} adjCount - number of adjacent slides\n * @param {Integer} index - index of slide to start\n * @returns {Array} cells - array of Flickity.Cells\n */\nproto.getAdjacentCellElements = function( adjCount, index ) {\n  if ( !adjCount ) {\n    return this.selectedSlide.getCellElements();\n  }\n  index = index === undefined ? this.selectedIndex : index;\n\n  var len = this.slides.length;\n  if ( 1 + ( adjCount * 2 ) >= len ) {\n    return this.getCellElements();\n  }\n\n  var cellElems = [];\n  for ( var i = index - adjCount; i <= index + adjCount ; i++ ) {\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n    var slide = this.slides[ slideIndex ];\n    if ( slide ) {\n      cellElems = cellElems.concat( slide.getCellElements() );\n    }\n  }\n  return cellElems;\n};\n\n/**\n * select slide from number or cell element\n * @param {Element, Selector String, or Number} selector\n */\nproto.queryCell = function( selector ) {\n  if ( typeof selector == 'number' ) {\n    // use number as index\n    return this.cells[ selector ];\n  }\n  if ( typeof selector == 'string' ) {\n    // do not select invalid selectors from hash: #123, #/. #791\n    if ( selector.match(/^[#\\.]?[\\d\\/]/) ) {\n      return;\n    }\n    // use string as selector, get element\n    selector = this.element.querySelector( selector );\n  }\n  // get cell from element\n  return this.getCell( selector );\n};\n\n// -------------------------- events -------------------------- //\n\nproto.uiChange = function() {\n  this.emitEvent('uiChange');\n};\n\n// keep focus on element when child UI elements are clicked\nproto.childUIPointerDown = function( event ) {\n  // HACK iOS does not allow touch events to bubble up?!\n  if ( event.type != 'touchstart' ) {\n    event.preventDefault();\n  }\n  this.focus();\n};\n\n// ----- resize ----- //\n\nproto.onresize = function() {\n  this.watchCSS();\n  this.resize();\n};\n\nutils.debounceMethod( Flickity, 'onresize', 150 );\n\nproto.resize = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.getSize();\n  // wrap values\n  if ( this.options.wrapAround ) {\n    this.x = utils.modulo( this.x, this.slideableWidth );\n  }\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  this.emitEvent('resize');\n  // update selected index for group slides, instant\n  // TODO: position can be lost between groups of various numbers\n  var selectedElement = this.selectedElements && this.selectedElements[0];\n  this.selectCell( selectedElement, false, true );\n};\n\n// watches the :after property, activates/deactivates\nproto.watchCSS = function() {\n  var watchOption = this.options.watchCSS;\n  if ( !watchOption ) {\n    return;\n  }\n\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\n  // activate if :after { content: 'flickity' }\n  if ( afterContent.indexOf('flickity') != -1 ) {\n    this.activate();\n  } else {\n    this.deactivate();\n  }\n};\n\n// ----- keydown ----- //\n\n// go previous/next if left/right keys pressed\nproto.onkeydown = function( event ) {\n  // only work if element is in focus\n  var isNotFocused = document.activeElement && document.activeElement != this.element;\n  if ( !this.options.accessibility ||isNotFocused ) {\n    return;\n  }\n\n  var handler = Flickity.keyboardHandlers[ event.keyCode ];\n  if ( handler ) {\n    handler.call( this );\n  }\n};\n\nFlickity.keyboardHandlers = {\n  // left arrow\n  37: function() {\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n    this.uiChange();\n    this[ leftMethod ]();\n  },\n  // right arrow\n  39: function() {\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n    this.uiChange();\n    this[ rightMethod ]();\n  },\n};\n\n// ----- focus ----- //\n\nproto.focus = function() {\n  // TODO remove scrollTo once focus options gets more support\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus#Browser_compatibility\n  var prevScrollY = window.pageYOffset;\n  this.element.focus({ preventScroll: true });\n  // hack to fix scroll jump after focus, #76\n  if ( window.pageYOffset != prevScrollY ) {\n    window.scrollTo( window.pageXOffset, prevScrollY );\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\n// deactivate all Flickity functionality, but keep stuff available\nproto.deactivate = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.element.classList.remove('flickity-enabled');\n  this.element.classList.remove('flickity-rtl');\n  this.unselectSelectedSlide();\n  // destroy cells\n  this.cells.forEach( function( cell ) {\n    cell.destroy();\n  });\n  this.element.removeChild( this.viewport );\n  // move child elements back into element\n  moveElements( this.slider.children, this.element );\n  if ( this.options.accessibility ) {\n    this.element.removeAttribute('tabIndex');\n    this.element.removeEventListener( 'keydown', this );\n  }\n  // set flags\n  this.isActive = false;\n  this.emitEvent('deactivate');\n};\n\nproto.destroy = function() {\n  this.deactivate();\n  window.removeEventListener( 'resize', this );\n  this.allOff();\n  this.emitEvent('destroy');\n  if ( jQuery && this.$element ) {\n    jQuery.removeData( this.element, 'flickity' );\n  }\n  delete this.element.flickityGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- prototype -------------------------- //\n\nutils.extend( proto, animatePrototype );\n\n// -------------------------- extras -------------------------- //\n\n/**\n * get Flickity instance from element\n * @param {Element} elem\n * @returns {Flickity}\n */\nFlickity.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.flickityGUID;\n  return id && instances[ id ];\n};\n\nutils.htmlInit( Flickity, 'flickity' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'flickity', Flickity );\n}\n\n// set internal jQuery, for Webpack + jQuery v3, #478\nFlickity.setJQuery = function( jq ) {\n  jQuery = jq;\n};\n\nFlickity.Cell = Cell;\nFlickity.Slide = Slide;\n\nreturn Flickity;\n\n}));\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.4.2',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  'use strict';\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( EvEmitter, getSize, utils, Item ) {\n        return factory( window, EvEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n'use strict';\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  var isInitLayout = this._getOption('initLayout');\n  if ( isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  initLayout: true,\n  originLeft: true,\n  originTop: true,\n  resize: true,\n  resizeContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\nvar proto = Outlayer.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n/**\n * get backwards compatible option value, check old name\n */\nproto._getOption = function( option ) {\n  var oldOption = this.constructor.compatOptions[ option ];\n  return oldOption && this.options[ oldOption ] !== undefined ?\n    this.options[ oldOption ] : this.options[ option ];\n};\n\nOutlayer.compatOptions = {\n  // currentName: oldName\n  initLayout: 'isInitLayout',\n  horizontal: 'isHorizontal',\n  layoutInstant: 'isLayoutInstant',\n  originLeft: 'isOriginLeft',\n  originTop: 'isOriginTop',\n  resize: 'isResizeBound',\n  resizeContainer: 'isResizingContainer'\n};\n\nproto._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  var canBindResize = this._getOption('resize');\n  if ( canBindResize ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nproto.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nproto._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0; i < itemElems.length; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nproto._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nproto.getItemElements = function() {\n  return this.items.map( function( item ) {\n    return item.element;\n  });\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nproto.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var layoutInstant = this._getOption('layoutInstant');\n  var isInstant = layoutInstant !== undefined ?\n    layoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nproto._init = proto.layout;\n\n/**\n * logic before any new layout\n */\nproto._resetLayout = function() {\n  this.getSize();\n};\n\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nproto._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option == 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( option instanceof HTMLElement ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nproto.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nproto._getItemsForLayout = function( items ) {\n  return items.filter( function( item ) {\n    return !item.isIgnored;\n  });\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nproto._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  items.forEach( function( item ) {\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }, this );\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nproto._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nproto._processLayoutQueue = function( queue ) {\n  this.updateStagger();\n  queue.forEach( function( obj, i ) {\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n  }, this );\n};\n\n// set stagger from option in milliseconds number\nproto.updateStagger = function() {\n  var stagger = this.options.stagger;\n  if ( stagger === null || stagger === undefined ) {\n    this.stagger = 0;\n    return;\n  }\n  this.stagger = getMilliseconds( stagger );\n  return this.stagger;\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nproto._positionItem = function( item, x, y, isInstant, i ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.stagger( i * this.stagger );\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nproto._postLayout = function() {\n  this.resizeContainer();\n};\n\nproto.resizeContainer = function() {\n  var isResizingContainer = this._getOption('resizeContainer');\n  if ( !isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nproto._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nproto._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nproto._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount == count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  items.forEach( function( item ) {\n    item.once( eventName, tick );\n  });\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nproto.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nproto.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nproto.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  elems.forEach( this.ignore, this );\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nproto.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  elems.forEach( function( elem ) {\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }, this );\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nproto._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems == 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nproto._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  this.stamps.forEach( this._manageStamp, this );\n};\n\n// update boundingLeft / Top\nproto._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nproto._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nproto._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nproto.handleEvent = utils.handleEvent;\n\n/**\n * Bind layout to window resizing\n */\nproto.bindResize = function() {\n  window.addEventListener( 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nproto.unbindResize = function() {\n  window.removeEventListener( 'resize', this );\n  this.isResizeBound = false;\n};\n\nproto.onresize = function() {\n  this.resize();\n};\n\nutils.debounceMethod( Outlayer, 'onresize', 100 );\n\nproto.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nproto.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nproto.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nproto.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nproto.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.reveal();\n  });\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.hide();\n  });\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nproto.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0; i < this.items.length; i++ ) {\n    var item = this.items[i];\n    if ( item.element == elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nproto.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  elems.forEach( function( elem ) {\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }, this );\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nproto.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  removeItems.forEach( function( item ) {\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }, this );\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nproto.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  this.items.forEach( function( item ) {\n    item.destroy();\n  });\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  var Layout = subclass( Outlayer );\n  // apply new options and compatOptions\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  utils.extend( Layout.defaults, options );\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = subclass( Item );\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\nfunction subclass( Parent ) {\n  function SubClass() {\n    Parent.apply( this, arguments );\n  }\n\n  SubClass.prototype = Object.create( Parent.prototype );\n  SubClass.prototype.constructor = SubClass;\n\n  return SubClass;\n}\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\nvar msUnits = {\n  ms: 1,\n  s: 1000\n};\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\nfunction getMilliseconds( time ) {\n  if ( typeof time == 'number' ) {\n    return time;\n  }\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n  var num = matches && matches[1];\n  var unit = matches && matches[2];\n  if ( !num.length ) {\n    return 0;\n  }\n  num = parseFloat( num );\n  var mult = msUnits[ unit ] || 1;\n  return num * mult;\n}\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n","/**\n * Isotope LayoutMode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'get-size/get-size',\n        'outlayer/outlayer'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('get-size'),\n      require('outlayer')\n    );\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.LayoutMode = factory(\n      window.getSize,\n      window.Outlayer\n    );\n  }\n\n}( window, function factory( getSize, Outlayer ) {\n  'use strict';\n\n  // layout mode class\n  function LayoutMode( isotope ) {\n    this.isotope = isotope;\n    // link properties\n    if ( isotope ) {\n      this.options = isotope.options[ this.namespace ];\n      this.element = isotope.element;\n      this.items = isotope.filteredItems;\n      this.size = isotope.size;\n    }\n  }\n\n  var proto = LayoutMode.prototype;\n\n  /**\n   * some methods should just defer to default Outlayer method\n   * and reference the Isotope instance as `this`\n  **/\n  var facadeMethods = [\n    '_resetLayout',\n    '_getItemLayoutPosition',\n    '_manageStamp',\n    '_getContainerSize',\n    '_getElementOffset',\n    'needsResizeLayout',\n    '_getOption'\n  ];\n\n  facadeMethods.forEach( function( methodName ) {\n    proto[ methodName ] = function() {\n      return Outlayer.prototype[ methodName ].apply( this.isotope, arguments );\n    };\n  });\n\n  // -----  ----- //\n\n  // for horizontal layout modes, check vertical size\n  proto.needsVerticalResizeLayout = function() {\n    // don't trigger if size did not change\n    var size = getSize( this.isotope.element );\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var hasSizes = this.isotope.size && size;\n    return hasSizes && size.innerHeight != this.isotope.size.innerHeight;\n  };\n\n  // ----- measurements ----- //\n\n  proto._getMeasurement = function() {\n    this.isotope._getMeasurement.apply( this, arguments );\n  };\n\n  proto.getColumnWidth = function() {\n    this.getSegmentSize( 'column', 'Width' );\n  };\n\n  proto.getRowHeight = function() {\n    this.getSegmentSize( 'row', 'Height' );\n  };\n\n  /**\n   * get columnWidth or rowHeight\n   * segment: 'column' or 'row'\n   * size 'Width' or 'Height'\n  **/\n  proto.getSegmentSize = function( segment, size ) {\n    var segmentName = segment + size;\n    var outerSize = 'outer' + size;\n    // columnWidth / outerWidth // rowHeight / outerHeight\n    this._getMeasurement( segmentName, outerSize );\n    // got rowHeight or columnWidth, we can chill\n    if ( this[ segmentName ] ) {\n      return;\n    }\n    // fall back to item of first element\n    var firstItemSize = this.getFirstItemSize();\n    this[ segmentName ] = firstItemSize && firstItemSize[ outerSize ] ||\n      // or size of container\n      this.isotope.size[ 'inner' + size ];\n  };\n\n  proto.getFirstItemSize = function() {\n    var firstItem = this.isotope.filteredItems[0];\n    return firstItem && firstItem.element && getSize( firstItem.element );\n  };\n\n  // ----- methods that should reference isotope ----- //\n\n  proto.layout = function() {\n    this.isotope.layout.apply( this.isotope, arguments );\n  };\n\n  proto.getSize = function() {\n    this.isotope.getSize();\n    this.size = this.isotope.size;\n  };\n\n  // -------------------------- create -------------------------- //\n\n  LayoutMode.modes = {};\n\n  LayoutMode.create = function( namespace, options ) {\n\n    function Mode() {\n      LayoutMode.apply( this, arguments );\n    }\n\n    Mode.prototype = Object.create( proto );\n    Mode.prototype.constructor = Mode;\n\n    // default options\n    if ( options ) {\n      Mode.options = options;\n    }\n\n    Mode.prototype.namespace = namespace;\n    // register in Isotope\n    LayoutMode.modes[ namespace ] = Mode;\n\n    return Mode;\n  };\n\n  return LayoutMode;\n\n}));\n","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","module.exports = {};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n'use strict';\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar nativeFunctionToString = require('../internals/function-to-string');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(nativeFunctionToString).split('toString');\n\nshared('inspectSource', function (it) {\n  return nativeFunctionToString.call(it);\n});\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || nativeFunctionToString.call(this);\n});\n","var shared = require('../internals/shared');\n\nmodule.exports = shared('native-function-to-string', Function.toString);\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !method || !fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = sloppyArrayMethod('forEach') ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","var bind = require('../internals/bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n","/*\nTurbolinks 5.2.0\nCopyright  2018 Basecamp, LLC\n */\n(function(){var t=this;(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(t,r){return e.controller.visit(t,r)},clearCache:function(){return e.controller.clearCache()},setProgressBarDelay:function(t){return e.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var e=t.Turbolinks;(function(){(function(){var t,r,n,o=[].slice;e.copyObject=function(t){var e,r,n;r={};for(e in t)n=t[e],r[e]=n;return r},e.closest=function(e,r){return t.call(e,r)},t=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&r.call(e,t))return e;e=e.parentNode}}}(),e.defer=function(t){return setTimeout(t,1)},e.throttle=function(t){var e;return e=null,function(){var r;return r=1<=arguments.length?o.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(n){return function(){return e=null,t.apply(n,r)}}(this))}},e.dispatch=function(t,e){var r,o,i,s,a,u;return a=null!=e?e:{},u=a.target,r=a.cancelable,o=a.data,i=document.createEvent(\"Events\"),i.initEvent(t,!0,r===!0),i.data=null!=o?o:{},i.cancelable&&!n&&(s=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,\"defaultPrevented\",{get:function(){return!0}}),s.call(this)}),(null!=u?u:document).dispatchEvent(i),i},n=function(){var t;return t=document.createEvent(\"Events\"),t.initEvent(\"test\",!0,!0),t.preventDefault(),t.defaultPrevented}(),e.match=function(t,e){return r.call(t,e)},r=function(){var t,e,r,n;return t=document.documentElement,null!=(e=null!=(r=null!=(n=t.matchesSelector)?n:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector}(),e.uuid=function(){var t,e,r;for(r=\"\",t=e=1;36>=e;t=++e)r+=9===t||14===t||19===t||24===t?\"-\":15===t?\"4\":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return r}}).call(this),function(){e.Location=function(){function t(t){var e,r;null==t&&(t=\"\"),r=document.createElement(\"a\"),r.href=t.toString(),this.absoluteURL=r.href,e=r.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=r.hash.slice(1))}var e,r,n,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split(\"/\",3).join(\"/\")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\\/\\/[^\\/]*(\\/[^?;]*)/))?e[1]:void 0)?t:\"/\"},t.prototype.getPathComponents=function(){return this.getPath().split(\"/\").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\\.[^.]*$/))?e[0]:void 0)?t:\"\"},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=r(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},r=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return n(t,\"/\")?t:t+\"/\"},o=function(t,e){return t.slice(0,e.length)===e},n=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.HttpRequest=function(){function r(r,n,o){this.delegate=r,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=e.Location.wrap(n).requestURL,this.referrer=e.Location.wrap(o).absoluteURL,this.createXHR()}return r.NETWORK_FAILURE=0,r.TIMEOUT_FAILURE=-1,r.timeout=60,r.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,\"function\"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},r.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},r.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},r.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader(\"Turbolinks-Location\")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},r.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},r.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},r.prototype.requestCanceled=function(){return this.endRequest()},r.prototype.notifyApplicationBeforeRequestStart=function(){return e.dispatch(\"turbolinks:request-start\",{data:{url:this.url,xhr:this.xhr}})},r.prototype.notifyApplicationAfterRequestEnd=function(){return e.dispatch(\"turbolinks:request-end\",{data:{url:this.url,xhr:this.xhr}})},r.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open(\"GET\",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader(\"Accept\",\"text/html, application/xhtml+xml\"),this.xhr.setRequestHeader(\"Turbolinks-Referrer\",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},r.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},r.prototype.setProgress=function(t){var e;return this.progress=t,\"function\"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},r.prototype.destroy=function(){var t;return this.setProgress(1),\"function\"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},r}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ProgressBar=function(){function e(){this.trickle=t(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var r;return r=300,e.defaultCSS=\".turbolinks-progress-bar {\\n  position: fixed;\\n  display: block;\\n  top: 0;\\n  left: 0;\\n  height: 3px;\\n  background: #0076ff;\\n  z-index: 9999;\\n  transition: width \"+r+\"ms ease-out, opacity \"+r/2+\"ms \"+r/2+\"ms ease-in;\\n  transform: translate3d(0, 0, 0);\\n}\",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},e.prototype.setValue=function(t){return this.value=t,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*r)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,r)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+\"%\"}}(this))},e.prototype.createStylesheetElement=function(){var t;return t=document.createElement(\"style\"),t.type=\"text/css\",t.textContent=this.constructor.defaultCSS,t},e.prototype.createProgressElement=function(){var t;return t=document.createElement(\"div\"),t.className=\"turbolinks-progress-bar\",t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.BrowserAdapter=function(){function r(r){this.controller=r,this.showProgressBar=t(this.showProgressBar,this),this.progressBar=new e.ProgressBar}var n,o,i;return i=e.HttpRequest,n=i.NETWORK_FAILURE,o=i.TIMEOUT_FAILURE,r.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},r.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},r.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||\"restore\"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},r.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},r.prototype.visitRequestCompleted=function(t){return t.loadResponse()},r.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case o:return this.reload();default:return t.loadResponse()}},r.prototype.visitRequestFinished=function(t){return this.hideProgressBar()},r.prototype.visitCompleted=function(t){return t.followRedirect()},r.prototype.pageInvalidated=function(){return this.reload()},r.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},r.prototype.showProgressBar=function(){return this.progressBar.show()},r.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},r.prototype.reload=function(){return window.location.reload()},r}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.History=function(){function r(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return r.prototype.start=function(){return this.started?void 0:(addEventListener(\"popstate\",this.onPopState,!1),addEventListener(\"load\",this.onPageLoad,!1),this.started=!0)},r.prototype.stop=function(){return this.started?(removeEventListener(\"popstate\",this.onPopState,!1),removeEventListener(\"load\",this.onPageLoad,!1),this.started=!1):void 0},r.prototype.push=function(t,r){return t=e.Location.wrap(t),this.update(\"push\",t,r)},r.prototype.replace=function(t,r){return t=e.Location.wrap(t),this.update(\"replace\",t,r)},r.prototype.onPopState=function(t){var r,n,o,i;return this.shouldHandlePopState()&&(i=null!=(n=t.state)?n.turbolinks:void 0)?(r=e.Location.wrap(window.location),o=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(r,o)):void 0},r.prototype.onPageLoad=function(t){return e.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},r.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},r.prototype.pageIsLoaded=function(){return this.pageLoaded||\"complete\"===document.readyState},r.prototype.update=function(t,e,r){var n;return n={turbolinks:{restorationIdentifier:r}},history[t+\"State\"](n,null,e)},r}()}.call(this),function(){e.HeadDetails=function(){function t(t){var e,r,n,s,a,u;for(this.elements={},n=0,a=t.length;a>n;n++)u=t[n],u.nodeType===Node.ELEMENT_NODE&&(s=u.outerHTML,r=null!=(e=this.elements)[s]?e[s]:e[s]={type:i(u),tracked:o(u),elements:[]},r.elements.push(u))}var e,r,n,o,i;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var r,n;r=this.elements,n=[];for(t in r)e=r[t].tracked,e&&n.push(t);return n}.call(this).join(\"\")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails(\"script\",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails(\"stylesheet\",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var r,n,o,i,s,a;o=this.elements,s=[];for(n in o)i=o[n],a=i.type,r=i.elements,a!==t||e.hasElementWithKey(n)||s.push(r[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,r,n,o,i,s;r=[],n=this.elements;for(e in n)o=n[e],s=o.type,i=o.tracked,t=o.elements,null!=s||i?t.length>1&&r.push.apply(r,t.slice(1)):r.push.apply(r,t);return r},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute(\"content\"):void 0},t.prototype.findMetaElementByName=function(t){var r,n,o,i;r=void 0,i=this.elements;for(o in i)n=i[o].elements,e(n[0],t)&&(r=n[0]);return r},i=function(t){return r(t)?\"script\":n(t)?\"stylesheet\":void 0},o=function(t){return\"reload\"===t.getAttribute(\"data-turbolinks-track\")},r=function(t){var e;return e=t.tagName.toLowerCase(),\"script\"===e},n=function(t){var e;return e=t.tagName.toLowerCase(),\"style\"===e||\"link\"===e&&\"stylesheet\"===t.getAttribute(\"rel\")},e=function(t,e){var r;return r=t.tagName.toLowerCase(),\"meta\"===r&&t.getAttribute(\"name\")===e},t}()}.call(this),function(){e.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:\"string\"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return e=document.createElement(\"html\"),e.innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var r,n,o,i;return o=t.querySelector(\"head\"),r=null!=(i=t.querySelector(\"body\"))?i:document.createElement(\"body\"),n=e.HeadDetails.fromHeadElement(o),new this(n,r)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,r;return r=null!=(t=this.getSetting(\"root\"))?t:\"/\",new e.Location(r)},t.prototype.getCacheControlValue=function(){return this.getSetting(\"cache-control\")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector(\"[id='\"+t+\"'], a[name='\"+t+\"']\")}catch(e){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll(\"[id][data-turbolinks-permanent]\")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector(\"#\"+t+\"[data-turbolinks-permanent]\")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,r,n,o,i;for(o=this.getPermanentElements(),i=[],r=0,n=o.length;n>r;r++)e=o[r],t.getPermanentElementById(e.id)&&i.push(e);return i},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector(\"[autofocus]\")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return\"no-preview\"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return\"no-cache\"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return\"reload\"!==this.getSetting(\"visit-control\")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue(\"turbolinks-\"+t)},t}()}.call(this),function(){var t=[].slice;e.Renderer=function(){function e(){}var r;return e.render=function(){var e,r,n,o;return n=arguments[0],r=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],o=function(t,e,r){r.prototype=t.prototype;var n=new r,o=t.apply(n,e);return Object(o)===o?o:n}(this,e,function(){}),o.delegate=n,o.render(r),o},e.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(t){var e;return\"false\"===t.getAttribute(\"data-turbolinks-eval\")?t:(e=document.createElement(\"script\"),e.textContent=t.textContent,e.async=!1,r(e,t),e)},r=function(t,e){var r,n,o,i,s,a,u;for(i=e.attributes,a=[],r=0,n=i.length;n>r;r++)s=i[r],o=s.name,u=s.value,a.push(t.setAttribute(o,u));return a},e}()}.call(this),function(){var t,r,n=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;e.SnapshotRenderer=function(e){function o(t,e,r){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=r,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(o,e),o.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},o.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},o.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},o.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},o.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},o.prototype.copyNewHeadStylesheetElements=function(){var t,e,r,n,o;for(n=this.getNewHeadStylesheetElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},o.prototype.copyNewHeadScriptElements=function(){var t,e,r,n,o;for(n=this.getNewHeadScriptElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},o.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,r,n,o;for(n=this.getCurrentHeadProvisionalElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.removeChild(t));return o},o.prototype.copyNewHeadProvisionalElements=function(){var t,e,r,n,o;for(n=this.getNewHeadProvisionalElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},o.prototype.relocateCurrentBodyPermanentElements=function(){var e,n,o,i,s,a,u;for(a=this.getCurrentBodyPermanentElements(),u=[],e=0,n=a.length;n>e;e++)i=a[e],s=t(i),o=this.newSnapshot.getPermanentElementById(i.id),r(i,s.element),r(o,i),u.push(s);return u},o.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,o,i,s,a,u;for(u=[],o=0,i=t.length;i>o;o++)a=t[o],n=a.element,s=a.permanentElement,e=s.cloneNode(!0),u.push(r(n,e));return u},o.prototype.activateNewBodyScriptElements=function(){var t,e,n,o,i,s;for(i=this.getNewBodyScriptElements(),s=[],e=0,o=i.length;o>e;e++)n=i[e],t=this.createScriptElement(n),s.push(r(n,t));return s},o.prototype.assignNewBody=function(){return document.body=this.newBody},o.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},o.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},o.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},o.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},o.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},o.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},o.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll(\"script\")},o}(e.Renderer),t=function(t){var e;return e=document.createElement(\"meta\"),e.setAttribute(\"name\",\"turbolinks-permanent-placeholder\"),e.setAttribute(\"content\",t.id),{element:e,permanentElement:t}},r=function(t,e){var r;return(r=t.parentNode)?r.replaceChild(e,t):void 0}}.call(this),function(){var t=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.ErrorRenderer=function(e){function r(t){var e;e=document.createElement(\"html\"),e.innerHTML=t,this.newHead=e.querySelector(\"head\"),this.newBody=e.querySelector(\"body\")}return t(r,e),r.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}}(this))},r.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},r.prototype.activateBodyScriptElements=function(){var t,e,r,n,o,i;for(n=this.getScriptElements(),i=[],e=0,r=n.length;r>e;e++)o=n[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},r.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll(\"script\")},r}(e.Renderer)}.call(this),function(){e.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return e.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var r,n,o;return o=t.snapshot,r=t.error,n=t.isPreview,this.markAsPreview(n),null!=o?this.renderSnapshot(o,n,e):this.renderError(r,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute(\"data-turbolinks-preview\",\"\"):this.htmlElement.removeAttribute(\"data-turbolinks-preview\")},t.prototype.renderSnapshot=function(t,r,n){return e.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),e.Snapshot.wrap(t),r)},t.prototype.renderError=function(t,r){return e.ErrorRenderer.render(this.delegate,r,t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ScrollManager=function(){function r(r){this.delegate=r,this.onScroll=t(this.onScroll,this),this.onScroll=e.throttle(this.onScroll)}return r.prototype.start=function(){return this.started?void 0:(addEventListener(\"scroll\",this.onScroll,!1),this.onScroll(),this.started=!0)},r.prototype.stop=function(){return this.started?(removeEventListener(\"scroll\",this.onScroll,!1),this.started=!1):void 0},r.prototype.scrollToElement=function(t){return t.scrollIntoView()},r.prototype.scrollToPosition=function(t){var e,r;return e=t.x,r=t.y,window.scrollTo(e,r)},r.prototype.onScroll=function(t){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},r.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},r}()}.call(this),function(){e.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var r;return t.prototype.has=function(t){var e;return e=r(t),e in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=r(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=r(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=r(t),e=this.keys.indexOf(n),e>-1&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,r,n,o;for(n=this.keys.splice(this.size),o=[],t=0,r=n.length;r>t;t++)e=n[t],o.push(delete this.snapshots[e]);return o},r=function(t){return e.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Visit=function(){function r(r,n,o){this.controller=r,this.action=o,this.performScroll=t(this.performScroll,this),this.identifier=e.uuid(),this.location=e.Location.wrap(n),this.adapter=this.controller.adapter,this.state=\"initialized\",this.timingMetrics={}}var n;return r.prototype.start=function(){return\"initialized\"===this.state?(this.recordTimingMetric(\"visitStart\"),this.state=\"started\",this.adapter.visitStarted(this)):void 0},r.prototype.cancel=function(){var t;return\"started\"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state=\"canceled\"):void 0},r.prototype.complete=function(){var t;return\"started\"===this.state?(this.recordTimingMetric(\"visitEnd\"),this.state=\"completed\",\"function\"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},r.prototype.fail=function(){var t;return\"started\"===this.state?(this.state=\"failed\",\"function\"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},r.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?\"replace\":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},r.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new e.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},r.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||\"restore\"!==this.action&&!t.isPreviewable()?void 0:t},r.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},r.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var r;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),\"function\"==typeof(r=this.adapter).visitRendered&&r.visitRendered(this),t?void 0:this.complete()})):void 0},r.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),\"function\"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),\"function\"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},r.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},r.prototype.requestStarted=function(){var t;return this.recordTimingMetric(\"requestStart\"),\"function\"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},r.prototype.requestProgressed=function(t){var e;return this.progress=t,\"function\"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},r.prototype.requestCompletedWithResponse=function(t,r){return this.response=t,null!=r&&(this.redirectedToLocation=e.Location.wrap(r)),this.adapter.visitRequestCompleted(this)},r.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},r.prototype.requestFinished=function(){var t;return this.recordTimingMetric(\"requestEnd\"),\"function\"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},r.prototype.performScroll=function(){return this.scrolled?void 0:(\"restore\"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},r.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},r.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},r.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},r.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},r.prototype.getTimingMetrics=function(){return e.copyObject(this.timingMetrics)},n=function(t){switch(t){case\"replace\":return\"replaceHistoryWithLocationAndRestorationIdentifier\";case\"advance\":case\"restore\":return\"pushHistoryWithLocationAndRestorationIdentifier\"}},r.prototype.shouldIssueRequest=function(){return\"restore\"===this.action?!this.hasCachedSnapshot():!0},r.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},r.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},r.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},r}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Controller=function(){function r(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new e.History(this),this.view=new e.View(this),this.scrollManager=new e.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return r.prototype.start=function(){return e.supported&&!this.started?(addEventListener(\"click\",this.clickCaptured,!0),addEventListener(\"DOMContentLoaded\",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},r.prototype.disable=function(){return this.enabled=!1},r.prototype.stop=function(){return this.started?(removeEventListener(\"click\",this.clickCaptured,!0),removeEventListener(\"DOMContentLoaded\",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},r.prototype.clearCache=function(){return this.cache=new e.SnapshotCache(10)},r.prototype.visit=function(t,r){var n,o;return null==r&&(r={}),t=e.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(o=r.action)?o:\"advance\",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},r.prototype.startVisitToLocationWithAction=function(t,r,n){var o;return e.supported?(o=this.getRestorationDataForIdentifier(n),this.startVisit(t,r,{restorationData:o})):window.location=t},r.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},r.prototype.startHistory=function(){return this.location=e.Location.wrap(window.location),this.restorationIdentifier=e.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.stopHistory=function(){return this.history.stop()},r.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,r){return this.restorationIdentifier=r,this.location=e.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},r.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,r){return this.restorationIdentifier=r,this.location=e.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,r){var n;return this.restorationIdentifier=r,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,\"restore\",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=e.Location.wrap(t)):this.adapter.pageInvalidated()},r.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},r.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable();\n},r.prototype.cacheSnapshot=function(){var t,r;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),r=this.view.getSnapshot(),t=this.lastRenderedLocation,e.defer(function(e){return function(){return e.cache.put(t,r.clone())}}(this))):void 0},r.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},r.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},r.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},r.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},r.prototype.render=function(t,e){return this.view.render(t,e)},r.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},r.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},r.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},r.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},r.prototype.clickCaptured=function(){return removeEventListener(\"click\",this.clickBubbled,!1),addEventListener(\"click\",this.clickBubbled,!1)},r.prototype.clickBubbled=function(t){var e,r,n;return this.enabled&&this.clickEventIsSignificant(t)&&(r=this.getVisitableLinkForNode(t.target))&&(n=this.getVisitableLocationForLink(r))&&this.applicationAllowsFollowingLinkToLocation(r,n)?(t.preventDefault(),e=this.getActionForLink(r),this.visit(n,{action:e})):void 0},r.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var r;return r=this.notifyApplicationAfterClickingLinkToLocation(t,e),!r.defaultPrevented},r.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},r.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,r){return e.dispatch(\"turbolinks:click\",{target:t,data:{url:r.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationBeforeVisitingLocation=function(t){return e.dispatch(\"turbolinks:before-visit\",{data:{url:t.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationAfterVisitingLocation=function(t){return e.dispatch(\"turbolinks:visit\",{data:{url:t.absoluteURL}})},r.prototype.notifyApplicationBeforeCachingSnapshot=function(){return e.dispatch(\"turbolinks:before-cache\")},r.prototype.notifyApplicationBeforeRender=function(t){return e.dispatch(\"turbolinks:before-render\",{data:{newBody:t}})},r.prototype.notifyApplicationAfterRender=function(){return e.dispatch(\"turbolinks:render\")},r.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),e.dispatch(\"turbolinks:load\",{data:{url:this.location.absoluteURL,timing:t}})},r.prototype.startVisit=function(t,e,r){var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(t,e,r),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},r.prototype.createVisit=function(t,r,n){var o,i,s,a,u;return i=null!=n?n:{},a=i.restorationIdentifier,s=i.restorationData,o=i.historyChanged,u=new e.Visit(this,t,r),u.restorationIdentifier=null!=a?a:e.uuid(),u.restorationData=e.copyObject(s),u.historyChanged=o,u.referrer=this.location,u},r.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},r.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},r.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?e.closest(t,\"a[href]:not([target]):not([download])\"):void 0},r.prototype.getVisitableLocationForLink=function(t){var r;return r=new e.Location(t.getAttribute(\"href\")),this.locationIsVisitable(r)?r:void 0},r.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute(\"data-turbolinks-action\"))?e:\"advance\"},r.prototype.nodeIsVisitable=function(t){var r;return(r=e.closest(t,\"[data-turbolinks]\"))?\"false\"!==r.getAttribute(\"data-turbolinks\"):!0},r.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},r.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},r.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},r}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute(\"data-turbolinks-suppress-warning\"))for(;t=t.parentNode;)if(t===document.body)return console.warn(\"You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\\n\\nLoad your application\\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\\n\\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\\n\\n\\u2014\\u2014\\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s\",e.outerHTML)}()}.call(this),function(){var t,r,n;e.start=function(){return r()?(null==e.controller&&(e.controller=t()),e.controller.start()):void 0},r=function(){return null==window.Turbolinks&&(window.Turbolinks=e),n()},t=function(){var t;return t=new e.Controller,t.adapter=new e.BrowserAdapter(t),t},n=function(){return window.Turbolinks===e},n()&&e.start()}.call(this)}).call(this),\"object\"==typeof module&&module.exports?module.exports=e:\"function\"==typeof define&&define.amd&&define(e)}).call(this);","/** handorgel v0.4.9, @license MIT */\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar evEmitter = createCommonjsModule(function (module) {\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : commonjsGlobal, function() {\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i];\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n});\n\n/**\n * Request animation frame polyfill method.\n *\n * @see https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n * @see https://developer.mozilla.org/de/docs/Web/API/window/requestAnimationFrame\n */\nvar rAF = function () {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n}();\n/**\n * Check if given value is undefined.\n *\n * @param   {*} value - Value to check.\n * @returns {Boolean}\n */\n\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n/**\n * Check if an object's property could be overridden.\n *\n * @source riot.js\n * @see https://github.com/riot/riot/blob/master/lib/browser/common/util/check.js\n *\n * @param   {Object} obj -\n * @param   {String} key -\n * @returns {Boolean}\n */\n\nfunction isWritable(obj, key) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, key);\n  return isUndefined(obj[key]) || descriptor && descriptor.writable;\n}\n/**\n * Extend any object with other properties.\n *\n * @source riot.js\n * @see https://github.com/riot/riot/blob/master/lib/browser/common/util/misc.js\n *\n * @param   {Object} src - Source object.\n * @returns {Object} The resulting extended object.\n *\n * @example\n * let obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\n\nfunction extend(src) {\n  var obj;\n  var args = arguments;\n\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key)) src[key] = obj[key];\n      }\n    }\n  }\n\n  return src;\n}\n\nvar ID_COUNTER = {};\nvar ARIA_ATTRIBUTES = {\n  button: {\n    'aria-controls': function ariaControls() {\n      return this.id + '-content';\n    },\n    'aria-expanded': function ariaExpanded() {\n      return this.expanded ? 'true' : 'false';\n    },\n    'aria-disabled': function ariaDisabled() {\n      return this.disabled ? 'true' : 'false';\n    }\n  },\n  content: {\n    role: function role() {\n      return 'region';\n    },\n    'aria-labelledby': function ariaLabelledby() {\n      return this.id + '-header';\n    }\n  }\n};\nvar KEYS = {\n  arrowDown: 40,\n  arrowUp: 38,\n  pageUp: 33,\n  pageDown: 34,\n  end: 35,\n  home: 36\n};\n\nvar HandorgelFold =\n/*#__PURE__*/\nfunction () {\n  function HandorgelFold(handorgel, header, content) {\n    _classCallCheck(this, HandorgelFold);\n\n    if (header.handorgelFold) {\n      return;\n    }\n\n    this.handorgel = handorgel;\n    this.header = header;\n    this.button = header.firstElementChild;\n    this.content = content;\n    this.header.handorgelFold = this;\n    this.content.handorgelFold = this;\n\n    if (!ID_COUNTER[this.handorgel.id]) {\n      ID_COUNTER[this.handorgel.id] = 0;\n    }\n\n    this.id = \"\".concat(this.handorgel.id, \"-fold\").concat(++ID_COUNTER[this.handorgel.id]);\n    this.header.setAttribute('id', this.id + '-header');\n    this.content.setAttribute('id', this.id + '-content');\n    this.focused = false;\n    this.expanded = false;\n    this.disabled = false;\n    this._listeners = {};\n\n    this._bindEvents();\n\n    this._initAria();\n\n    this._initialOpen();\n\n    this._initialFocus();\n  }\n\n  _createClass(HandorgelFold, [{\n    key: \"open\",\n    value: function open() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.expanded) {\n        return;\n      }\n\n      this.handorgel.emitEvent('fold:open', [this]);\n      this.expanded = true;\n\n      if (!this.handorgel.options.collapsible) {\n        this.disable();\n      }\n\n      this._updateAria('button', 'aria-expanded');\n\n      this.header.classList.add(this.handorgel.options.headerOpenClass);\n      this.content.classList.add(this.handorgel.options.contentOpenClass);\n      this.resize(transition);\n\n      if (!transition) {\n        this._opened();\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (!this.expanded) {\n        return;\n      }\n\n      this.handorgel.emitEvent('fold:close', [this]);\n      this.expanded = false;\n\n      if (!this.handorgel.options.collapsible) {\n        this.enable();\n      }\n\n      this._updateAria('button', 'aria-expanded');\n\n      this.header.classList.remove(this.handorgel.options.headerOpenedClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenedClass);\n      this.resize(transition);\n\n      if (!transition) {\n        this._closed();\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.disabled = true;\n\n      this._updateAria('button', 'aria-disabled');\n\n      this.header.classList.add(this.handorgel.options.headerDisabledClass);\n      this.content.classList.add(this.handorgel.options.contentDisabledClass);\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.disabled = false;\n\n      this._updateAria('button', 'aria-disabled');\n\n      this.header.classList.remove(this.handorgel.options.headerDisabledClass);\n      this.content.classList.remove(this.handorgel.options.contentDisabledClass);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.button.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.button.blur();\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.expanded) {\n        this.close(transition);\n      } else {\n        this.open(transition);\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this = this;\n\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var height = 0;\n\n      if (!transition) {\n        this.header.classList.add(this.handorgel.options.headerNoTransitionClass);\n        this.content.classList.add(this.handorgel.options.contentNoTransitionClass);\n      }\n\n      if (this.expanded) {\n        height = this.content.firstElementChild.offsetHeight;\n      }\n\n      this.content.style.height = height + 'px';\n\n      if (!transition) {\n        rAF(function () {\n          _this.header.classList.remove(_this.handorgel.options.headerNoTransitionClass);\n\n          _this.content.classList.remove(_this.handorgel.options.contentNoTransitionClass);\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindEvents();\n\n      this._cleanAria(); // clean classes\n\n\n      this.header.classList.remove(this.handorgel.options.headerOpenClass);\n      this.header.classList.remove(this.handorgel.options.headerOpenedClass);\n      this.header.classList.remove(this.handorgel.options.headerFocusClass);\n      this.header.classList.remove(this.handorgel.options.headerNoTransitionClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenedClass);\n      this.content.classList.remove(this.handorgel.options.contentFocusClass);\n      this.content.classList.remove(this.handorgel.options.contentNoTransitionClass); // hide content\n\n      this.content.style.height = '0px'; // clean reference to this instance\n\n      this.header.handorgelFold = null;\n      this.content.handorgelFold = null; // remove ids\n\n      this.header.removeAttribute('id');\n      this.content.removeAttribute('id'); // clean reference to handorgel instance\n\n      this.handorgel = null;\n    }\n  }, {\n    key: \"_opened\",\n    value: function _opened() {\n      this.header.classList.add(this.handorgel.options.headerOpenedClass);\n      this.content.classList.add(this.handorgel.options.contentOpenedClass);\n      this.handorgel.emitEvent('fold:opened', [this]);\n    }\n  }, {\n    key: \"_closed\",\n    value: function _closed() {\n      this.header.classList.remove(this.handorgel.options.headerOpenClass);\n      this.content.classList.remove(this.handorgel.options.contentOpenClass);\n      this.handorgel.emitEvent('fold:closed', [this]);\n    }\n  }, {\n    key: \"_initialOpen\",\n    value: function _initialOpen() {\n      var _this2 = this;\n\n      if (this.header.getAttribute(this.handorgel.options.initialOpenAttribute) !== null || this.content.getAttribute(this.handorgel.options.initialOpenAttribute) !== null) {\n        if (this.handorgel.options.initialOpenTransition) {\n          window.setTimeout(function () {\n            _this2.open();\n          }, this.handorgel.options.initialOpenTransitionDelay);\n        } else {\n          this.open(false);\n        }\n      }\n    }\n  }, {\n    key: \"_initialFocus\",\n    value: function _initialFocus() {\n      if (this.button.getAttribute('autofocus') === null) {\n        return;\n      } // to ensure focus styles if autofocus was applied\n      // before focus listener was added\n\n\n      this._handleFocus();\n    }\n  }, {\n    key: \"_initAria\",\n    value: function _initAria() {\n      this._updateAria('button');\n\n      this._updateAria('content');\n    }\n  }, {\n    key: \"_cleanAria\",\n    value: function _cleanAria() {\n      this._updateAria('button', null, true);\n\n      this._updateAria('content', null, true);\n    }\n  }, {\n    key: \"_updateAria\",\n    value: function _updateAria(element) {\n      var property = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var remove = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (!this.handorgel.options.ariaEnabled) {\n        return;\n      }\n\n      if (property) {\n        var newValue = ARIA_ATTRIBUTES[element][property].call(this);\n        this[element].setAttribute(property, newValue);\n      } else {\n        for (var _property in ARIA_ATTRIBUTES[element]) {\n          if (ARIA_ATTRIBUTES[element].hasOwnProperty(_property)) {\n            if (remove) {\n              this[element].removeAttribute(_property);\n            } else {\n              var _newValue = ARIA_ATTRIBUTES[element][_property].call(this);\n\n              this[element].setAttribute(_property, _newValue);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_handleContentTransitionEnd\",\n    value: function _handleContentTransitionEnd(e) {\n      if (e.target === e.currentTarget && e.propertyName === 'height') {\n        this.handorgel.resize(true);\n\n        if (this.expanded) {\n          this._opened();\n        } else {\n          this._closed();\n        }\n      }\n    }\n  }, {\n    key: \"_handleFocus\",\n    value: function _handleFocus() {\n      this.focused = true;\n      this.header.classList.add(this.handorgel.options.headerFocusClass);\n      this.content.classList.add(this.handorgel.options.contentFocusClass);\n      this.handorgel.emitEvent('fold:focus', [this]);\n    }\n  }, {\n    key: \"_handleBlur\",\n    value: function _handleBlur() {\n      this.focused = false;\n      this.header.classList.remove(this.handorgel.options.headerFocusClass);\n      this.content.classList.remove(this.handorgel.options.contentFocusClass);\n      this.handorgel.emitEvent('fold:blur', [this]);\n    }\n  }, {\n    key: \"_handleButtonClick\",\n    value: function _handleButtonClick(e) {\n      // ensure focus is on button (click is not seting focus on firefox mac)\n      this.focus();\n\n      if (this.disabled) {\n        return;\n      }\n\n      this.toggle();\n    }\n  }, {\n    key: \"_handleButtonKeydown\",\n    value: function _handleButtonKeydown(e) {\n      if (!this.handorgel.options.keyboardInteraction) {\n        return;\n      }\n\n      var action = null;\n\n      switch (e.which) {\n        case KEYS.arrowDown:\n          action = 'next';\n          break;\n\n        case KEYS.arrowUp:\n          action = 'prev';\n          break;\n\n        case KEYS.home:\n          action = 'first';\n          break;\n\n        case KEYS.end:\n          action = 'last';\n          break;\n\n        case KEYS.pageDown:\n          if (e.ctrlKey) {\n            action = 'next';\n          }\n\n          break;\n\n        case KEYS.pageUp:\n          if (e.ctrlKey) {\n            action = 'prev';\n          }\n\n          break;\n      }\n\n      if (action) {\n        e.preventDefault();\n        this.handorgel.focus(action);\n      }\n    }\n  }, {\n    key: \"_handleContentKeydown\",\n    value: function _handleContentKeydown(e) {\n      if (!this.handorgel.options.keyboardInteraction || !e.ctrlKey) {\n        return;\n      }\n\n      var action = null;\n\n      switch (e.which) {\n        case KEYS.pageDown:\n          action = 'next';\n          break;\n\n        case KEYS.pageUp:\n          action = 'prev';\n          break;\n      }\n\n      if (action) {\n        e.preventDefault();\n        this.handorgel.focus(action);\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      this._listeners = {\n        // button listeners\n        bFocus: ['focus', this.button, this._handleFocus.bind(this)],\n        bBlur: ['blur', this.button, this._handleBlur.bind(this)],\n        bClick: ['click', this.button, this._handleButtonClick.bind(this)],\n        bKeydown: ['keydown', this.button, this._handleButtonKeydown.bind(this)],\n        // content listeners\n        cKeydown: ['keydown', this.content, this._handleContentKeydown.bind(this)],\n        cTransition: ['transitionend', this.content, this._handleContentTransitionEnd.bind(this)]\n      };\n\n      for (var key in this._listeners) {\n        if (this._listeners.hasOwnProperty(key)) {\n          var listener = this._listeners[key];\n          listener[1].addEventListener(listener[0], listener[2]);\n        }\n      }\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      for (var key in this._listeners) {\n        if (this._listeners.hasOwnProperty(key)) {\n          var listener = this._listeners[key];\n          listener[1].removeEventListener(listener[0], listener[2]);\n        }\n      }\n    }\n  }]);\n\n  return HandorgelFold;\n}();\n\nvar ID_COUNTER$1 = 0;\n\nvar Handorgel =\n/*#__PURE__*/\nfunction () {\n  function Handorgel(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Handorgel);\n\n    if (element.handorgel) {\n      return;\n    }\n\n    this.element = element;\n    this.element.handorgel = this;\n    this.id = \"handorgel\".concat(++ID_COUNTER$1);\n    this.element.setAttribute('id', this.id);\n    this.folds = [];\n    this.options = extend({}, Handorgel.defaultOptions, options);\n    this._listeners = {};\n    this._resizing = false;\n\n    this._bindEvents();\n\n    this._initAria();\n\n    this.update();\n  }\n\n  _createClass(Handorgel, [{\n    key: \"update\",\n    value: function update() {\n      this.folds = [];\n      var children = this.element.children;\n\n      for (var i = 0, childrenLength = children.length; i < childrenLength; i = i + 2) {\n        var header = children[i];\n        var content = children[i + 1]; // get fold instance if there is already one\n\n        var fold = header.handorgelFold; // create new one when header and content exist\n\n        if (!fold && header && content) {\n          fold = new HandorgelFold(this, header, content);\n        }\n\n        if (fold) {\n          this.folds.push(fold);\n        }\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      // resize each fold\n      this.folds.forEach(function (fold) {\n        fold.resize(transition);\n      });\n      this._resizing = false;\n    }\n  }, {\n    key: \"focus\",\n    value: function focus(target) {\n      var foldsLength = this.folds.length;\n      var currentFocusedIndex = null;\n\n      for (var i = 0; i < foldsLength && currentFocusedIndex === null; i++) {\n        if (this.folds[i].focused) currentFocusedIndex = i;\n      }\n\n      if ((target === 'prev' || target === 'next') && currentFocusedIndex === null) {\n        target = target === 'prev' ? 'last' : 'first';\n      }\n\n      if (target === 'prev' && currentFocusedIndex === 0) {\n        if (!this.options.carouselFocus) return;\n        target = 'last';\n      }\n\n      if (target === 'next' && currentFocusedIndex === foldsLength - 1) {\n        if (!this.options.carouselFocus) return;\n        target = 'first';\n      }\n\n      switch (target) {\n        case 'prev':\n          this.folds[--currentFocusedIndex].focus();\n          break;\n\n        case 'next':\n          this.folds[++currentFocusedIndex].focus();\n          break;\n\n        case 'last':\n          this.folds[foldsLength - 1].focus();\n          break;\n\n        case 'first':\n        default:\n          this.folds[0].focus();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.emitEvent('destroy');\n      this.element.removeAttribute('id');\n      this.folds.forEach(function (fold) {\n        fold.destroy();\n      });\n\n      this._unbindEvents();\n\n      this._cleanAria(); // clean reference to handorgel instance\n\n\n      this.element.handorgel = null;\n      this.emitEvent('destroyed');\n    }\n  }, {\n    key: \"_handleFoldOpen\",\n    value: function _handleFoldOpen(openFold) {\n      if (this.options.multiSelectable) {\n        return;\n      }\n\n      this.folds.forEach(function (fold) {\n        if (openFold !== fold) {\n          fold.close();\n        }\n      });\n    }\n  }, {\n    key: \"_handleResize\",\n    value: function _handleResize() {\n      var _this = this;\n\n      if (!this._resizing) {\n        this._resizing = true;\n        rAF(function () {\n          _this.resize();\n        });\n      }\n    }\n  }, {\n    key: \"_initAria\",\n    value: function _initAria() {\n      if (!this.options.ariaEnabled) {\n        return;\n      }\n\n      if (this.options.multiSelectable) {\n        this.element.setAttribute('aria-multiselectable', 'true');\n      }\n    }\n  }, {\n    key: \"_cleanAria\",\n    value: function _cleanAria() {\n      this.element.removeAttribute('aria-multiselectable');\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      this._listeners.resize = this._handleResize.bind(this);\n      window.addEventListener('resize', this._listeners.resize);\n      this._listeners.foldOpen = this._handleFoldOpen.bind(this);\n      this.on('fold:open', this._listeners.foldOpen);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      window.removeEventListener('resize', this._listeners.resize);\n      this.off('fold:open', this._listeners.foldOpen);\n    }\n  }]);\n\n  return Handorgel;\n}(); // extend the prototype manually to fix IE10\nextend(Handorgel.prototype, evEmitter.prototype);\nHandorgel.defaultOptions = {\n  keyboardInteraction: true,\n  multiSelectable: true,\n  ariaEnabled: true,\n  collapsible: true,\n  carouselFocus: true,\n  initialOpenAttribute: 'data-open',\n  initialOpenTransition: true,\n  initialOpenTransitionDelay: 200,\n  headerOpenClass: 'handorgel__header--open',\n  contentOpenClass: 'handorgel__content--open',\n  headerOpenedClass: 'handorgel__header--opened',\n  contentOpenedClass: 'handorgel__content--opened',\n  headerDisabledClass: 'handorgel__header--disabled',\n  contentDisabledClass: 'handorgel__content--disabled',\n  headerFocusClass: 'handorgel__header--focus',\n  contentFocusClass: 'handorgel__content--focus',\n  headerNoTransitionClass: 'handorgel__header--notransition',\n  contentNoTransitionClass: 'handorgel__content--notransition'\n};\n\nexport default Handorgel;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./loader\"));\n//# sourceMappingURL=index.js.map","/*!\n * Flickity v2.2.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2019 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      './drag',\n      './prev-next-button',\n      './page-dots',\n      './player',\n      './add-remove-cell',\n      './lazyload'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('./flickity'),\n      require('./drag'),\n      require('./prev-next-button'),\n      require('./page-dots'),\n      require('./player'),\n      require('./add-remove-cell'),\n      require('./lazyload')\n    );\n  }\n\n})( window, function factory( Flickity ) {\n  /*jshint strict: false*/\n  return Flickity;\n});\n","/*!\n * Isotope v3.0.6\n *\n * Licensed GPLv3 for open source use\n * or Isotope Commercial License for commercial use\n *\n * https://isotope.metafizzy.co\n * Copyright 2010-2018 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size',\n        'desandro-matches-selector/matches-selector',\n        'fizzy-ui-utils/utils',\n        './item',\n        './layout-mode',\n        // include default layout modes\n        './layout-modes/masonry',\n        './layout-modes/fit-rows',\n        './layout-modes/vertical'\n      ],\n      function( Outlayer, getSize, matchesSelector, utils, Item, LayoutMode ) {\n        return factory( window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode );\n      });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('outlayer'),\n      require('get-size'),\n      require('desandro-matches-selector'),\n      require('fizzy-ui-utils'),\n      require('./item'),\n      require('./layout-mode'),\n      // include default layout modes\n      require('./layout-modes/masonry'),\n      require('./layout-modes/fit-rows'),\n      require('./layout-modes/vertical')\n    );\n  } else {\n    // browser global\n    window.Isotope = factory(\n      window,\n      window.Outlayer,\n      window.getSize,\n      window.matchesSelector,\n      window.fizzyUIUtils,\n      window.Isotope.Item,\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( window, Outlayer, getSize, matchesSelector, utils,\n  Item, LayoutMode ) {\n\n'use strict';\n\n// -------------------------- vars -------------------------- //\n\nvar jQuery = window.jQuery;\n\n// -------------------------- helpers -------------------------- //\n\nvar trim = String.prototype.trim ?\n  function( str ) {\n    return str.trim();\n  } :\n  function( str ) {\n    return str.replace( /^\\s+|\\s+$/g, '' );\n  };\n\n// -------------------------- isotopeDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Isotope = Outlayer.create( 'isotope', {\n    layoutMode: 'masonry',\n    isJQueryFiltering: true,\n    sortAscending: true\n  });\n\n  Isotope.Item = Item;\n  Isotope.LayoutMode = LayoutMode;\n\n  var proto = Isotope.prototype;\n\n  proto._create = function() {\n    this.itemGUID = 0;\n    // functions that sort items\n    this._sorters = {};\n    this._getSorters();\n    // call super\n    Outlayer.prototype._create.call( this );\n\n    // create layout modes\n    this.modes = {};\n    // start filteredItems with all items\n    this.filteredItems = this.items;\n    // keep of track of sortBys\n    this.sortHistory = [ 'original-order' ];\n    // create from registered layout modes\n    for ( var name in LayoutMode.modes ) {\n      this._initLayoutMode( name );\n    }\n  };\n\n  proto.reloadItems = function() {\n    // reset item ID counter\n    this.itemGUID = 0;\n    // call super\n    Outlayer.prototype.reloadItems.call( this );\n  };\n\n  proto._itemize = function() {\n    var items = Outlayer.prototype._itemize.apply( this, arguments );\n    // assign ID for original-order\n    for ( var i=0; i < items.length; i++ ) {\n      var item = items[i];\n      item.id = this.itemGUID++;\n    }\n    this._updateItemsSortData( items );\n    return items;\n  };\n\n\n  // -------------------------- layout -------------------------- //\n\n  proto._initLayoutMode = function( name ) {\n    var Mode = LayoutMode.modes[ name ];\n    // set mode options\n    // HACK extend initial options, back-fill in default options\n    var initialOpts = this.options[ name ] || {};\n    this.options[ name ] = Mode.options ?\n      utils.extend( Mode.options, initialOpts ) : initialOpts;\n    // init layout mode instance\n    this.modes[ name ] = new Mode( this );\n  };\n\n\n  proto.layout = function() {\n    // if first time doing layout, do all magic\n    if ( !this._isLayoutInited && this._getOption('initLayout') ) {\n      this.arrange();\n      return;\n    }\n    this._layout();\n  };\n\n  // private method to be used in layout() & magic()\n  proto._layout = function() {\n    // don't animate first layout\n    var isInstant = this._getIsInstant();\n    // layout flow\n    this._resetLayout();\n    this._manageStamps();\n    this.layoutItems( this.filteredItems, isInstant );\n\n    // flag for initalized\n    this._isLayoutInited = true;\n  };\n\n  // filter + sort + layout\n  proto.arrange = function( opts ) {\n    // set any options pass\n    this.option( opts );\n    this._getIsInstant();\n    // filter, sort, and layout\n\n    // filter\n    var filtered = this._filter( this.items );\n    this.filteredItems = filtered.matches;\n\n    this._bindArrangeComplete();\n\n    if ( this._isInstant ) {\n      this._noTransition( this._hideReveal, [ filtered ] );\n    } else {\n      this._hideReveal( filtered );\n    }\n\n    this._sort();\n    this._layout();\n  };\n  // alias to _init for main plugin method\n  proto._init = proto.arrange;\n\n  proto._hideReveal = function( filtered ) {\n    this.reveal( filtered.needReveal );\n    this.hide( filtered.needHide );\n  };\n\n  // HACK\n  // Don't animate/transition first layout\n  // Or don't animate/transition other layouts\n  proto._getIsInstant = function() {\n    var isLayoutInstant = this._getOption('layoutInstant');\n    var isInstant = isLayoutInstant !== undefined ? isLayoutInstant :\n      !this._isLayoutInited;\n    this._isInstant = isInstant;\n    return isInstant;\n  };\n\n  // listen for layoutComplete, hideComplete and revealComplete\n  // to trigger arrangeComplete\n  proto._bindArrangeComplete = function() {\n    // listen for 3 events to trigger arrangeComplete\n    var isLayoutComplete, isHideComplete, isRevealComplete;\n    var _this = this;\n    function arrangeParallelCallback() {\n      if ( isLayoutComplete && isHideComplete && isRevealComplete ) {\n        _this.dispatchEvent( 'arrangeComplete', null, [ _this.filteredItems ] );\n      }\n    }\n    this.once( 'layoutComplete', function() {\n      isLayoutComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once( 'hideComplete', function() {\n      isHideComplete = true;\n      arrangeParallelCallback();\n    });\n    this.once( 'revealComplete', function() {\n      isRevealComplete = true;\n      arrangeParallelCallback();\n    });\n  };\n\n  // -------------------------- filter -------------------------- //\n\n  proto._filter = function( items ) {\n    var filter = this.options.filter;\n    filter = filter || '*';\n    var matches = [];\n    var hiddenMatched = [];\n    var visibleUnmatched = [];\n\n    var test = this._getFilterTest( filter );\n\n    // test each item\n    for ( var i=0; i < items.length; i++ ) {\n      var item = items[i];\n      if ( item.isIgnored ) {\n        continue;\n      }\n      // add item to either matched or unmatched group\n      var isMatched = test( item );\n      // item.isFilterMatched = isMatched;\n      // add to matches if its a match\n      if ( isMatched ) {\n        matches.push( item );\n      }\n      // add to additional group if item needs to be hidden or revealed\n      if ( isMatched && item.isHidden ) {\n        hiddenMatched.push( item );\n      } else if ( !isMatched && !item.isHidden ) {\n        visibleUnmatched.push( item );\n      }\n    }\n\n    // return collections of items to be manipulated\n    return {\n      matches: matches,\n      needReveal: hiddenMatched,\n      needHide: visibleUnmatched\n    };\n  };\n\n  // get a jQuery, function, or a matchesSelector test given the filter\n  proto._getFilterTest = function( filter ) {\n    if ( jQuery && this.options.isJQueryFiltering ) {\n      // use jQuery\n      return function( item ) {\n        return jQuery( item.element ).is( filter );\n      };\n    }\n    if ( typeof filter == 'function' ) {\n      // use filter as function\n      return function( item ) {\n        return filter( item.element );\n      };\n    }\n    // default, use filter as selector string\n    return function( item ) {\n      return matchesSelector( item.element, filter );\n    };\n  };\n\n  // -------------------------- sorting -------------------------- //\n\n  /**\n   * @params {Array} elems\n   * @public\n   */\n  proto.updateSortData = function( elems ) {\n    // get items\n    var items;\n    if ( elems ) {\n      elems = utils.makeArray( elems );\n      items = this.getItems( elems );\n    } else {\n      // update all items if no elems provided\n      items = this.items;\n    }\n\n    this._getSorters();\n    this._updateItemsSortData( items );\n  };\n\n  proto._getSorters = function() {\n    var getSortData = this.options.getSortData;\n    for ( var key in getSortData ) {\n      var sorter = getSortData[ key ];\n      this._sorters[ key ] = mungeSorter( sorter );\n    }\n  };\n\n  /**\n   * @params {Array} items - of Isotope.Items\n   * @private\n   */\n  proto._updateItemsSortData = function( items ) {\n    // do not update if no items\n    var len = items && items.length;\n\n    for ( var i=0; len && i < len; i++ ) {\n      var item = items[i];\n      item.updateSortData();\n    }\n  };\n\n  // ----- munge sorter ----- //\n\n  // encapsulate this, as we just need mungeSorter\n  // other functions in here are just for munging\n  var mungeSorter = ( function() {\n    // add a magic layer to sorters for convienent shorthands\n    // `.foo-bar` will use the text of .foo-bar querySelector\n    // `[foo-bar]` will use attribute\n    // you can also add parser\n    // `.foo-bar parseInt` will parse that as a number\n    function mungeSorter( sorter ) {\n      // if not a string, return function or whatever it is\n      if ( typeof sorter != 'string' ) {\n        return sorter;\n      }\n      // parse the sorter string\n      var args = trim( sorter ).split(' ');\n      var query = args[0];\n      // check if query looks like [an-attribute]\n      var attrMatch = query.match( /^\\[(.+)\\]$/ );\n      var attr = attrMatch && attrMatch[1];\n      var getValue = getValueGetter( attr, query );\n      // use second argument as a parser\n      var parser = Isotope.sortDataParsers[ args[1] ];\n      // parse the value, if there was a parser\n      sorter = parser ? function( elem ) {\n        return elem && parser( getValue( elem ) );\n      } :\n      // otherwise just return value\n      function( elem ) {\n        return elem && getValue( elem );\n      };\n\n      return sorter;\n    }\n\n    // get an attribute getter, or get text of the querySelector\n    function getValueGetter( attr, query ) {\n      // if query looks like [foo-bar], get attribute\n      if ( attr ) {\n        return function getAttribute( elem ) {\n          return elem.getAttribute( attr );\n        };\n      }\n\n      // otherwise, assume its a querySelector, and get its text\n      return function getChildText( elem ) {\n        var child = elem.querySelector( query );\n        return child && child.textContent;\n      };\n    }\n\n    return mungeSorter;\n  })();\n\n  // parsers used in getSortData shortcut strings\n  Isotope.sortDataParsers = {\n    'parseInt': function( val ) {\n      return parseInt( val, 10 );\n    },\n    'parseFloat': function( val ) {\n      return parseFloat( val );\n    }\n  };\n\n  // ----- sort method ----- //\n\n  // sort filteredItem order\n  proto._sort = function() {\n    if ( !this.options.sortBy ) {\n      return;\n    }\n    // keep track of sortBy History\n    var sortBys = utils.makeArray( this.options.sortBy );\n    if ( !this._getIsSameSortBy( sortBys ) ) {\n      // concat all sortBy and sortHistory, add to front, oldest goes in last\n      this.sortHistory = sortBys.concat( this.sortHistory );\n    }\n    // sort magic\n    var itemSorter = getItemSorter( this.sortHistory, this.options.sortAscending );\n    this.filteredItems.sort( itemSorter );\n  };\n\n  // check if sortBys is same as start of sortHistory\n  proto._getIsSameSortBy = function( sortBys ) {\n    for ( var i=0; i < sortBys.length; i++ ) {\n      if ( sortBys[i] != this.sortHistory[i] ) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  // returns a function used for sorting\n  function getItemSorter( sortBys, sortAsc ) {\n    return function sorter( itemA, itemB ) {\n      // cycle through all sortKeys\n      for ( var i = 0; i < sortBys.length; i++ ) {\n        var sortBy = sortBys[i];\n        var a = itemA.sortData[ sortBy ];\n        var b = itemB.sortData[ sortBy ];\n        if ( a > b || a < b ) {\n          // if sortAsc is an object, use the value given the sortBy key\n          var isAscending = sortAsc[ sortBy ] !== undefined ? sortAsc[ sortBy ] : sortAsc;\n          var direction = isAscending ? 1 : -1;\n          return ( a > b ? 1 : -1 ) * direction;\n        }\n      }\n      return 0;\n    };\n  }\n\n  // -------------------------- methods -------------------------- //\n\n  // get layout mode\n  proto._mode = function() {\n    var layoutMode = this.options.layoutMode;\n    var mode = this.modes[ layoutMode ];\n    if ( !mode ) {\n      // TODO console.error\n      throw new Error( 'No layout mode: ' + layoutMode );\n    }\n    // HACK sync mode's options\n    // any options set after init for layout mode need to be synced\n    mode.options = this.options[ layoutMode ];\n    return mode;\n  };\n\n  proto._resetLayout = function() {\n    // trigger original reset layout\n    Outlayer.prototype._resetLayout.call( this );\n    this._mode()._resetLayout();\n  };\n\n  proto._getItemLayoutPosition = function( item  ) {\n    return this._mode()._getItemLayoutPosition( item );\n  };\n\n  proto._manageStamp = function( stamp ) {\n    this._mode()._manageStamp( stamp );\n  };\n\n  proto._getContainerSize = function() {\n    return this._mode()._getContainerSize();\n  };\n\n  proto.needsResizeLayout = function() {\n    return this._mode().needsResizeLayout();\n  };\n\n  // -------------------------- adding & removing -------------------------- //\n\n  // HEADS UP overwrites default Outlayer appended\n  proto.appended = function( elems ) {\n    var items = this.addItems( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // filter, layout, reveal new items\n    var filteredItems = this._filterRevealAdded( items );\n    // add to filteredItems\n    this.filteredItems = this.filteredItems.concat( filteredItems );\n  };\n\n  // HEADS UP overwrites default Outlayer prepended\n  proto.prepended = function( elems ) {\n    var items = this._itemize( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // start new layout\n    this._resetLayout();\n    this._manageStamps();\n    // filter, layout, reveal new items\n    var filteredItems = this._filterRevealAdded( items );\n    // layout previous items\n    this.layoutItems( this.filteredItems );\n    // add to items and filteredItems\n    this.filteredItems = filteredItems.concat( this.filteredItems );\n    this.items = items.concat( this.items );\n  };\n\n  proto._filterRevealAdded = function( items ) {\n    var filtered = this._filter( items );\n    this.hide( filtered.needHide );\n    // reveal all new items\n    this.reveal( filtered.matches );\n    // layout new items, no transition\n    this.layoutItems( filtered.matches, true );\n    return filtered.matches;\n  };\n\n  /**\n   * Filter, sort, and layout newly-appended item elements\n   * @param {Array or NodeList or Element} elems\n   */\n  proto.insert = function( elems ) {\n    var items = this.addItems( elems );\n    if ( !items.length ) {\n      return;\n    }\n    // append item elements\n    var i, item;\n    var len = items.length;\n    for ( i=0; i < len; i++ ) {\n      item = items[i];\n      this.element.appendChild( item.element );\n    }\n    // filter new stuff\n    var filteredInsertItems = this._filter( items ).matches;\n    // set flag\n    for ( i=0; i < len; i++ ) {\n      items[i].isLayoutInstant = true;\n    }\n    this.arrange();\n    // reset flag\n    for ( i=0; i < len; i++ ) {\n      delete items[i].isLayoutInstant;\n    }\n    this.reveal( filteredInsertItems );\n  };\n\n  var _remove = proto.remove;\n  proto.remove = function( elems ) {\n    elems = utils.makeArray( elems );\n    var removeItems = this.getItems( elems );\n    // do regular thing\n    _remove.call( this, elems );\n    // bail if no items to remove\n    var len = removeItems && removeItems.length;\n    // remove elems from filteredItems\n    for ( var i=0; len && i < len; i++ ) {\n      var item = removeItems[i];\n      // remove item from collection\n      utils.removeFrom( this.filteredItems, item );\n    }\n  };\n\n  proto.shuffle = function() {\n    // update random sortData\n    for ( var i=0; i < this.items.length; i++ ) {\n      var item = this.items[i];\n      item.sortData.random = Math.random();\n    }\n    this.options.sortBy = 'random';\n    this._sort();\n    this._layout();\n  };\n\n  /**\n   * trigger fn without transition\n   * kind of hacky to have this in the first place\n   * @param {Function} fn\n   * @param {Array} args\n   * @returns ret\n   * @private\n   */\n  proto._noTransition = function( fn, args ) {\n    // save transitionDuration before disabling\n    var transitionDuration = this.options.transitionDuration;\n    // disable transition\n    this.options.transitionDuration = 0;\n    // do it\n    var returnValue = fn.apply( this, args );\n    // re-enable transition for reveal\n    this.options.transitionDuration = transitionDuration;\n    return returnValue;\n  };\n\n  // ----- helper methods ----- //\n\n  /**\n   * getter method for getting filtered item elements\n   * @returns {Array} elems - collection of item elements\n   */\n  proto.getFilteredItemElements = function() {\n    return this.filteredItems.map( function( item ) {\n      return item.element;\n    });\n  };\n\n  // -----  ----- //\n\n  return Isotope;\n\n}));\n","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document, Date);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(typeof window != 'undefined' ?\n      window : {}, function l(window, document, Date) { // Pass in the windoe Date function also for SSR because the Date class can be lost\n\t'use strict';\n\t/*jshint eqnull:true */\n\n\tvar lazysizes, lazySizesCfg;\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesCfg)){\n\t\t\t\tlazySizesCfg[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tif (!document || !document.getElementsByClassName) {\n\t\treturn {\n\t\t\tinit: function () {},\n\t\t\tcfg: lazySizesCfg,\n\t\t\tnoSupport: true,\n\t\t};\n\t}\n\n\tvar docElem = document.documentElement;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\t/**\n\t * Update to bind to window because 'this' becomes null during SSR\n\t * builds.\n\t */\n\tvar addEventListener = window[_addEventListener].bind(window);\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesCfg.throttleDelay;\n\t\tvar rICTimeout = lazySizesCfg.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesCfg.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesCfg.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isVisible = function (elem) {\n\t\t\tif (isBodyHidden == null) {\n\t\t\t\tisBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n\t\t\t}\n\n\t\t\treturn isBodyHidden || !(getCSS(elem.parentNode, 'visibility') == 'hidden' && getCSS(elem, 'visibility') == 'hidden');\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = isVisible(elem);\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!defaultExpand) {\n\t\t\t\t\t\tdefaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?\n\t\t\t\t\t\t\tdocElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :\n\t\t\t\t\t\t\tlazySizesCfg.expand;\n\n\t\t\t\t\t\tlazysizes._defEx = defaultExpand;\n\n\t\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesCfg.expFactor;\n\t\t\t\t\t\thFac = lazySizesCfg.hFac;\n\t\t\t\t\t\tisBodyHidden = null;\n\n\t\t\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\t\t\tlowRuns = 0;\n\t\t\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\tvar elem = e.target;\n\n\t\t\tif (elem._lazyCache) {\n\t\t\t\tdelete elem._lazyCache;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresetPreloading(e);\n\t\t\taddClass(elem, lazySizesCfg.loadedClass);\n\t\t\tremoveClass(elem, lazySizesCfg.loadingClass);\n\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(elem, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\taddClass(elem, lazySizesCfg.loadingClass);\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesCfg.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\t// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n\t\t\t\tvar isLoaded = elem.complete && elem.naturalWidth > 1;\n\n\t\t\t\tif( !firesLoad || isLoaded){\n\t\t\t\t\tif (isLoaded) {\n\t\t\t\t\t\taddClass(elem, 'ls-is-cached');\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t\telem._lazyCache = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tif ('_lazyCache' in elem) {\n\t\t\t\t\t\t\tdelete elem._lazyCache;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9);\n\t\t\t\t}\n\t\t\t\tif (elem.loading == 'lazy') {\n\t\t\t\t\tisLoading--;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tif (elem._lazyRace) {return;}\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar afterScroll = debounce(function(){\n\t\t\tlazySizesCfg.loadMode = 3;\n\t\t\tthrottledCheckElements();\n\t\t});\n\n\t\tvar altLoadmodeScrollListner = function(){\n\t\t\tif(lazySizesCfg.loadMode == 3){\n\t\t\t\tlazySizesCfg.loadMode = 2;\n\t\t\t}\n\t\t\tafterScroll();\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesCfg.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', altLoadmodeScrollListner, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('pageshow', function (e) {\n\t\t\t\t\tif (e.persisted) {\n\t\t\t\t\t\tvar loadingElements = document.querySelectorAll('.' + lazySizesCfg.loadingClass);\n\n\t\t\t\t\t\tif (loadingElements.length && loadingElements.forEach) {\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tloadingElements.forEach( function (img) {\n\t\t\t\t\t\t\t\t\tif (img.complete) {\n\t\t\t\t\t\t\t\t\t\tunveilElement(img);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement,\n\t\t\t_aLSL: altLoadmodeScrollListner,\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i && document.getElementsByClassName){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tsetTimeout(function(){\n\t\tif(lazySizesCfg.init){\n\t\t\tinit();\n\t\t}\n\t});\n\n\tlazysizes = {\n\t\tcfg: lazySizesCfg,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = false;\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar nativeFunctionToString = require('../internals/function-to-string');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(nativeFunctionToString.call(WeakMap));\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","module.exports = require('../internals/global');\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol() == 'symbol';\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || SLOPPY_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","'use strict';\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  }\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","var map = {\n\t\"./carousel_controller.js\": 96,\n\t\"./faq_controller.js\": 97,\n\t\"./map_controller.js\": 100,\n\t\"./menu_controller.js\": 104,\n\t\"./newsSlider_controller.js\": 105,\n\t\"./programmeGrid_controller.js\": 116\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 95;","import { Controller } from 'stimulus'\nimport handorgel from 'handorgel'\n\nexport default class extends Controller {\n  static targets = [ 'content' ]  \n\n  connect () {\n      console.log('error')\n      this.accordion = new handorgel(this.element, {\n        multiSelectable: true,\n        collapsible: true,   \n        ariaEnabled: true,\n        keyboardInteraction: true,\n        carouselFocus: true,\n        initialOpenAttribute: 'data-open',\n        initialOpenTransition: true,\n        initialOpenTransitionDelay: 200,\n        headerOpenClass: 'handorgel__header--open',\n        contentOpenClass: 'handorgel__content--open',\n        headerOpenedClass: 'handorgel__header--opened',\n        contentOpenedClass: 'handorgel__content--opened',\n        headerFocusClass: 'handorgel__header--focus',\n        contentFocusClass: 'handorgel__content--focus',\n        headerDisabledClass: 'handorgel__header--disabled',\n        contentDisabledClass: 'handorgel__content--disabled',\n        headerNoTransitionClass: 'handorgel__header--notransition',\n        contentNoTransitionClass: 'handorgel__content--notransition'      \n    })\n  }\n\n  disconnect() {\n    this.accordion.destroy()\n  }\n\n}\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","import { Controller } from 'stimulus'\nimport { Loader } from 'google-maps'\n\nexport default class extends Controller {\n  static targets = []\n  \n  initialize() {\n    if (typeof google === 'object' && typeof google.maps === 'object') {\n        console.log('Loaded')\n        this.initMap()\n    } else {\n        const key = 'AIzaSyAAQjKP3LggEnQ5GefQii-Zrv05SIVtlG8'\n        let loader = new Loader(key)\n        loader.load()\n        .then((google) => {\n            this.initMap('')\n        })\n    }\n  }\n\n  connect () {\n\n  }\n\n  initMap() {\n        const el = document.querySelector('.map')\n        console.log(el)\n        const locations = document.querySelectorAll('.visit-locations-location')\n        const mapOptions = {\n            zoom: 14,\n            center: new google.maps.LatLng(52.368346, 4.8933812),\n            mapTypeId: google.maps.MapTypeId.ROADMAP,\n            streetViewControl: false,\n            mapTypeControl: false\n        }\n\n        const map = new google.maps.Map(el, mapOptions)\n        locations.forEach((location) => {\n            const lat = location.querySelector('.visit-location-lat').innerHTML\n            const long = location.querySelector('.visit-location-long').innerHTML\n            const label = location.querySelector('.visit-location-label').innerHTML\n            let marker = new google.maps.Marker({\n                position: new google.maps.LatLng(parseFloat(lat), parseFloat(long)),\n                map: map,\n                label: label,\n                title: ''\n            })\n        })\n    }\n}\n\n// GoogleMapsLoader.load(function(google) {\n// \tnew google.maps.Map(el, options);\n// });","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Loader = /** @class */ (function () {\n    function Loader(apiKey, options) {\n        if (apiKey === void 0) { apiKey = null; }\n        if (options === void 0) { options = {}; }\n        this.apiKey = apiKey;\n        this.options = options;\n        if (typeof window === 'undefined') {\n            throw new Error('google-maps is supported only in browser environment');\n        }\n    }\n    Loader.prototype.load = function () {\n        var _this = this;\n        if (typeof this.api !== 'undefined') {\n            return Promise.resolve(this.api);\n        }\n        if (typeof this.loader !== 'undefined') {\n            return this.loader;\n        }\n        window[Loader.CALLBACK_NAME] = function () {\n            _this.api = window['google'];\n            if (typeof _this.resolve === 'undefined') {\n                throw new Error('Should not happen');\n            }\n            _this.resolve(_this.api);\n        };\n        window['gm_authFailure'] = function () {\n            if (typeof _this.reject === 'undefined') {\n                throw new Error('Should not happen');\n            }\n            _this.reject(new Error('google-maps: authentication error'));\n        };\n        return this.loader = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n            var script = document.createElement('script');\n            script.src = _this.createUrl();\n            script.async = true;\n            script.onerror = function (e) { return reject(e); };\n            document.head.appendChild(script);\n        });\n    };\n    Loader.prototype.createUrl = function () {\n        var parameters = [\n            \"callback=\" + Loader.CALLBACK_NAME,\n        ];\n        if (this.apiKey) {\n            parameters.push(\"key=\" + this.apiKey);\n        }\n        for (var name_1 in this.options) {\n            if (this.options.hasOwnProperty(name_1)) {\n                var value = this.options[name_1];\n                if (name_1 === 'version') {\n                    name_1 = 'v';\n                }\n                if (name_1 === 'libraries') {\n                    value = value.join(',');\n                }\n                parameters.push(name_1 + \"=\" + value);\n            }\n        }\n        return \"//maps.googleapis.com/maps/api/js?\" + parameters.join('&');\n    };\n    Loader.CALLBACK_NAME = '_dk_google_maps_loader_cb';\n    return Loader;\n}());\nexports.Loader = Loader;\n//# sourceMappingURL=loader.js.map","import { Controller } from 'stimulus'\n\nexport default class extends Controller {\n  static targets = [ 'content' ]  \n\n  connect () {\n  }\n\n  clickHandlerOpen () {\n    console.log('Menu open')\n    this.contentTarget.classList.remove('js-menu-hiden')\n    document.body.classList.toggle('js-body-noscroll')\n  }\n\n  clickHandlerClose () {\n    console.log('Menu close')\n    this.contentTarget.classList.add('js-menu-hiden')\n    document.body.classList.toggle('js-body-noscroll')\n  }\n}\n","import { Controller } from 'stimulus'\nimport Flickity from 'flickity'\n\nexport default class extends Controller {\n    static targets = ['carousel']  \n\n    initialize() {\n      this.flkty = new Flickity( this.carouselTarget, {\n        cellAlign: 'left',\n        contain: true,\n        groupCells: true,\n        pageDots: true,\n        wrapAround: true,\n        prevNextButtons: false,\n        autoPlay: 5000,\n        selectedAttraction: 0.0045,\n        friction: 0.1 \n      })\n    }\n\n    connect () {\n    }\n\n    disconnect () {\n      this.flkty.destroy()\n    }\n\n  }","// Flickity.Cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'get-size/get-size'\n    ], function( getSize ) {\n      return factory( window, getSize );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(\n      window,\n      window.getSize\n    );\n  }\n\n}( window, function factory( window, getSize ) {\n\n'use strict';\n\nfunction Cell( elem, parent ) {\n  this.element = elem;\n  this.parent = parent;\n\n  this.create();\n}\n\nvar proto = Cell.prototype;\n\nproto.create = function() {\n  this.element.style.position = 'absolute';\n  this.element.setAttribute( 'aria-hidden', 'true' );\n  this.x = 0;\n  this.shift = 0;\n};\n\nproto.destroy = function() {\n  // reset style\n  this.unselect();\n  this.element.style.position = '';\n  var side = this.parent.originSide;\n  this.element.style[ side ] = '';\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\nproto.setPosition = function( x ) {\n  this.x = x;\n  this.updateTarget();\n  this.renderPosition( x );\n};\n\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\nproto.updateTarget = proto.setDefaultTarget = function() {\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n  this.target = this.x + this.size[ marginProperty ] +\n    this.size.width * this.parent.cellAlign;\n};\n\nproto.renderPosition = function( x ) {\n  // render position of cell with in slider\n  var side = this.parent.originSide;\n  this.element.style[ side ] = this.parent.getPositionValue( x );\n};\n\nproto.select = function() {\n  this.element.classList.add('is-selected');\n  this.element.removeAttribute('aria-hidden');\n};\n\nproto.unselect = function() {\n  this.element.classList.remove('is-selected');\n  this.element.setAttribute( 'aria-hidden', 'true' );\n};\n\n/**\n * @param {Integer} factor - 0, 1, or -1\n**/\nproto.wrapShift = function( shift ) {\n  this.shift = shift;\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\n};\n\nproto.remove = function() {\n  this.element.parentNode.removeChild( this.element );\n};\n\nreturn Cell;\n\n}));\n","// slide\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n\n}( window, function factory() {\n'use strict';\n\nfunction Slide( parent ) {\n  this.parent = parent;\n  this.isOriginLeft = parent.originSide == 'left';\n  this.cells = [];\n  this.outerWidth = 0;\n  this.height = 0;\n}\n\nvar proto = Slide.prototype;\n\nproto.addCell = function( cell ) {\n  this.cells.push( cell );\n  this.outerWidth += cell.size.outerWidth;\n  this.height = Math.max( cell.size.outerHeight, this.height );\n  // first cell stuff\n  if ( this.cells.length == 1 ) {\n    this.x = cell.x; // x comes from first cell\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n    this.firstMargin = cell.size[ beginMargin ];\n  }\n};\n\nproto.updateTarget = function() {\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n  var lastCell = this.getLastCell();\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.select = function() {\n  this.cells.forEach( function( cell ) {\n    cell.select();\n  });\n};\n\nproto.unselect = function() {\n  this.cells.forEach( function( cell ) {\n    cell.unselect();\n  });\n};\n\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\nreturn Slide;\n\n}));\n","// animate\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'fizzy-ui-utils/utils'\n    ], function( utils ) {\n      return factory( window, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(\n      window,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, utils ) {\n\n'use strict';\n\n// -------------------------- animate -------------------------- //\n\nvar proto = {};\n\nproto.startAnimation = function() {\n  if ( this.isAnimating ) {\n    return;\n  }\n\n  this.isAnimating = true;\n  this.restingFrames = 0;\n  this.animate();\n};\n\nproto.animate = function() {\n  this.applyDragForce();\n  this.applySelectedAttraction();\n\n  var previousX = this.x;\n\n  this.integratePhysics();\n  this.positionSlider();\n  this.settle( previousX );\n  // animate next frame\n  if ( this.isAnimating ) {\n    var _this = this;\n    requestAnimationFrame( function animateFrame() {\n      _this.animate();\n    });\n  }\n};\n\nproto.positionSlider = function() {\n  var x = this.x;\n  // wrap position around\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\n    x = utils.modulo( x, this.slideableWidth );\n    x = x - this.slideableWidth;\n    this.shiftWrapCells( x );\n  }\n\n  this.setTranslateX( x, this.isAnimating );\n  this.dispatchScrollEvent();\n};\n\nproto.setTranslateX = function( x, is3d ) {\n  x += this.cursorPosition;\n  // reverse if right-to-left and using transform\n  x = this.options.rightToLeft ? -x : x;\n  var translateX = this.getPositionValue( x );\n  // use 3D tranforms for hardware acceleration on iOS\n  // but use 2D when settled, for better font-rendering\n  this.slider.style.transform = is3d ?\n    'translate3d(' + translateX + ',0,0)' : 'translateX(' + translateX + ')';\n};\n\nproto.dispatchScrollEvent = function() {\n  var firstSlide = this.slides[0];\n  if ( !firstSlide ) {\n    return;\n  }\n  var positionX = -this.x - firstSlide.target;\n  var progress = positionX / this.slidesWidth;\n  this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n};\n\nproto.positionSliderAtSelected = function() {\n  if ( !this.cells.length ) {\n    return;\n  }\n  this.x = -this.selectedSlide.target;\n  this.velocity = 0; // stop wobble\n  this.positionSlider();\n};\n\nproto.getPositionValue = function( position ) {\n  if ( this.options.percentPosition ) {\n    // percent position, round to 2 digits, like 12.34%\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 )+ '%';\n  } else {\n    // pixel positioning\n    return Math.round( position ) + 'px';\n  }\n};\n\nproto.settle = function( previousX ) {\n  // keep track of frames where x hasn't moved\n  if ( !this.isPointerDown && Math.round( this.x * 100 ) == Math.round( previousX * 100 ) ) {\n    this.restingFrames++;\n  }\n  // stop animating if resting for 3 or more frames\n  if ( this.restingFrames > 2 ) {\n    this.isAnimating = false;\n    delete this.isFreeScrolling;\n    // render position with translateX when settled\n    this.positionSlider();\n    this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n  }\n};\n\nproto.shiftWrapCells = function( x ) {\n  // shift before cells\n  var beforeGap = this.cursorPosition + x;\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n  // shift after cells\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\n};\n\nproto._shiftCells = function( cells, gap, shift ) {\n  for ( var i=0; i < cells.length; i++ ) {\n    var cell = cells[i];\n    var cellShift = gap > 0 ? shift : 0;\n    cell.wrapShift( cellShift );\n    gap -= cell.size.outerWidth;\n  }\n};\n\nproto._unshiftCells = function( cells ) {\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  for ( var i=0; i < cells.length; i++ ) {\n    cells[i].wrapShift( 0 );\n  }\n};\n\n// -------------------------- physics -------------------------- //\n\nproto.integratePhysics = function() {\n  this.x += this.velocity;\n  this.velocity *= this.getFrictionFactor();\n};\n\nproto.applyForce = function( force ) {\n  this.velocity += force;\n};\n\nproto.getFrictionFactor = function() {\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n};\n\nproto.getRestingPosition = function() {\n  // my thanks to Steven Wittens, who simplified this math greatly\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n};\n\nproto.applyDragForce = function() {\n  if ( !this.isDraggable || !this.isPointerDown ) {\n    return;\n  }\n  // change the position to drag position by applying force\n  var dragVelocity = this.dragX - this.x;\n  var dragForce = dragVelocity - this.velocity;\n  this.applyForce( dragForce );\n};\n\nproto.applySelectedAttraction = function() {\n  // do not attract if pointer down or no slides\n  var dragDown = this.isDraggable && this.isPointerDown;\n  if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n    return;\n  }\n  var distance = this.selectedSlide.target * -1 - this.x;\n  var force = distance * this.options.selectedAttraction;\n  this.applyForce( force );\n};\n\nreturn proto;\n\n}));\n","// drag\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unidragger/unidragger',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unidragger, utils ) {\n      return factory( window, Flickity, Unidragger, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unidragger'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.Unidragger,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unidragger, utils ) {\n\n'use strict';\n\n// ----- defaults ----- //\n\nutils.extend( Flickity.defaults, {\n  draggable: '>1',\n  dragThreshold: 3,\n});\n\n// ----- create ----- //\n\nFlickity.createMethods.push('_createDrag');\n\n// -------------------------- drag prototype -------------------------- //\n\nvar proto = Flickity.prototype;\nutils.extend( proto, Unidragger.prototype );\nproto._touchActionValue = 'pan-y';\n\n// --------------------------  -------------------------- //\n\nvar isTouch = 'createTouch' in document;\nvar isTouchmoveScrollCanceled = false;\n\nproto._createDrag = function() {\n  this.on( 'activate', this.onActivateDrag );\n  this.on( 'uiChange', this._uiChangeDrag );\n  this.on( 'deactivate', this.onDeactivateDrag );\n  this.on( 'cellChange', this.updateDraggable );\n  // TODO updateDraggable on resize? if groupCells & slides change\n  // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\n  // #457, RubaXa/Sortable#973\n  if ( isTouch && !isTouchmoveScrollCanceled ) {\n    window.addEventListener( 'touchmove', function() {});\n    isTouchmoveScrollCanceled = true;\n  }\n};\n\nproto.onActivateDrag = function() {\n  this.handles = [ this.viewport ];\n  this.bindHandles();\n  this.updateDraggable();\n};\n\nproto.onDeactivateDrag = function() {\n  this.unbindHandles();\n  this.element.classList.remove('is-draggable');\n};\n\nproto.updateDraggable = function() {\n  // disable dragging if less than 2 slides. #278\n  if ( this.options.draggable == '>1' ) {\n    this.isDraggable = this.slides.length > 1;\n  } else {\n    this.isDraggable = this.options.draggable;\n  }\n  if ( this.isDraggable ) {\n    this.element.classList.add('is-draggable');\n  } else {\n    this.element.classList.remove('is-draggable');\n  }\n};\n\n// backwards compatibility\nproto.bindDrag = function() {\n  this.options.draggable = true;\n  this.updateDraggable();\n};\n\nproto.unbindDrag = function() {\n  this.options.draggable = false;\n  this.updateDraggable();\n};\n\nproto._uiChangeDrag = function() {\n  delete this.isFreeScrolling;\n};\n\n// -------------------------- pointer events -------------------------- //\n\nproto.pointerDown = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    this._pointerDownDefault( event, pointer );\n    return;\n  }\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n\n  this._pointerDownPreventDefault( event );\n  this.pointerDownFocus( event );\n  // blur\n  if ( document.activeElement != this.element ) {\n    // do not blur if already focused\n    this.pointerDownBlur();\n  }\n\n  // stop if it was moving\n  this.dragX = this.x;\n  this.viewport.classList.add('is-pointer-down');\n  // track scrolling\n  this.pointerDownScroll = getScrollPosition();\n  window.addEventListener( 'scroll', this );\n\n  this._pointerDownDefault( event, pointer );\n};\n\n// default pointerDown logic, used for staticClick\nproto._pointerDownDefault = function( event, pointer ) {\n  // track start event position\n  // Safari 9 overrides pageX and pageY. These values needs to be copied. #779\n  this.pointerDownPointer = {\n    pageX: pointer.pageX,\n    pageY: pointer.pageY,\n  };\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\nvar focusNodes = {\n  INPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n};\n\nproto.pointerDownFocus = function( event ) {\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isFocusNode ) {\n    this.focus();\n  }\n};\n\nproto._pointerDownPreventDefault = function( event ) {\n  var isTouchStart = event.type == 'touchstart';\n  var isTouchPointer = event.pointerType == 'touch';\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n    event.preventDefault();\n  }\n};\n\n// ----- move ----- //\n\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\n};\n\n// ----- up ----- //\n\nproto.pointerUp = function( event, pointer ) {\n  delete this.isTouchScrolling;\n  this.viewport.classList.remove('is-pointer-down');\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto.pointerDone = function() {\n  window.removeEventListener( 'scroll', this );\n  delete this.pointerDownScroll;\n};\n\n// -------------------------- dragging -------------------------- //\n\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  this.dragStartPosition = this.x;\n  this.startAnimation();\n  window.removeEventListener( 'scroll', this );\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n};\n\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  event.preventDefault();\n\n  this.previousDragX = this.dragX;\n  // reverse if right-to-left\n  var direction = this.options.rightToLeft ? -1 : 1;\n  if ( this.options.wrapAround ) {\n    // wrap around move. #589\n    moveVector.x = moveVector.x % this.slideableWidth;\n  }\n  var dragX = this.dragStartPosition + moveVector.x * direction;\n\n  if ( !this.options.wrapAround && this.slides.length ) {\n    // slow drag\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n  }\n\n  this.dragX = dragX;\n\n  this.dragMoveTime = new Date();\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  if ( this.options.freeScroll ) {\n    this.isFreeScrolling = true;\n  }\n  // set selectedIndex based on where flick will end up\n  var index = this.dragEndRestingSelect();\n\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\n    // if free-scroll & not wrap around\n    // do not free-scroll if going outside of bounding slides\n    // so bounding slides can attract slider, and keep it in bounds\n    var restingX = this.getRestingPosition();\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\n      -restingX < this.getLastSlide().target;\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n    // boost selection if selected index has not changed\n    index += this.dragEndBoostSelect();\n  }\n  delete this.previousDragX;\n  // apply selection\n  // TODO refactor this, selecting here feels weird\n  // HACK, set flag so dragging stays in correct direction\n  this.isDragSelect = this.options.wrapAround;\n  this.select( index );\n  delete this.isDragSelect;\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\nproto.dragEndRestingSelect = function() {\n  var restingX = this.getRestingPosition();\n  // how far away from selected slide\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n  // get closet resting going up and going down\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\n  // use closer resting for wrap-around\n  var index = positiveResting.distance < negativeResting.distance ?\n    positiveResting.index : negativeResting.index;\n  return index;\n};\n\n/**\n * given resting X and distance to selected cell\n * get the distance and index of the closest cell\n * @param {Number} restingX - estimated post-flick resting position\n * @param {Number} distance - distance to selected cell\n * @param {Integer} increment - +1 or -1, going up or down\n * @returns {Object} - { distance: {Number}, index: {Integer} }\n */\nproto._getClosestResting = function( restingX, distance, increment ) {\n  var index = this.selectedIndex;\n  var minDistance = Infinity;\n  var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function( d, md ) { return d <= md; } : function( d, md ) { return d < md; };\n  while ( condition( distance, minDistance ) ) {\n    // measure distance to next cell\n    index += increment;\n    minDistance = distance;\n    distance = this.getSlideDistance( -restingX, index );\n    if ( distance === null ) {\n      break;\n    }\n    distance = Math.abs( distance );\n  }\n  return {\n    distance: minDistance,\n    // selected was previous index\n    index: index - increment\n  };\n};\n\n/**\n * measure distance between x and a slide target\n * @param {Number} x\n * @param {Integer} index - slide index\n */\nproto.getSlideDistance = function( x, index ) {\n  var len = this.slides.length;\n  // wrap around if at least 2 slides\n  var isWrapAround = this.options.wrapAround && len > 1;\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n  var slide = this.slides[ slideIndex ];\n  if ( !slide ) {\n    return null;\n  }\n  // add distance for wrap-around slides\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index / len ) : 0;\n  return x - ( slide.target + wrap );\n};\n\nproto.dragEndBoostSelect = function() {\n  // do not boost if no previousDragX or dragMoveTime\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100 ) {\n    return 0;\n  }\n\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n  var delta = this.previousDragX - this.dragX;\n  if ( distance > 0 && delta > 0 ) {\n    // boost to next if moving towards the right, and positive velocity\n    return 1;\n  } else if ( distance < 0 && delta < 0 ) {\n    // boost to previous if moving towards the left, and negative velocity\n    return -1;\n  }\n  return 0;\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  // get clickedCell, if cell was clicked\n  var clickedCell = this.getParentCell( event.target );\n  var cellElem = clickedCell && clickedCell.element;\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n};\n\n// ----- scroll ----- //\n\nproto.onscroll = function() {\n  var scroll = getScrollPosition();\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n  // cancel click/tap if scroll is too much\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n    this._pointerDone();\n  }\n};\n\n// ----- utils ----- //\n\nfunction getScrollPosition() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n","/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n'use strict';\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n","// prev/next buttons\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unipointer/unipointer',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unipointer'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.Unipointer,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n'use strict';\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\n// -------------------------- PrevNextButton -------------------------- //\n\nfunction PrevNextButton( direction, parent ) {\n  this.direction = direction;\n  this.parent = parent;\n  this._create();\n}\n\nPrevNextButton.prototype = Object.create( Unipointer.prototype );\n\nPrevNextButton.prototype._create = function() {\n  // properties\n  this.isEnabled = true;\n  this.isPrevious = this.direction == -1;\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n  this.isLeft = this.direction == leftDirection;\n\n  var element = this.element = document.createElement('button');\n  element.className = 'flickity-button flickity-prev-next-button';\n  element.className += this.isPrevious ? ' previous' : ' next';\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n  element.setAttribute( 'type', 'button' );\n  // init as disabled\n  this.disable();\n\n  element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n  // create arrow\n  var svg = this.createSVG();\n  element.appendChild( svg );\n  // events\n  this.parent.on( 'select', this.update.bind( this ) );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPrevNextButton.prototype.activate = function() {\n  this.bindStartEvent( this.element );\n  this.element.addEventListener( 'click', this );\n  // add to DOM\n  this.parent.element.appendChild( this.element );\n};\n\nPrevNextButton.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.element );\n  // click events\n  this.unbindStartEvent( this.element );\n  this.element.removeEventListener( 'click', this );\n};\n\nPrevNextButton.prototype.createSVG = function() {\n  var svg = document.createElementNS( svgURI, 'svg');\n  svg.setAttribute( 'class', 'flickity-button-icon' );\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\n  var path = document.createElementNS( svgURI, 'path');\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n  path.setAttribute( 'd', pathMovements );\n  path.setAttribute( 'class', 'arrow' );\n  // rotate arrow\n  if ( !this.isLeft ) {\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n  }\n  svg.appendChild( path );\n  return svg;\n};\n\n// get SVG path movmement\nfunction getArrowMovements( shape ) {\n  // use shape as movement if string\n  if ( typeof shape == 'string' ) {\n    return shape;\n  }\n  // create movement string\n  return 'M ' + shape.x0 + ',50' +\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n    ' L ' + shape.x3 + ',50 ' +\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n    ' Z';\n}\n\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\n\nPrevNextButton.prototype.onclick = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.parent.uiChange();\n  var method = this.isPrevious ? 'previous' : 'next';\n  this.parent[ method ]();\n};\n\n// -----  ----- //\n\nPrevNextButton.prototype.enable = function() {\n  if ( this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = false;\n  this.isEnabled = true;\n};\n\nPrevNextButton.prototype.disable = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = true;\n  this.isEnabled = false;\n};\n\nPrevNextButton.prototype.update = function() {\n  // index of first or last slide, if previous or next\n  var slides = this.parent.slides;\n  // enable is wrapAround and at least 2 slides\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\n    this.enable();\n    return;\n  }\n  var lastIndex = slides.length ? slides.length - 1 : 0;\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n  this[ method ]();\n};\n\nPrevNextButton.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\n// -------------------------- Flickity prototype -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  prevNextButtons: true,\n  arrowShape: {\n    x0: 10,\n    x1: 60, y1: 50,\n    x2: 70, y2: 40,\n    x3: 30\n  }\n});\n\nFlickity.createMethods.push('_createPrevNextButtons');\nvar proto = Flickity.prototype;\n\nproto._createPrevNextButtons = function() {\n  if ( !this.options.prevNextButtons ) {\n    return;\n  }\n\n  this.prevButton = new PrevNextButton( -1, this );\n  this.nextButton = new PrevNextButton( 1, this );\n\n  this.on( 'activate', this.activatePrevNextButtons );\n};\n\nproto.activatePrevNextButtons = function() {\n  this.prevButton.activate();\n  this.nextButton.activate();\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\n};\n\nproto.deactivatePrevNextButtons = function() {\n  this.prevButton.deactivate();\n  this.nextButton.deactivate();\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\n};\n\n// --------------------------  -------------------------- //\n\nFlickity.PrevNextButton = PrevNextButton;\n\nreturn Flickity;\n\n}));\n","// page dots\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unipointer/unipointer',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unipointer'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.Unipointer,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n\n// -------------------------- PageDots -------------------------- //\n\n'use strict';\n\nfunction PageDots( parent ) {\n  this.parent = parent;\n  this._create();\n}\n\nPageDots.prototype = Object.create( Unipointer.prototype );\n\nPageDots.prototype._create = function() {\n  // create holder element\n  this.holder = document.createElement('ol');\n  this.holder.className = 'flickity-page-dots';\n  // create dots, array of elements\n  this.dots = [];\n  // events\n  this.handleClick = this.onClick.bind( this );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPageDots.prototype.activate = function() {\n  this.setDots();\n  this.holder.addEventListener( 'click', this.handleClick );\n  this.bindStartEvent( this.holder );\n  // add to DOM\n  this.parent.element.appendChild( this.holder );\n};\n\nPageDots.prototype.deactivate = function() {\n  this.holder.removeEventListener( 'click', this.handleClick );\n  this.unbindStartEvent( this.holder );\n  // remove from DOM\n  this.parent.element.removeChild( this.holder );\n};\n\nPageDots.prototype.setDots = function() {\n  // get difference between number of slides and number of dots\n  var delta = this.parent.slides.length - this.dots.length;\n  if ( delta > 0 ) {\n    this.addDots( delta );\n  } else if ( delta < 0 ) {\n    this.removeDots( -delta );\n  }\n};\n\nPageDots.prototype.addDots = function( count ) {\n  var fragment = document.createDocumentFragment();\n  var newDots = [];\n  var length = this.dots.length;\n  var max = length + count;\n\n  for ( var i = length; i < max; i++ ) {\n    var dot = document.createElement('li');\n    dot.className = 'dot';\n    dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n    fragment.appendChild( dot );\n    newDots.push( dot );\n  }\n\n  this.holder.appendChild( fragment );\n  this.dots = this.dots.concat( newDots );\n};\n\nPageDots.prototype.removeDots = function( count ) {\n  // remove from this.dots collection\n  var removeDots = this.dots.splice( this.dots.length - count, count );\n  // remove from DOM\n  removeDots.forEach( function( dot ) {\n    this.holder.removeChild( dot );\n  }, this );\n};\n\nPageDots.prototype.updateSelected = function() {\n  // remove selected class on previous\n  if ( this.selectedDot ) {\n    this.selectedDot.className = 'dot';\n    this.selectedDot.removeAttribute('aria-current');\n  }\n  // don't proceed if no dots\n  if ( !this.dots.length ) {\n    return;\n  }\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\n  this.selectedDot.className = 'dot is-selected';\n  this.selectedDot.setAttribute( 'aria-current', 'step' );\n};\n\nPageDots.prototype.onTap = // old method name, backwards-compatible\nPageDots.prototype.onClick = function( event ) {\n  var target = event.target;\n  // only care about dot clicks\n  if ( target.nodeName != 'LI' ) {\n    return;\n  }\n\n  this.parent.uiChange();\n  var index = this.dots.indexOf( target );\n  this.parent.select( index );\n};\n\nPageDots.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\nFlickity.PageDots = PageDots;\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pageDots: true\n});\n\nFlickity.createMethods.push('_createPageDots');\n\nvar proto = Flickity.prototype;\n\nproto._createPageDots = function() {\n  if ( !this.options.pageDots ) {\n    return;\n  }\n  this.pageDots = new PageDots( this );\n  // events\n  this.on( 'activate', this.activatePageDots );\n  this.on( 'select', this.updateSelectedPageDots );\n  this.on( 'cellChange', this.updatePageDots );\n  this.on( 'resize', this.updatePageDots );\n  this.on( 'deactivate', this.deactivatePageDots );\n};\n\nproto.activatePageDots = function() {\n  this.pageDots.activate();\n};\n\nproto.updateSelectedPageDots = function() {\n  this.pageDots.updateSelected();\n};\n\nproto.updatePageDots = function() {\n  this.pageDots.setDots();\n};\n\nproto.deactivatePageDots = function() {\n  this.pageDots.deactivate();\n};\n\n// -----  ----- //\n\nFlickity.PageDots = PageDots;\n\nreturn Flickity;\n\n}));\n","// player & autoPlay\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter',\n      'fizzy-ui-utils/utils',\n      './flickity'\n    ], function( EvEmitter, utils, Flickity ) {\n      return factory( EvEmitter, utils, Flickity );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('ev-emitter'),\n      require('fizzy-ui-utils'),\n      require('./flickity')\n    );\n  } else {\n    // browser global\n    factory(\n      window.EvEmitter,\n      window.fizzyUIUtils,\n      window.Flickity\n    );\n  }\n\n}( window, function factory( EvEmitter, utils, Flickity ) {\n\n'use strict';\n\n// -------------------------- Player -------------------------- //\n\nfunction Player( parent ) {\n  this.parent = parent;\n  this.state = 'stopped';\n  // visibility change event handler\n  this.onVisibilityChange = this.visibilityChange.bind( this );\n  this.onVisibilityPlay = this.visibilityPlay.bind( this );\n}\n\nPlayer.prototype = Object.create( EvEmitter.prototype );\n\n// start play\nPlayer.prototype.play = function() {\n  if ( this.state == 'playing' ) {\n    return;\n  }\n  // do not play if page is hidden, start playing when page is visible\n  var isPageHidden = document.hidden;\n  if ( isPageHidden ) {\n    document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n    return;\n  }\n\n  this.state = 'playing';\n  // listen to visibility change\n  document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n  // start ticking\n  this.tick();\n};\n\nPlayer.prototype.tick = function() {\n  // do not tick if not playing\n  if ( this.state != 'playing' ) {\n    return;\n  }\n\n  var time = this.parent.options.autoPlay;\n  // default to 3 seconds\n  time = typeof time == 'number' ? time : 3000;\n  var _this = this;\n  // HACK: reset ticks if stopped and started within interval\n  this.clear();\n  this.timeout = setTimeout( function() {\n    _this.parent.next( true );\n    _this.tick();\n  }, time );\n};\n\nPlayer.prototype.stop = function() {\n  this.state = 'stopped';\n  this.clear();\n  // remove visibility change event\n  document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n};\n\nPlayer.prototype.clear = function() {\n  clearTimeout( this.timeout );\n};\n\nPlayer.prototype.pause = function() {\n  if ( this.state == 'playing' ) {\n    this.state = 'paused';\n    this.clear();\n  }\n};\n\nPlayer.prototype.unpause = function() {\n  // re-start play if paused\n  if ( this.state == 'paused' ) {\n    this.play();\n  }\n};\n\n// pause if page visibility is hidden, unpause if visible\nPlayer.prototype.visibilityChange = function() {\n  var isPageHidden = document.hidden;\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\n};\n\nPlayer.prototype.visibilityPlay = function() {\n  this.play();\n  document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n};\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pauseAutoPlayOnHover: true\n});\n\nFlickity.createMethods.push('_createPlayer');\nvar proto = Flickity.prototype;\n\nproto._createPlayer = function() {\n  this.player = new Player( this );\n\n  this.on( 'activate', this.activatePlayer );\n  this.on( 'uiChange', this.stopPlayer );\n  this.on( 'pointerDown', this.stopPlayer );\n  this.on( 'deactivate', this.deactivatePlayer );\n};\n\nproto.activatePlayer = function() {\n  if ( !this.options.autoPlay ) {\n    return;\n  }\n  this.player.play();\n  this.element.addEventListener( 'mouseenter', this );\n};\n\n// Player API, don't hate the ... thanks I know where the door is\n\nproto.playPlayer = function() {\n  this.player.play();\n};\n\nproto.stopPlayer = function() {\n  this.player.stop();\n};\n\nproto.pausePlayer = function() {\n  this.player.pause();\n};\n\nproto.unpausePlayer = function() {\n  this.player.unpause();\n};\n\nproto.deactivatePlayer = function() {\n  this.player.stop();\n  this.element.removeEventListener( 'mouseenter', this );\n};\n\n// ----- mouseenter/leave ----- //\n\n// pause auto-play on hover\nproto.onmouseenter = function() {\n  if ( !this.options.pauseAutoPlayOnHover ) {\n    return;\n  }\n  this.player.pause();\n  this.element.addEventListener( 'mouseleave', this );\n};\n\n// resume auto-play on hover off\nproto.onmouseleave = function() {\n  this.player.unpause();\n  this.element.removeEventListener( 'mouseleave', this );\n};\n\n// -----  ----- //\n\nFlickity.Player = Player;\n\nreturn Flickity;\n\n}));\n","// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n\n'use strict';\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  });\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {Element, Array, NodeList} elems\n * @param {Integer} index\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {Element, Array, NodeList} elems\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n","// lazyload\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n'use strict';\n\nFlickity.createMethods.push('_createLazyload');\nvar proto = Flickity.prototype;\n\nproto._createLazyload = function() {\n  this.on( 'select', this.lazyLoad );\n};\n\nproto.lazyLoad = function() {\n  var lazyLoad = this.options.lazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n  // get lazy images in those cells\n  var lazyImages = [];\n  cellElems.forEach( function( cellElem ) {\n    var lazyCellImages = getCellLazyImages( cellElem );\n    lazyImages = lazyImages.concat( lazyCellImages );\n  });\n  // load lazy images\n  lazyImages.forEach( function( img ) {\n    new LazyLoader( img, this );\n  }, this );\n};\n\nfunction getCellLazyImages( cellElem ) {\n  // check if cell element is lazy image\n  if ( cellElem.nodeName == 'IMG' ) {\n    var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n    var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n    var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n    if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n      return [ cellElem ];\n    }\n  }\n  // select lazy images in cell\n  var lazySelector = 'img[data-flickity-lazyload], ' +\n    'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n  var imgs = cellElem.querySelectorAll( lazySelector );\n  return utils.makeArray( imgs );\n}\n\n// -------------------------- LazyLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction LazyLoader( img, flickity ) {\n  this.img = img;\n  this.flickity = flickity;\n  this.load();\n}\n\nLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // get src & srcset\n  var src = this.img.getAttribute('data-flickity-lazyload') ||\n    this.img.getAttribute('data-flickity-lazyload-src');\n  var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n  // set src & serset\n  this.img.src = src;\n  if ( srcset ) {\n    this.img.setAttribute( 'srcset', srcset );\n  }\n  // remove attr\n  this.img.removeAttribute('data-flickity-lazyload');\n  this.img.removeAttribute('data-flickity-lazyload-src');\n  this.img.removeAttribute('data-flickity-lazyload-srcset');\n};\n\nLazyLoader.prototype.onload = function( event ) {\n  this.complete( event, 'flickity-lazyloaded' );\n};\n\nLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-lazyerror' );\n};\n\nLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  var cell = this.flickity.getParentCell( this.img );\n  var cellElem = cell && cell.element;\n  this.flickity.cellSizeChange( cellElem );\n\n  this.img.classList.add( className );\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n};\n\n// -----  ----- //\n\nFlickity.LazyLoader = LazyLoader;\n\nreturn Flickity;\n\n}));\n","import { Controller } from 'stimulus'\nimport Isotope from 'isotope-layout'\n\nexport default class extends Controller {\n\n    static targets = [ 'container', 'filterEventType', 'sort', 'filterDate', 'location' ]\n    initialize() {\n        console.log('Init grid')\n    }\n\n    connect () {\n        this.iso = new Isotope(this.containerTarget, {\n            itemSelector: '.programme-grid-item',\n            layoutMode: 'masonry',\n            getSortData: {\n                az: '[data-az]',\n                highlights: '[data-highlights]',\n                location: '[data-location]',\n                lastadded: 'original-order',         \n            },\n            sortBy: 'highlights' \n        })\n        this.filterData = { \n            date: '*', \n            event: '*',\n            location: '*'\n        }\n\n        this.filterEventTypeTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                this.filter = {\n                    location: this.filterData.location,\n                    date: this.filterData.date,\n                    event: element.getAttribute('data-filter').toLowerCase()\n                }\n                this.filterEventTypeTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            })        \n        })\n\n        // Date buttons\n        this.filterDateTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                this.filter = { \n                    location: this.filterData.location,\n                    date: element.getAttribute('data-filter').toLowerCase(), \n                    event: this.filterData.event\n                }\n                this.filterDateTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            })        \n        })\n\n        // Location buttons\n        this.locationTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                this.filter = { \n                    location: element.getAttribute('data-filter').toLowerCase(), \n                    date: this.filterData.date, \n                    event: this.filterData.event \n                }\n                this.locationTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            })        \n        })\n        \n        // Sorting buttons\n        this.sortTarget.childNodes.forEach( element => {\n            element.addEventListener('click', () => {\n                let sortOption = element.getAttribute('data-filter').toLowerCase()\n                this.sort = sortOption\n                this.sortTarget.querySelectorAll('.programme-grid-button--active').forEach(el => el.classList.remove('programme-grid-button--active'))\n                element.classList.toggle('programme-grid-button--active')\n            }) \n        })\n\n    }\n    \n    disconnect() {\n        this.iso.destroy()\n    }\n\n    set filter (value) {\n        this.filterData = value\n        this.iso.arrange({\n            filter: ( gridItemElem ) =>  {\n                let query = value\n\n                let conditionEvent = gridItemElem.classList.contains(query.event)\n                if (query.event === '*' ) conditionEvent = true \n\n                let conditionDate = gridItemElem.classList.contains(query.date)\n                if (query.date === '*' ) conditionDate= true \n\n                let location = gridItemElem.getAttribute('data-location')\n                let conditionLocation = location.includes(query.location)\n                if (query.location === '*' ) conditionLocation = true \n\n                let condition = conditionEvent && conditionDate && conditionLocation\n                return condition\n            }\n        })\n    }\n    set sort (value) {\n        this.iso.arrange({ sortBy: value })\n    }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('filter') }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  createNonEnumerableProperty(ArrayPrototype, UNSCOPABLES, create(null));\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar PROTOTYPE = 'prototype';\nvar Empty = function () { /* empty */ };\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var length = enumBugKeys.length;\n  var lt = '<';\n  var script = 'script';\n  var gt = '>';\n  var js = 'java' + script + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  iframe.src = String(js);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + script + gt + 'document.F=Object' + lt + '/' + script + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (length--) delete createDict[PROTOTYPE][enumBugKeys[length]];\n  return createDict();\n};\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n\nhiddenKeys[IE_PROTO] = true;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size'\n      ],\n      factory\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      require('ev-emitter'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window.EvEmitter,\n      window.getSize\n    );\n  }\n\n}( window, function factory( EvEmitter, getSize ) {\n'use strict';\n\n// ----- helpers ----- //\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\n\nvar docElemStyle = document.documentElement.style;\n\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\n  'transition' : 'WebkitTransition';\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\n  'transform' : 'WebkitTransform';\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\nvar vendorProperties = {\n  transform: transformProperty,\n  transition: transitionProperty,\n  transitionDuration: transitionProperty + 'Duration',\n  transitionProperty: transitionProperty + 'Property',\n  transitionDelay: transitionProperty + 'Delay'\n};\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EvEmitter\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\nproto.constructor = Item;\n\nproto._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nproto.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nproto.getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  var x = parseFloat( xValue );\n  var y = parseFloat( yValue );\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  if ( xValue.indexOf('%') != -1 ) {\n    x = ( x / 100 ) * layoutSize.width;\n  }\n  if ( yValue.indexOf('%') != -1 ) {\n    y = ( y / 100 ) * layoutSize.height;\n  }\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nproto.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var style = {};\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n\n  // x\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = isOriginLeft ? 'left' : 'right';\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nproto.getXValue = function( x ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && !isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nproto.getYValue = function( y ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\nproto._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var didNotMove = x == this.position.x && y == this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nproto.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  x = isOriginLeft ? x : -x;\n  y = isOriginTop ? y : -y;\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n};\n\n// non transition + transform support\nproto.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\nproto.moveTo = proto._transitionTo;\n\nproto.setPosition = function( x, y ) {\n  this.position.x = parseFloat( x );\n  this.position.y = parseFloat( y );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nproto._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nproto.transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\nproto.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // munge number to millisecond, to match stagger\n  var duration = this.layout.options.transitionDuration;\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: duration,\n    transitionDelay: this.staggerDelay || 0\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\n// ----- events ----- //\n\nproto.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nproto.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform'\n};\n\nproto.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nproto.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nproto._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: '',\n  transitionDelay: ''\n};\n\nproto.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- stagger ----- //\n\nproto.stagger = function( delay ) {\n  delay = isNaN( delay ) ? 0 : delay;\n  this.staggerDelay = delay + 'ms';\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nproto.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nproto.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  this.once( 'transitionEnd', function() {\n    this.removeElem();\n  });\n  this.hide();\n};\n\nproto.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nproto.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nproto.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/**\n * Isotope Item\n**/\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer')\n    );\n  } else {\n    // browser global\n    window.Isotope = window.Isotope || {};\n    window.Isotope.Item = factory(\n      window.Outlayer\n    );\n  }\n\n}( window, function factory( Outlayer ) {\n'use strict';\n\n// -------------------------- Item -------------------------- //\n\n// sub-class Outlayer Item\nfunction Item() {\n  Outlayer.Item.apply( this, arguments );\n}\n\nvar proto = Item.prototype = Object.create( Outlayer.Item.prototype );\n\nvar _create = proto._create;\nproto._create = function() {\n  // assign id, used for original-order sorting\n  this.id = this.layout.itemGUID++;\n  _create.call( this );\n  this.sortData = {};\n};\n\nproto.updateSortData = function() {\n  if ( this.isIgnored ) {\n    return;\n  }\n  // default sorters\n  this.sortData.id = this.id;\n  // for backward compatibility\n  this.sortData['original-order'] = this.id;\n  this.sortData.random = Math.random();\n  // go thru getSortData obj and apply the sorters\n  var getSortData = this.layout.options.getSortData;\n  var sorters = this.layout._sorters;\n  for ( var key in getSortData ) {\n    var sorter = sorters[ key ];\n    this.sortData[ key ] = sorter( this.element, this );\n  }\n};\n\nvar _destroy = proto.destroy;\nproto.destroy = function() {\n  // call super\n  _destroy.apply( this, arguments );\n  // reset display, #741\n  this.css({\n    display: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/*!\n * Masonry layout mode\n * sub-classes Masonry\n * https://masonry.desandro.com\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        '../layout-mode',\n        'masonry-layout/masonry'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode'),\n      require('masonry-layout')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode,\n      window.Masonry\n    );\n  }\n\n}( window, function factory( LayoutMode, Masonry ) {\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var MasonryMode = LayoutMode.create('masonry');\n\n  var proto = MasonryMode.prototype;\n\n  var keepModeMethods = {\n    _getElementOffset: true,\n    layout: true,\n    _getMeasurement: true\n  };\n\n  // inherit Masonry prototype\n  for ( var method in Masonry.prototype ) {\n    // do not inherit mode methods\n    if ( !keepModeMethods[ method ] ) {\n      proto[ method ] = Masonry.prototype[ method ];\n    }\n  }\n\n  var measureColumns = proto.measureColumns;\n  proto.measureColumns = function() {\n    // set items, used if measuring first item\n    this.items = this.isotope.filteredItems;\n    measureColumns.call( this );\n  };\n\n  // point to mode options for fitWidth\n  var _getOption = proto._getOption;\n  proto._getOption = function( option ) {\n    if ( option == 'fitWidth' ) {\n      return this.options.isFitWidth !== undefined ?\n        this.options.isFitWidth : this.options.fitWidth;\n    }\n    return _getOption.apply( this.isotope, arguments );\n  };\n\n  return MasonryMode;\n\n}));\n","/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Masonry = factory(\n      window.Outlayer,\n      window.getSize\n    );\n  }\n\n}( window, function factory( Outlayer, getSize ) {\n\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Masonry = Outlayer.create('masonry');\n  // isFitWidth -> fitWidth\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function() {\n    this.getSize();\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\n    this._getMeasurement( 'gutter', 'outerWidth' );\n    this.measureColumns();\n\n    // reset column Y\n    this.colYs = [];\n    for ( var i=0; i < this.cols; i++ ) {\n      this.colYs.push( 0 );\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function() {\n    this.getContainerWidth();\n    // if columnWidth is 0, default to outerWidth of first item\n    if ( !this.columnWidth ) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element;\n      // columnWidth fall back to item of first element\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n        // if first elem has no width, default to size of container\n        this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter;\n\n    // calculate columns\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth;\n    // fix rounding errors, typically with gutters\n    var excess = columnWidth - containerWidth % columnWidth;\n    // if overshoot is less than a pixel, round up, otherwise floor it\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[ mathMethod ]( cols );\n    this.cols = Math.max( cols, 1 );\n  };\n\n  proto.getContainerWidth = function() {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n    var container = isFitWidth ? this.element.parentNode : this.element;\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var size = getSize( container );\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function( item ) {\n    item.getSize();\n    // how many columns does this brick span\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n    // round if off by 1 pixel, otherwise use ceil\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n    colSpan = Math.min( colSpan, this.cols );\n    // use horizontal or top column position\n    var colPosMethod = this.options.horizontalOrder ?\n      '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[ colPosMethod ]( colSpan, item );\n    // position the brick\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    };\n    // apply setHeight to necessary columns\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n    for ( var i = colPosition.col; i < setMax; i++ ) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function( colSpan ) {\n    var colGroup = this._getTopColGroup( colSpan );\n    // get the minimum Y value from the columns\n    var minimumY = Math.min.apply( Math, colGroup );\n\n    return {\n      col: colGroup.indexOf( minimumY ),\n      y: minimumY,\n    };\n  };\n\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n  proto._getTopColGroup = function( colSpan ) {\n    if ( colSpan < 2 ) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = [];\n    // how many different places could this brick fit horizontally\n    var groupCount = this.cols + 1 - colSpan;\n    // for each group potential horizontal position\n    for ( var i = 0; i < groupCount; i++ ) {\n      colGroup[i] = this._getColGroupY( i, colSpan );\n    }\n    return colGroup;\n  };\n\n  proto._getColGroupY = function( col, colSpan ) {\n    if ( colSpan < 2 ) {\n      return this.colYs[ col ];\n    }\n    // make an array of colY values for that one group\n    var groupColYs = this.colYs.slice( col, col + colSpan );\n    // and get the max value of the array\n    return Math.max.apply( Math, groupColYs );\n  };\n\n  // get column position based on horizontal index. #873\n  proto._getHorizontalColPosition = function( colSpan, item ) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\n    // shift to next row if item can't fit on current row\n    col = isOver ? 0 : col;\n    // don't let zero-size items take up space\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n    return {\n      col: col,\n      y: this._getColGroupY( col, colSpan ),\n    };\n  };\n\n  proto._manageStamp = function( stamp ) {\n    var stampSize = getSize( stamp );\n    var offset = this._getElementOffset( stamp );\n    // get the columns that this stamp affects\n    var isOriginLeft = this._getOption('originLeft');\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor( firstX / this.columnWidth );\n    firstCol = Math.max( 0, firstCol );\n    var lastCol = Math.floor( lastX / this.columnWidth );\n    // lastCol should not go over if multiple of columnWidth #425\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min( this.cols - 1, lastCol );\n    // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n      stampSize.outerHeight;\n    for ( var i = firstCol; i <= lastCol; i++ ) {\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n    }\n  };\n\n  proto._getContainerSize = function() {\n    this.maxY = Math.max.apply( Math, this.colYs );\n    var size = {\n      height: this.maxY\n    };\n\n    if ( this._getOption('fitWidth') ) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function() {\n    var unusedCols = 0;\n    // count unused columns\n    var i = this.cols;\n    while ( --i ) {\n      if ( this.colYs[i] !== 0 ) {\n        break;\n      }\n      unusedCols++;\n    }\n    // fit container to columns that have been used\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function() {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n\n}));\n","/**\n * fitRows layout mode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        '../layout-mode'\n      ],\n      factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( LayoutMode ) {\n'use strict';\n\nvar FitRows = LayoutMode.create('fitRows');\n\nvar proto = FitRows.prototype;\n\nproto._resetLayout = function() {\n  this.x = 0;\n  this.y = 0;\n  this.maxY = 0;\n  this._getMeasurement( 'gutter', 'outerWidth' );\n};\n\nproto._getItemLayoutPosition = function( item ) {\n  item.getSize();\n\n  var itemWidth = item.size.outerWidth + this.gutter;\n  // if this element cannot fit in the current row\n  var containerWidth = this.isotope.size.innerWidth + this.gutter;\n  if ( this.x !== 0 && itemWidth + this.x > containerWidth ) {\n    this.x = 0;\n    this.y = this.maxY;\n  }\n\n  var position = {\n    x: this.x,\n    y: this.y\n  };\n\n  this.maxY = Math.max( this.maxY, this.y + item.size.outerHeight );\n  this.x += itemWidth;\n\n  return position;\n};\n\nproto._getContainerSize = function() {\n  return { height: this.maxY };\n};\n\nreturn FitRows;\n\n}));\n","/**\n * vertical layout mode\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        '../layout-mode'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('../layout-mode')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Isotope.LayoutMode\n    );\n  }\n\n}( window, function factory( LayoutMode ) {\n'use strict';\n\nvar Vertical = LayoutMode.create( 'vertical', {\n  horizontalAlignment: 0\n});\n\nvar proto = Vertical.prototype;\n\nproto._resetLayout = function() {\n  this.y = 0;\n};\n\nproto._getItemLayoutPosition = function( item ) {\n  item.getSize();\n  var x = ( this.isotope.size.innerWidth - item.size.outerWidth ) *\n    this.options.horizontalAlignment;\n  var y = this.y;\n  this.y += item.size.outerHeight;\n  return { x: x, y: y };\n};\n\nproto._getContainerSize = function() {\n  return { height: this.y };\n};\n\nreturn Vertical;\n\n}));\n","const languages = {\n    de: {\n      title: 'Cookie-Richtlinie',\n      content: 'Unsere Website verwendet Cookies, um zu analysieren, wie die Site verwendet wird, und um sicherzustellen, dass Ihre Benutzererfahrung bei nachfolgenden Besuchen konsistent ist.',\n      accept: 'Zustimmen',\n      learnMore: 'Mehr erfahren',\n    },\n    en: {\n      title: 'Cookies policy',\n      content: 'Our website uses cookies to analyse how the site is used and to ensure your experience is consistent between visits.',\n      accept: 'Accept',\n      learnMore: 'Learn more',\n    },\n    it: {\n      title: 'Polizza cookie',\n      content: 'Il nostro sito utilizza cookie per analizzare le tue abitudini e per assicurarsi che la tua esperienza sia consistente tra le visite.',\n      accept: 'Accetta',\n      learnMore: 'Altre informazioni',\n    },\n    fr: {\n      title: 'Politiques d\\'utilisation des cookies',\n      content: 'Notre site web utilise des cookies pour analyser son utilisation et vous permettre ainsi d\\'obtenir une exprience de qualit.',\n      accept: 'Accepter',\n      learnMore: 'En apprendre plus',\n    },\n    pt: {\n      title: 'Poltica de Cookies',\n      content: 'O nosso website utiliza Cookies para analisar a forma como o mesmo  utilizado e garantir uma experincia consistente e de qualidade para todos os visitantes.',\n      accept: 'Aceitar',\n      learnMore: 'Saber mais',\n    },\n    pl: {\n      title: 'Polityka cookies',\n      content: 'Nasza strona uywa ciasteczek do analizy statystyk i zapewnienia takiego samego dziaania pomidzi wizytami.',\n      accept: 'Akceptuj',\n      learnMore: 'Czytaj wicej',\n    },\n    ro: {\n      title: 'Politica de utilizare Cookie-uri',\n      content: 'Site-ul nostru utilizeaz module cookie i alte tehnologii similare pentru a optimiza funcionalitatea si a mbunti experiena de navigare.',\n      accept: 'Accept',\n      learnMore: 'Afl mai multe',\n    },\n  };\n  \n  export default languages;","import languages from './languages';\nimport { createCookie, readCookie } from './cookies.js';\n\nlet COOKIE_BOX_INITIALIZED = false;\n\nexport default class CookieBox {\n  constructor(params) {\n    COOKIE_BOX_INITIALIZED = true;\n    const userSettings = window.CookieBoxConfig || params || {};\n\n    this.box = document.createElement('div');\n    this.box.className = 'cookie-box';\n    this.settings = {\n      backgroundColor: userSettings.backgroundColor || '#3ea25f',\n      textColor: userSettings.textColor || '#fff',\n      language: userSettings.language || 'en',\n      containerWidth: userSettings.containerWidth || 1140,\n      url: userSettings.url || null,\n      linkTarget: userSettings.linkTarget || '_blank',\n      cookieKey: userSettings.cookieKey || 'cookie-box',\n      cookieDomain: userSettings.cookieDomain || document.location.host,\n      cookieExpireInDays: userSettings.cookieExpireInDays || 365,\n      content: userSettings.content || {},\n    };\n    this.dictionary = languages[this.settings.language];\n  }\n\n  init() {\n    if (!this.dictionary) {\n      console.error(`${this.settings.language} language is not supported`);\n\n      return;\n    }\n\n    if (readCookie(this.settings.cookieKey)) {\n      return;\n    }\n\n    this.show();\n\n    document.querySelector('.cookie-box__button').addEventListener('click', () => this.hide());\n  }\n\n  render() {\n    const { settings } = this;\n\n    return `\n    <div>\n      <div class=\"cookie-box__inner\" style=\"\">\n        <div class=\"cookie-box__content\">\n            This website stores data such as cookies to enable important site functionality including analytics, targeting, and personalization.\n            <a href=\"https://2020.sonicacts.com/privacy\">Data Storage Policy</a>\n        </div>\n        <div class=\"cookie-box__buttons\">\n            <button class=\"cookie-box__button\">\n                Accept\n            </button>\n        </div>\n      </div>\n    </div>\n    `;\n  }\n\n  show() {\n    this.box.innerHTML = this.render();\n    document.body.appendChild(this.box);\n  }\n\n  hide() {\n    this.box.classList.add('hidden');\n    createCookie(\n      this.settings.cookieKey,\n      true,\n      this.settings.cookieExpireInDays,\n      this.settings.cookieDomain,\n    );\n\n    setTimeout(() => {\n      this.box.remove();\n    }, 800);\n  }\n}\n\nif (typeof window !== 'undefined') {\n  const initBox = setInterval(() => {\n    if (document.readyState === 'complete') {\n      clearInterval(initBox);\n      if (!COOKIE_BOX_INITIALIZED) {\n        new CookieBox().init();\n      }\n    }\n  }, 50);\n}","const createCookie = (name, value, days, domain) => {\n    let expires;\n  \n    if (days) {\n      const date = new Date();\n      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n      expires = `; expires=${date.toGMTString()}`;\n    } else {\n      expires = '';\n    }\n  \n    document.cookie = `${name}=${value}${expires}; path=/; domain=${domain}`;\n  };\n  \n  const readCookie = (name) => {\n    const nameQuery = `${name}=`;\n    const cookies = document.cookie.split(';');\n    for (let i = 0; i < cookies.length; i += 1) {\n      let cookie = cookies[i];\n  \n      while (cookie.charAt(0) === ' ') {\n        cookie = cookie.substring(1, cookie.length);\n      }\n  \n      if (cookie.indexOf(nameQuery) === 0) {\n        return cookie.substring(nameQuery.length, cookie.length);\n      }\n    }\n  \n    return null;\n  };\n  \n  export { createCookie, readCookie };","import styles from '../css/app.scss'\nimport Turbolinks from 'turbolinks'\nimport lazysizes from 'lazysizes'\nimport CookieBox from './cookies/';\n\nimport { Application } from \"stimulus\"\nimport { definitionsFromContext } from \"stimulus/webpack-helpers\"\n\nTurbolinks.start()\nconst application = Application.start()\nconst context = require.context(\"./controllers\", true, /\\.js$/)\napplication.load(definitionsFromContext(context))\n\nnew CookieBox({backgroundColor: '#ec008c', url: '/privacy-policy'}).init();","export function definitionsFromContext(context) {\n    return context.keys()\n        .map(function (key) { return definitionForModuleWithContextAndKey(context, key); })\n        .filter(function (value) { return value; });\n}\nfunction definitionForModuleWithContextAndKey(context, key) {\n    var identifier = identifierForContextKey(key);\n    if (identifier) {\n        return definitionForModuleAndIdentifier(context(key), identifier);\n    }\n}\nfunction definitionForModuleAndIdentifier(module, identifier) {\n    var controllerConstructor = module.default;\n    if (typeof controllerConstructor == \"function\") {\n        return { identifier: identifier, controllerConstructor: controllerConstructor };\n    }\n}\nexport function identifierForContextKey(key) {\n    var logicalName = (key.match(/^(?:\\.\\/)?(.+)(?:[_-]controller\\..+?)$/) || [])[1];\n    if (logicalName) {\n        return logicalName.replace(/_/g, \"-\").replace(/\\//g, \"--\");\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQSxNQUFNLGlDQUFpQyxPQUEwQztJQUMvRSxPQUFPLE9BQU8sQ0FBQyxJQUFJLEVBQUU7U0FDbEIsR0FBRyxDQUFDLFVBQUEsR0FBRyxJQUFJLE9BQUEsb0NBQW9DLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxFQUFsRCxDQUFrRCxDQUFDO1NBQzlELE1BQU0sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssRUFBTCxDQUFLLENBQWlCLENBQUE7QUFDM0MsQ0FBQztBQUVELDhDQUE4QyxPQUEwQyxFQUFFLEdBQVc7SUFDbkcsSUFBTSxVQUFVLEdBQUcsdUJBQXVCLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDL0MsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLGdDQUFnQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQTtLQUNsRTtBQUNILENBQUM7QUFFRCwwQ0FBMEMsTUFBd0IsRUFBRSxVQUFrQjtJQUNwRixJQUFNLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUE7SUFDNUMsSUFBSSxPQUFPLHFCQUFxQixJQUFJLFVBQVUsRUFBRTtRQUM5QyxPQUFPLEVBQUUsVUFBVSxZQUFBLEVBQUUscUJBQXFCLHVCQUFBLEVBQUUsQ0FBQTtLQUM3QztBQUNILENBQUM7QUFFRCxNQUFNLGtDQUFrQyxHQUFXO0lBQ2pELElBQU0sV0FBVyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyx3Q0FBd0MsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ2xGLElBQUksV0FBVyxFQUFFO1FBQ2YsT0FBTyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFBO0tBQzNEO0FBQ0gsQ0FBQyJ9"],"sourceRoot":""}